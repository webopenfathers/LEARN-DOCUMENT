# â–  ç¬¦å·è¯´æ˜

ğŸ’˜ è¯¾é¢˜   

ğŸ ä¼ä¸šçº§é¢è¯•é¢˜

â­ï¸ é‡è¦çŸ¥è¯†ç‚¹

ğŸŒ› éœ€è¦æœ‰å½±å“

â„ï¸ è¶…çº² 



# ğŸ’˜ typescript

# ğŸğŸğŸ anyã€unknownç±»å‹åŒºåˆ«

```
1ï¸âƒ£ any å¯ä»¥å®Œå…¨ä¸å—ç±»å‹ç³»ç»Ÿçš„çº¦æŸï¼Œä½ å¯ä»¥å¾ˆè‡ªç”±çš„å»ä½¿ç”¨å®ƒï¼Œè€Œä¸ç”¨å»æ‹…å¿ƒ TS çš„ç±»å‹æ£€æµ‹ã€‚ç”šè‡³å¯ä»¥æŠŠè¿™ä¸ªå˜é‡èµ‹å€¼ç»™ä¸€ä¸ªæ˜ç¡®å£°æ˜ä¸º boolean  çš„å˜é‡ã€‚
2ï¸âƒ£ any å¯ä»¥è®©ä½ å®Œæˆè·³è¿‡ TS çš„ç±»å‹ç³»ç»Ÿçš„æ£€æµ‹ï¼Œä½ å¯ä»¥åœ¨ä¸€äº›ç´§æ€¥çš„æƒ…å†µä½¿ç”¨å®ƒæ¥å¤„ç†ä¸€äº›è®¨åŒçš„ç±»å‹é”™è¯¯é—®é¢˜
3ï¸âƒ£ unknown åˆ™æ¯” any å®‰å…¨ä¸€ç‚¹ï¼Œä½ åŒæ ·çš„å¯ä»¥æŠŠä»»æ„çš„ä¸œè¥¿èµ‹å€¼ç»™ unknownï¼Œä½†ä½ å´ä¸å¯ä»¥ä¸å®‰å…¨çš„ä½¿ç”¨å®ƒã€‚æ€ä¹ˆç†è§£å‘¢ï¼Ÿä¾‹å¦‚è°ƒç”¨ trim() æ–¹æ³•æ—¶ï¼Œä½ éœ€è¦é€šè¿‡ typeof æ¥åˆ¤æ–­å˜é‡ï¼Œç¡®ä¿æ˜¯å­—ç¬¦ä¸²ç±»å‹æ—¶æ‰å¯ä»¥è°ƒç”¨ã€‚åŒæ ·çš„ä½ ä¹Ÿéœ€è¦ç¡®å®šå˜é‡æ˜¯å¸ƒå°”å€¼ï¼Œæ‰å¯ä»¥èµ‹å€¼ç»™ä¸€ä¸ªå£°æ˜ä¸º boolean çš„å˜é‡
â­•ï¸ ç›¸åŒç‚¹ï¼šany å’Œ unknown åœ¨ TS ä¸­åƒæ˜¯è¶…çº§/é¡¶çº§ç±»å‹çš„å­˜åœ¨ï¼Œä»»æ„ç±»å‹çš„å˜é‡éƒ½å¯ä»¥èµ‹å€¼ç»™å®ƒä»¬ï¼Œè¿™ä¹Ÿæ˜¯ any å’Œ unknown å”¯ä¸€ç›¸åŒçš„åœ°æ–¹
âŒ ä¸åŒç‚¹ï¼šunknown éœ€è¦å…ˆè¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œæ‰å¯ä»¥æ‰§è¡Œç›¸åº”çš„ç±»å‹æ“ä½œã€‚æ‰€ä»¥ unknown å¯ä»¥è¢«çœ‹æˆæ˜¯æ›´å®‰å…¨çš„ any


ç›¸åŒç‚¹ï¼š
const a: any = ä»»æ„ç±»å‹æ•°æ®
const a: unknown = ä»»æ„ç±»å‹æ•°æ®

ä¸åŒç‚¹ï¼š
- è¯´æ³•1ï¼šunknown éœ€è¦å…ˆè¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œæ‰å¯ä»¥æ‰§è¡Œç›¸åº”çš„ç±»å‹æ“ä½œã€‚æ‰€ä»¥ unknown å¯ä»¥è¢«çœ‹æˆæ˜¯æ›´å®‰å…¨çš„ any
- è¯´æ³•2ï¼šåœ¨æ‰§è¡Œå¤§å¤šæ•°æ“ä½œä¹‹å‰ï¼Œä¼šè¿›è¡ŒæŸç§å½¢å¼çš„æ£€æŸ¥ã€‚ã€‚æ‰€ä»¥ unknown å¯ä»¥è¢«çœ‹æˆæ˜¯æ›´å®‰å…¨çš„ any

let foo: any = 123;
console.log(foo.msg); // ç¬¦åˆTSçš„è¯­æ³•
let a_value1: unknown = foo;   // OK
let a_value2: any = foo;      // OK
let a_value3: string = foo;   // OK


let bar: unknown = 222; // OK 
console.log(bar.msg); // Error
let k_value1: unknown = bar;   // OK
let K_value2: any = bar;      // OK
let K_value3: string = bar;   // Error
```

# ğŸğŸğŸ anyã€voidã€neveråŒºåˆ«

```
anyï¼ˆä»»æ„ç±»å‹ï¼‰
voidï¼ˆæ— ç±»å‹   ä¸ any ç±»å‹ç›¸åï¼Œå®ƒè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ã€‚å½“ä¸€ä¸ªã€å‡½æ•°ã€‘æ²¡æœ‰è¿”å›å€¼ï¼Œé€šå¸¸ä½¿ç”¨å®ƒè¡¨ç¤ºï¼‰   
neverï¼ˆæ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ ã€‚é€šå¸¸æ˜¯æŠ›å‡ºå¼‚å¸¸æˆ–è€…æ°¸è¿œä¸ä¼šæœ‰è¿”å›å€¼çš„ç±»å‹ï¼‰ 
```



# ğŸğŸğŸ tsæ–°å¢äº†å“ªäº›æ•°æ®ç±»å‹

````
| js åŸæœ‰ç±»å‹ | ts æ–°å¢æ•°æ®ç±»å‹                                              |
| ----------- | ------------------------------------------------------------ |
| null        | âœ¨âœ¨âœ¨string |number ï¼ˆè”åˆç±»å‹ï¼‰                                 |
| undefined   | âœ¨âœ¨âœ¨anyï¼ˆä»»æ„ç±»å‹ï¼‰                                              |
| boolean     | unknownï¼ˆä¸è¯¦çš„/æœªçŸ¥ç±»å‹ï¼‰                                   |
| number      | âœ¨âœ¨âœ¨type ç±»å‹åˆ«åï¼ˆ è‡ªå®šä¹‰ç±»å‹ï¼‰                                 |
| string      | tupleï¼ˆå…ƒç»„   è¡¨ç¤ºä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ï¼Œå„å…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒï¼‰ |
| symbol      | âœ¨enumï¼ˆæšä¸¾  ä½¿ç”¨æšä¸¾ç±»å‹å¯ä»¥ä¸º**ä¸€ç»„æ•°å€¼**èµ‹äºˆ**å‹å¥½çš„åå­—**ï¼‰  ORDER_PAY 0   ORDER_NO_PAY 1 |
| bigint      | âœ¨âœ¨âœ¨ voidï¼ˆæ— ç±»å‹   ä¸ any ç±»å‹ç›¸åï¼Œå®ƒè¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹ã€‚å½“ä¸€ä¸ªå‡½æ•°æ²¡æœ‰è¿”å›å€¼ï¼Œé€šå¸¸ä½¿ç”¨å®ƒè¡¨ç¤ºï¼‰ |
| object      | neverï¼ˆæ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»å‹ ã€‚é€šå¸¸æ˜¯æŠ›å‡ºå¼‚å¸¸æˆ–è€…æ°¸è¿œä¸ä¼šæœ‰è¿”å›å€¼çš„ç±»å‹ï¼‰ |
|             | å­—é¢é‡ç±»å‹                                                   |
|             | ç­‰                                                           |
````





# ğŸğŸğŸtsä¼šä¸ä¼šç”¨? 

ä¼š



# ğŸğŸğŸinterfaceã€typeåŒºåˆ« 

> é¢è¯•é¢˜ï¼šåŒºåˆ«
>
> ```
> type å¯ä»¥è¡¨ç¤ºåŸå§‹ç±»å‹ï¼Œinterface ä¸èƒ½
> type å¯ä»¥å£°æ˜è”åˆç±»å‹å’Œäº¤å‰ç±»å‹ï¼Œinterface ä¸èƒ½ï¼Œä½†æ˜¯interface extends
> type é‡åæŠ¥é”™ï¼Œinterfaceäº¤å‰
> ...
> ```
>
> é¡¹ç›®ç”¨ï¼šå¦‚ä½•é€‰æ‹©
>
> ```
> é¡¹ç›®å¼€å‘ä¼˜å…ˆ interface ä¹Ÿæ¯”è¾ƒæ­£ç»Ÿï¼Œå½“æ— æ³•æ»¡è¶³éœ€æ±‚çš„æƒ…å†µä¸‹ç”¨ typeã€‚
> - å¤‡æ³¨1ï¼š å› ä¸º è”åˆç±»å‹ å’Œ äº¤å‰ç±»å‹ æ˜¯å¾ˆå¸¸ç”¨çš„ï¼Œæ‰€ä»¥é¿å…ä¸äº†å¤§é‡ä½¿ç”¨ type çš„åœºæ™¯ï¼Œä¸€äº›å¤æ‚ç±»å‹ä¹Ÿéœ€è¦é€šè¿‡ç»„è£…åå½¢æˆç±»å‹åˆ«åæ¥ä½¿ç”¨ã€‚
> - å¤‡æ³¨2ï¼š æƒ³ä¿æŒä»£ç ç»Ÿä¸€ï¼Œè¿˜æ˜¯å¯é€‰æ‹©ä½¿ç”¨ type ï¼ˆä¸æ¨èï¼‰
> - å¤‡æ³¨3ï¼š ç¼–å†™ä¸‰æ–¹åº“æ—¶ä½¿ç”¨interfaceï¼Œå…¶æ›´åŠ çµæ´»è‡ªåŠ¨çš„ç±»å‹åˆå¹¶å¯åº”å¯¹æœªçŸ¥çš„å¤æ‚ä½¿ç”¨åœºæ™¯ã€‚
> ```





typeè¯­æ³•ï¼šç±»å‹åˆ«åä¸ä»…å¯ä»¥ç”¨æ¥è¡¨ç¤ºåŸºæœ¬ç±»å‹ï¼Œè¿˜å¯ä»¥ç”¨æ¥è¡¨ç¤ºå¯¹è±¡ç±»å‹ã€è”åˆç±»å‹ã€å…ƒç»„å’Œäº¤å‰ç±»å‹

````
type Type1 = string; 							  // åŸºæœ¬ç±»å‹

type Type2 = { a:numer, b: number}  // å¯¹è±¡ç±»å‹
type Type21 = any[]
type Type22 = (data1:string)=>any

type Type3 = string | number  			  // è”åˆç±»å‹
type Type4 = [number, string]         // å…ƒç»„
type Type5 = {a:number} & {b:number}  // äº¤å‰ï¼ˆç±»ä¼¼äºç»§æ‰¿ï¼‰
type Type6<T> = { value: T } 	  	  	// æ³›å‹


// å®ç°
type Animal = {
	eat(food: string): void
}
class Dog implements Animal {
	eat(food: string): void {
		console.log('eatï¼š', food)
	}
}
````

interfaceè¯­æ³•ï¼šæ¥å£ æ˜¯å‘½åæ•°æ®ç»“æ„ï¼ˆä¾‹å¦‚å¯¹è±¡ï¼‰çš„å¦ä¸€ç§æ–¹å¼ï¼›ä¸type ä¸åŒï¼Œinterfaceä»…é™äºæè¿°å¯¹è±¡ç±»å‹ã€‚

```
interface Type2 { a:number,b:number }			// å¯¹è±¡ç±»å‹
interface Type22 { [index:number]:any }
interface Type23 { (data1:string)=>any }

interface Type5 extends çˆ¶ç±»å‹
interface Type6<T> { a:T,b:number }

// å®ç°
interface Animal {
	eat(food: string): void
}
class Dog implements Animal {
	eat(food: string): void {
		console.log('eatï¼š', food)
	}
}
```



# ğŸğŸğŸ tsçš„æ³›å‹åº”ç”¨åœºæ™¯ï¼Ÿ

vue  ref

vue reacive

vue  useAxios  Promise<T> åç«¯è¿”å›æ•°æ®

vue  API.Result<T> {}



react useState<ç±»å‹>()

react Component<Props, State>

react FC<Props>



# ğŸŒ› ä¿®é¥°ç¬¦public/protected/private/readonly

public é»˜è®¤ä¿®é¥°ç¬¦ï¼ŒTypeScriptä¸­ç±»ä¸­çš„æˆå‘˜é»˜è®¤ä¸ºpublic

private ç±»çš„æˆå‘˜ä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨è®¿é—®ï¼Œå­ç±»ä¹Ÿä¸å¯ä»¥

protected ç±»çš„æˆå‘˜ä¸èƒ½åœ¨ç±»çš„å¤–éƒ¨è®¿é—®ï¼Œä½†æ˜¯å­ç±»ä¸­å¯ä»¥è®¿é—®ã€‚å¦‚æœä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°ï¼Œä¿®é¥°ç¬¦ä¸ºprotectedï¼Œé‚£ä¹ˆæ­¤ç±»åªèƒ½è¢«ç»§æ‰¿ï¼Œæ— æ³•å®ä¾‹åŒ–ã€‚

readonly å…³é”®å­—`readonly`å¯ä»¥å°†å®ä¾‹çš„å±æ€§ï¼Œè®¾ç½®ä¸ºåªè¯»

```
					
	public  	 è‡ªèº«	å­ç±»	å¤–éƒ¨
	protected   è‡ªèº«	å­ç±» 
	private     è‡ªèº«


class Animal
{
    public a = 1
    protected b = 2
    private c = 3
}

class Dog extends Animal {

    readonly d = 4

    constructor() {
        super()
        console.log(1, this.a)
    }
}

const dog1 = new Dog
console.log(2, dog1.a)
console.log(3, dog1.d)
// dog1.d = 44
```





# tsäº†è§£è¿‡å—ï¼Œå’ŒjsåŒºåˆ«

# typeScriptç”¨çš„æ€ä¹ˆæ ·ï¼Ÿå¥½ç”¨ä¹ˆï¼Ÿä¸€èˆ¬ç”¨åˆ°ä»€ä¹ˆï¼Ÿä½ è§‰å¾—æ˜¯å¦è¦ç”¨å‘¢ï¼Ÿä¹Ÿå°±æ˜¯å¥½å¤„æ˜¯å•¥å‘¢ï¼Ÿæ€ä¹ˆå†™çš„ï¼Ÿ

# ä½ å¯¹TSçš„äº†è§£ä»¥åŠæ³›å‹





# ğŸ’˜ day1

# ğŸğŸğŸvueå’ŒreactåŒºåˆ«ã€vue2å’Œvue3åŒºåˆ«

æ€è€ƒï¼šå¦‚æœä½ æ˜¯é¢è¯•å®˜ä½ é—® v2å’Œv3åŒºåˆ«   vueå’ŒreactåŒºåˆ« ä½ æƒ³å¬åˆ°ä»€ä¹ˆæˆ–è€…å¯ä»¥ä»å‡ ä¸ªç»´åº¦å»å›ç­”

å›ç­”ï¼š

- ç¬¬ä¸€ç§ï¼šæ‹¿å‡ºè¯­æ³•åŒºåˆ«æŒ¨ä¸ªè¯´   ä¾‹å¦‚  v3ç›¸å¯¹v2ä¸æ”¯æŒè¿‡æ»¤å™¨ã€æ··å…¥ï¼›....
- ç¬¬äºŒç§ï¼šæ¡†æ¶å±‚é¢æ€æƒ³ä¸Šè®¾è®¡ä¸Šã€è¯­æ³•å±‚é¢ã€åº•å±‚åŸç†



æµ‹è¯•ï¼šv2ã€v3

> æ¡†æ¶å±‚é¢æ€æƒ³è®¾è®¡ä¸Š
>
> ```
> - v2ä¸è´´è¿‘åŸç”Ÿå¾ˆå¤šå°è£…å¥½äº† ç†è§£èµ·æ¥æŠ½è±¡   ä¸æ–¹ä¾¿äºŒé˜¶æ®µå­¦å®Œå¾ˆå¥½å¸æ”¶ï¼›v3  å®šä¹‰å˜é‡å°±æ˜¯æ¨¡å‹æ•°æ®è§†å›¾å¯ä»¥æ˜¾ç¤ºï¼Œä½†æ˜¯æ²¡æœ‰å“åº”å¼  refã€reactive  å†æ¯”å¦‚æ–¹æ³• ä¸éœ€è¦å†™ä¸ªæŠ½è±¡çš„methods  ç›´æ¥å†™æ–¹æ³• 
> - è¿˜æœ‰å»æ‰äº†æŠ½è±¡çš„è¿‡æ»¤å™¨ã€æ··å…¥   è€Œæ˜¯é€šè¿‡hooks  å…¶å®å°±æ˜¯å‡½æ•° 
> - composition apiã€ hooks
> - ts
> - webapck  æ”¹æˆ  vite 
> - vuex æ”¹æˆ pinia   åˆ‡è®°ç»†å“piniaå‘å±•å²  å…ˆå»æ‰mutations  åæ¥ç›´æ¥é‡Œé¢å†™composition api
>   ç­‰ç­‰
> ```
>
> è¯­æ³•å±‚é¢ï¼šåŒå‘ç»‘å®šã€ä¾¦å¬å™¨watch/watchEffectã€ç»„ä»¶å®ä¾‹éœ€è¦æš´éœ²å±æ€§æ‰å¯ä»¥å¤–éƒ¨ä½¿ç”¨public/privateã€ç”Ÿå‘½å‘¨æœŸã€æ ·å¼:deep/:globalã€å¢åŠ teleportã€emitsã€Fragmentsã€Composition APIã€sfc script setupç­‰ç­‰
>
> åº•å±‚åŸç†ï¼šObject.definePropertyã€Proxyï¼›  diffç®—æ³•åŒºåˆ«

æµ‹è¯•ï¼švueã€reactåŒºåˆ« 

> ç»„ä»¶åŒ–ï¼šVueçš„ç»„ä»¶åŒ–æ›´åŠ ç›´æ¥ï¼Œå› ä¸ºç»„ä»¶åŒ…å«äº†æ¨¡æ¿ã€é€»è¾‘å’Œæ ·å¼ï¼›è€ŒReactçš„ç»„ä»¶åŒ–æ›´åŠ çµæ´»ï¼Œå®ƒåªå…³æ³¨é€»è¾‘ï¼Œæ ·å¼å¯ä»¥ä½¿ç”¨å¤–éƒ¨çš„CSSæ–‡ä»¶æˆ–åº“ã€‚
>
> ```
> - ç›¸åŒç‚¹ 
> reactå’Œvueéƒ½æ¨å´‡ç»„ä»¶åŒ–ï¼Œé€šè¿‡å°†é¡µé¢æ‹†åˆ†æˆä¸€ä¸ªä¸€ä¸ªå°çš„å¯å¤ç”¨å•å…ƒæ¥æé«˜ä»£ç çš„å¤ç”¨ç‡å’Œå¼€å‘æ•ˆç‡ã€‚ åœ¨å¼€å‘æ—¶reactå’Œvueæœ‰ç›¸åŒçš„å¥—è·¯ï¼Œæ¯”å¦‚éƒ½æœ‰çˆ¶å­ç»„ä»¶ä¼ å‚ï¼Œéƒ½æœ‰æ•°æ®çŠ¶æ€ç®¡ç†ï¼Œéƒ½æœ‰å‰ç«¯è·¯ç”±ç­‰ã€‚
> 
> - ä¸åŒç‚¹ï¼š.vue templateã€scriptã€style      .js/jsx/tsx     è¿”å›functionã€class  
> Reactæ¨èçš„åšæ³•æ˜¯JSX + inline style, ä¹Ÿå°±æ˜¯æŠŠ HTML å’Œ CSS å…¨éƒ½å†™è¿› JavaScript ä¸­,å³ all in js;
> Vue æ¨èçš„åšæ³•æ˜¯ template çš„å•æ–‡ä»¶ç»„ä»¶æ ¼å¼(ç®€å•æ˜“æ‡‚ï¼Œä»ä¼ ç»Ÿå‰ç«¯è½¬è¿‡æ¥æ˜“äºç†è§£),å³ html,css,JS å†™åœ¨åŒä¸€ä¸ªæ–‡ä»¶(vueä¹Ÿæ”¯æŒJSXå†™æ³•)
> ```
>
> æ¨¡æ¿è¯­æ³•ï¼šVueä½¿ç”¨åŸºäºHTMLçš„æ¨¡æ¿è¯­æ³•ï¼Œè€ŒReactä½¿ç”¨JSXè¯­æ³•ï¼Œå®ƒå°†HTMLåµŒå…¥åˆ°JavaScriptä»£ç ä¸­ã€‚
>
> çŠ¶æ€ç®¡ç†ï¼šVueä½¿ç”¨åä¸ºVuexã€PIniaçš„çŠ¶æ€ç®¡ç†åº“ï¼Œè€ŒReactåˆ™ä½¿ç”¨ä¸€ä¸ªåä¸ºReduxçš„åº“ã€å’ŒåŸºäºReduxå°è£…çš„Dvaæ¨¡å—
>
> ç”Ÿæ€ç³»ç»Ÿï¼šReactçš„ç”Ÿæ€ç³»ç»Ÿæ›´åŠ åºå¤§ï¼Œæ‹¥æœ‰æ›´å¤šçš„ç¬¬ä¸‰æ–¹åº“å’Œå·¥å…·ã€‚Vueç”Ÿæ€ç³»ç»Ÿä¹Ÿå¾ˆå¼ºå¤§ï¼Œä½†æ˜¯ç›¸å¯¹æ¥è¯´è¾ƒå°ã€‚å¤§å‚åŠ æŒ
>
> å­¦ä¹ æ›²çº¿ï¼šç”±äºVueçš„æ¨¡æ¿è¯­æ³•å’Œç›´è§‚çš„APIï¼Œå­¦ä¹ Vueç›¸å¯¹æ¥è¯´æ¯”è¾ƒå®¹æ˜“ã€‚è€ŒReactçš„JSXè¯­æ³•å’Œå‡½æ•°å¼ç¼–ç¨‹é£æ ¼ï¼Œéœ€è¦ä¸€å®šçš„JavaScriptçŸ¥è¯†å’Œå‡½æ•°å¼ç¼–ç¨‹ç†å¿µã€‚
>
> ç§»åŠ¨å¼€å‘ï¼šweexå¼€å‘app   uniappã€     rn/react native å¼€å‘app
>
> å¼€å‘å›¢é˜Ÿï¼šå°¤é›¨æºªå›¢é˜Ÿã€Facebook
>
> æ•°æ®å“åº”ï¼šVue çš„æ•°æ®å“åº”é‡‡ç”¨çš„æ˜¯åŒå‘ç»‘å®šæ–¹å¼ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹æ•°æ®å’Œè§†å›¾ï¼›React çš„æ•°æ®å“åº”é‡‡ç”¨çš„æ˜¯å•å‘æ•°æ®æµæ–¹å¼ï¼Œéœ€è¦æ‰‹åŠ¨æ›´æ–°æ•°æ®å’Œè§†å›¾ã€‚
>
> æœ€ç»ˆï¼švue å®˜æ–¹åŒ–ï¼› react ç¤¾åŒºåŒ–   





# ğŸ jsxçš„ä¼˜ç‚¹

1ã€JSX æ›´åŠ çµæ´»ï¼ŒJSX æ‰§è¡Œæ›´å¿«ï¼Œå› ä¸ºå®ƒåœ¨ç¼–è¯‘ä¸º JavaScript ä»£ç åè¿›è¡Œäº†ä¼˜åŒ–

2ã€Template æ›´å¤šçº¦æŸã€ç±»å‹å®‰å…¨çš„ï¼Œåœ¨ç¼–è¯‘è¿‡ç¨‹ä¸­å°±èƒ½å‘ç°é”™è¯¯

ç­‰ç­‰



> JSX æ˜¯ä¸€ç§ JavaScript è¯­æ³•æ‰©å±•ï¼Œæ˜¯ React ä¸­å®šä¹‰ UI çš„ä¸€ç§æ–¹å¼ã€‚ç›¸å¯¹äºä¼ ç»Ÿçš„æ¨¡æ¿è¯­è¨€ï¼ŒJSX å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š
>
> 1. æ›´åŠ ç›´è§‚
>
> JSX å¯ä»¥å°† HTML å’Œ JavaScript ä»£ç æ··åˆåœ¨ä¸€èµ·ç¼–å†™ï¼Œä½¿å¾—ä»£ç æ›´åŠ ç›´è§‚å’Œæ˜“äºç†è§£ã€‚å¼€å‘è€…å¯ä»¥åœ¨ç»„ä»¶ä¸­è½»æ¾åœ°ç¼–å†™ HTML æ ‡è®°å’Œé€»è¾‘ä»£ç ï¼Œä¸éœ€è¦åœ¨æ¨¡æ¿å’Œä»£ç ä¹‹é—´æ¥å›åˆ‡æ¢ã€‚
>
> 1. æ›´åŠ çµæ´»
>
> JSX å¯ä»¥åœ¨ JavaScript ä¸­ä½¿ç”¨è¡¨è¾¾å¼å’Œå˜é‡ï¼Œå¯ä»¥æ ¹æ®é€»è¾‘åŠ¨æ€ç”Ÿæˆç»„ä»¶å’Œå…ƒç´ ï¼Œä½¿å¾—å¼€å‘æ›´åŠ çµæ´»ã€‚JSX å¯ä»¥ä½¿ç”¨ JavaScript çš„æ‰€æœ‰ç‰¹æ€§ï¼Œå¦‚å¾ªç¯ã€æ¡ä»¶è¯­å¥ã€å‡½æ•°è°ƒç”¨ç­‰ã€‚
>
> 1. æ›´åŠ å¼ºå¤§
>
> JSX å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶ã€äº‹ä»¶å¤„ç†å™¨ã€æ ·å¼ã€å±æ€§ç­‰åŠŸèƒ½ï¼Œå¯ä»¥åˆ›å»ºå¤æ‚çš„ UI ç•Œé¢ã€‚ä½¿ç”¨ JSX å¯ä»¥æ›´å¥½åœ°ç»„ç»‡ä»£ç ï¼Œä½¿å¾—ä»£ç æ›´åŠ æ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚
>
> 1. æ›´åŠ é«˜æ•ˆ
>
> JSX å¯ä»¥åœ¨ç¼–è¯‘æ—¶è¿›è¡Œä¼˜åŒ–ï¼Œå¯ä»¥ç”Ÿæˆæ›´åŠ é«˜æ•ˆçš„ JavaScript ä»£ç ï¼Œæé«˜åº”ç”¨ç¨‹åºçš„æ€§èƒ½ã€‚JSX ç¼–è¯‘å™¨å¯ä»¥å°† JSX è½¬æ¢ä¸ºå¸¸è§„çš„ JavaScript å‡½æ•°è°ƒç”¨ï¼Œè¿™äº›å‡½æ•°è°ƒç”¨ä¼šåˆ›å»º React å…ƒç´ å¯¹è±¡ï¼Œä»è€Œæé«˜äº†æ¸²æŸ“æ•ˆç‡ã€‚
>
> æ€»çš„æ¥è¯´ï¼ŒJSX å…·æœ‰æ›´åŠ ç›´è§‚ã€çµæ´»ã€å¼ºå¤§å’Œé«˜æ•ˆç­‰ä¼˜ç‚¹ï¼Œä½¿å¾— React å¼€å‘æ›´åŠ ä¾¿æ·å’Œé«˜æ•ˆã€‚ä½†æ˜¯ï¼Œå¯¹äºä¸€äº›å¼€å‘è€…æ¥è¯´ï¼Œå¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´æ¥é€‚åº” JSX çš„è¯­æ³•å’Œç¼–å†™æ–¹å¼ã€‚



# ğŸŒ› babelåŸç†

Babel æ˜¯ä¸€ä¸ª JavaScript ç¼–è¯‘å™¨ï¼Œå®ƒå¯ä»¥å°†æœ€æ–°ç‰ˆçš„ ECMAScript ä»£ç è½¬æ¢ä¸ºå‘åå…¼å®¹çš„ä»£ç ï¼Œä»¥ä¾¿åœ¨æ—§ç‰ˆæµè§ˆå™¨æˆ–å…¶ä»– JavaScript ç¯å¢ƒä¸­è¿è¡Œã€‚Babel çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯å°† ECMAScript ä»£ç è½¬æ¢ä¸º JavaScript ASTï¼ˆæŠ½è±¡è¯­æ³•æ ‘ï¼‰ï¼Œç„¶åæ ¹æ®ä¸€ç»„è§„åˆ™ï¼ˆç§°ä¸ºæ’ä»¶ï¼‰å¯¹ AST è¿›è¡Œå˜æ¢ï¼Œæœ€åå°†å˜æ¢åçš„ AST è½¬æ¢ä¸º JavaScript ä»£ç ã€‚

ä¸‹é¢æ˜¯ Babel çš„ç¼–è¯‘è¿‡ç¨‹ï¼š

1. è§£æï¼šå°† ECMAScript ä»£ç è§£ææˆæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ã€‚
2. è½¬æ¢ï¼šå¯¹ AST è¿›è¡Œè½¬æ¢ï¼Œå¯ä»¥æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤èŠ‚ç‚¹ç­‰æ“ä½œï¼Œä¾‹å¦‚å°† ES6 çš„ç®­å¤´å‡½æ•°è½¬æ¢ä¸º ES5 çš„å‡½æ•°è¡¨è¾¾å¼ã€‚
3. ç”Ÿæˆï¼šæ ¹æ®å˜æ¢åçš„ AST ç”Ÿæˆæ–°çš„ ECMAScript ä»£ç ã€‚

Babel çš„æ’ä»¶ç³»ç»Ÿæ˜¯ Babel çš„æ ¸å¿ƒï¼Œå®ƒå…è®¸å¼€å‘è€…æ ¹æ®éœ€è¦æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹ AST èŠ‚ç‚¹ï¼Œä»¥è¾¾åˆ°æ‰€éœ€çš„è½¬æ¢æ•ˆæœã€‚Babel å†…ç½®äº†å¾ˆå¤šæ’ä»¶ï¼ŒåŒæ—¶è¿˜æœ‰å¾ˆå¤šç¤¾åŒºç»´æŠ¤çš„æ’ä»¶ä¾›ä½¿ç”¨ã€‚

Babel è¿˜æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼šé¢„è®¾ï¼ˆpresetï¼‰ã€‚é¢„è®¾æ˜¯ä¸€ç»„æ’ä»¶çš„é›†åˆï¼Œå¯ä»¥ç›´æ¥ç”¨äºå¯¹ä»£ç çš„ç¼–è¯‘ã€‚Babel å®˜æ–¹æä¾›äº†å¾ˆå¤šé¢„è®¾ï¼Œä¾‹å¦‚ babel-preset-envã€babel-preset-react ç­‰ã€‚é¢„è®¾é€šå¸¸æ˜¯é’ˆå¯¹æŸç§åœºæ™¯æˆ–åº”ç”¨å¼€å‘çš„ï¼Œå¯ä»¥å‡å°‘å¼€å‘è€…é…ç½®æ’ä»¶çš„æ—¶é—´å’Œç²¾åŠ›ã€‚

Babel åœ¨ç¼–è¯‘æ—¶è¿˜æœ‰ä¸€äº›é‡è¦çš„æ¦‚å¿µï¼Œä¾‹å¦‚ polyfillã€source map ç­‰ã€‚polyfill æ˜¯åœ¨ç¼–è¯‘æ—¶è‡ªåŠ¨æ·»åŠ åˆ°ä»£ç ä¸­çš„è¡¥ä¸ï¼Œç”¨äºå®ç°ä¸€äº›åœ¨å½“å‰ JavaScript è¿è¡Œç¯å¢ƒä¸­ä¸æ”¯æŒçš„ç‰¹æ€§ã€‚source map æ˜¯ä¸€ç§æ˜ å°„å…³ç³»ï¼Œå®ƒå°†ç¼–è¯‘åçš„ä»£ç æ˜ å°„å›åŸå§‹ä»£ç ï¼Œæ–¹ä¾¿å¼€å‘è€…åœ¨è°ƒè¯•æ—¶å¿«é€Ÿå®šä½é—®é¢˜ã€‚

æ€»ä¹‹ï¼ŒBabel çš„åŸç†æ˜¯å°† ECMAScript ä»£ç è½¬æ¢ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ï¼Œç„¶åæ ¹æ®ä¸€ç»„è§„åˆ™å¯¹ AST è¿›è¡Œå˜æ¢ï¼Œæœ€åå°†å˜æ¢åçš„ AST è½¬æ¢ä¸º JavaScript ä»£ç ã€‚Babel çš„æ’ä»¶ç³»ç»Ÿå’Œé¢„è®¾æ˜¯ Babel çš„æ ¸å¿ƒï¼Œå®ƒä»¬å¯ä»¥å¸®åŠ©å¼€å‘è€…å®ç°æ‰€éœ€çš„è½¬æ¢æ•ˆæœã€‚





# ğŸŒ› ç±»ç»„ä»¶ç»§æ‰¿èƒ½ç»§æ‰¿å“ªäº›ä¸œè¥¿

åœ¨ React ä¸­ï¼Œç±»ç»„ä»¶å¯ä»¥é€šè¿‡ç»§æ‰¿ React.Component ç±»æ¥åˆ›å»ºã€‚ç»§æ‰¿ React.Component ç±»åï¼Œç±»ç»„ä»¶å¯ä»¥è·å¾—ä»¥ä¸‹åŠŸèƒ½ï¼š

1. State çŠ¶æ€ï¼šç±»ç»„ä»¶å¯ä»¥å®šä¹‰ state çŠ¶æ€ï¼Œç”¨äºå­˜å‚¨ç»„ä»¶å†…éƒ¨çš„æ•°æ®ã€‚å¯ä»¥é€šè¿‡ this.state è®¿é—® state çŠ¶æ€ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ this.setState æ–¹æ³•æ›´æ–° state çŠ¶æ€ã€‚
2. ç”Ÿå‘½å‘¨æœŸï¼šReact æä¾›äº†ä¸€ç»„ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œå¯ä»¥åœ¨ç»„ä»¶çš„ä¸åŒé˜¶æ®µæ‰§è¡Œç‰¹å®šçš„ä»£ç é€»è¾‘ã€‚ç±»ç»„ä»¶å¯ä»¥é€šè¿‡é‡å†™è¿™äº›ç”Ÿå‘½å‘¨æœŸå‡½æ•°æ¥è‡ªå®šä¹‰ç»„ä»¶çš„è¡Œä¸ºã€‚
3. Props å±æ€§ï¼šç±»ç»„ä»¶å¯ä»¥é€šè¿‡ this.props è®¿é—®ä¼ é€’ç»™ç»„ä»¶çš„å±æ€§ã€‚è¿™äº›å±æ€§æ˜¯åªè¯»çš„ï¼Œä¸èƒ½åœ¨ç»„ä»¶å†…éƒ¨ä¿®æ”¹ã€‚
4. Refs å¼•ç”¨ï¼šç±»ç»„ä»¶å¯ä»¥é€šè¿‡ Refs å¼•ç”¨æ¥è®¿é—®ç»„ä»¶å†…éƒ¨çš„ DOM å…ƒç´ æˆ–å­ç»„ä»¶å®ä¾‹ã€‚
5. äº‹ä»¶å¤„ç†å‡½æ•°ï¼šç±»ç»„ä»¶å¯ä»¥å®šä¹‰äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œç”¨äºå“åº”ç”¨æˆ·çš„äº¤äº’è¡Œä¸ºï¼Œä¾‹å¦‚ç‚¹å‡»ã€æ»šåŠ¨ç­‰ã€‚
6. Context ä¸Šä¸‹æ–‡ï¼šç±»ç»„ä»¶å¯ä»¥é€šè¿‡ Context æ¥å®ç°è·¨ç»„ä»¶çš„æ•°æ®å…±äº«ã€‚

é™¤äº†ç»§æ‰¿ React.Component ç±»ä¹‹å¤–ï¼Œç±»ç»„ä»¶è¿˜å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»æˆ–ç±»ç»„ä»¶ã€‚è¿™ç§æ–¹å¼å¯ä»¥å®ç°ä»£ç çš„å¤ç”¨å’Œç»§æ‰¿ï¼Œä½†æ˜¯éœ€è¦æ³¨æ„é¿å…å‡ºç°æ·±å±‚æ¬¡çš„ç»§æ‰¿å…³ç³»ï¼Œä»¥é¿å…ä»£ç çš„å¤æ‚æ€§å’Œå¯ç»´æŠ¤æ€§é—®é¢˜ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä» React 16.8 å¼€å§‹ï¼ŒReact æ¨å‡ºäº† Hooksï¼Œå¯ä»¥è®©å‡½æ•°ç»„ä»¶ä¹Ÿå…·æœ‰ç±»ä¼¼äºç±»ç»„ä»¶çš„èƒ½åŠ›ï¼Œä¾‹å¦‚çŠ¶æ€ç®¡ç†ã€ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç­‰ã€‚å› æ­¤ï¼Œä½¿ç”¨ Hooks å¯ä»¥é¿å…ç±»ç»„ä»¶ç»§æ‰¿çš„ä¸€äº›é—®é¢˜å’Œé™åˆ¶ï¼Œå»ºè®®åœ¨æ–°çš„é¡¹ç›®ä¸­ä½¿ç”¨ Hooksã€‚





# ğŸŒ› é™¤jsxå¤–ï¼Œreactè¿˜å¯ä»¥ä½¿ç”¨é‚£äº›æ–¹å¼ç¼–å†™UI

1. React.createElement()
2. ç›´æ¥ä½¿ç”¨ React APIs

é™¤äº†ä½¿ç”¨ JSX å’Œ React.createElement()ï¼ŒReact è¿˜æä¾›äº†ä¸€äº›å…¶ä»–çš„ APIï¼Œå¯ä»¥ç›´æ¥æ“ä½œ React ç»„ä»¶å’Œ DOM å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ React.createRef() æ¥åˆ›å»ºä¸€ä¸ª Ref å¼•ç”¨ï¼Œä½¿ç”¨ ReactDOM.render() æ¥å°†ç»„ä»¶æ¸²æŸ“åˆ° DOM ä¸­ï¼Œä½¿ç”¨ ReactDOM.findDOMNode() æ¥è·å–ç»„ä»¶çš„ DOM èŠ‚ç‚¹ç­‰ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶ React æä¾›äº†å¤šç§æ–¹å¼ç¼–å†™ UIï¼Œä½†æ˜¯åœ¨å®é™…å¼€å‘ä¸­ï¼ŒJSX æ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œå› ä¸ºå®ƒå¯ä»¥æ›´æ–¹ä¾¿åœ°ç¼–å†™å’Œé˜…è¯»å¤æ‚çš„ UI ç»“æ„ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ Babel ç­‰å·¥å…·å°† JSX è½¬æ¢ä¸ºæ™®é€šçš„ JavaScript ä»£ç ã€‚



# ğŸğŸğŸ diffç®—æ³•åŒºåˆ«

Vue å’Œ React åœ¨ Virtual DOM Diff ç®—æ³•çš„å®ç°ä¸Šæœ‰ä¸€äº›åŒºåˆ«ã€‚

1. ç­–ç•¥ä¸åŒ

Vue çš„ Diff ç­–ç•¥æ˜¯åŒç«¯æ¯”è¾ƒï¼Œå³ä»ä¸¤ç«¯å‘ä¸­é—´æ¯”è¾ƒã€‚Vue ä¼šå…ˆå¯¹æ–°æ—§èŠ‚ç‚¹åˆ—è¡¨çš„å¤´å°¾è¿›è¡Œæ¯”è¾ƒï¼Œç„¶åç§»åŠ¨æ¯”è¾ƒæŒ‡é’ˆï¼Œå†æ¬¡æ¯”è¾ƒæ–°æ—§èŠ‚ç‚¹åˆ—è¡¨çš„å¤´å°¾ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¿™ç§ç­–ç•¥æ¯”è¾ƒé€‚åˆå¤„ç†å¸¸è§çš„åœºæ™¯ï¼Œä¾‹å¦‚åˆ—è¡¨æœ«å°¾æ’å…¥ã€åˆ é™¤ç­‰æ“ä½œã€‚

React çš„ Diff ç­–ç•¥æ˜¯éå†ç®—æ³•ï¼Œå³éå†æ•´ä¸ª Virtual DOM æ ‘è¿›è¡Œæ¯”è¾ƒã€‚React ä¼šä½¿ç”¨ Fiber æ•°æ®ç»“æ„ï¼Œå°† Virtual DOM æ ‘åˆ†è§£æˆå¤šä¸ªå°çš„ Fiber èŠ‚ç‚¹ï¼Œå¹¶é€šè¿‡ä¼˜å…ˆçº§è°ƒåº¦å’Œåè°ƒç®—æ³•æ¥å†³å®šèŠ‚ç‚¹çš„æ›´æ–°é¡ºåºã€‚è¿™ç§ç­–ç•¥æ¯”è¾ƒé€‚åˆå¤„ç†å¤æ‚çš„åœºæ™¯ï¼Œä¾‹å¦‚èŠ‚ç‚¹ç§»åŠ¨ã€ç»„ä»¶å†…éƒ¨çŠ¶æ€å˜åŒ–ç­‰æ“ä½œã€‚

1. Key çš„å¤„ç†æ–¹å¼ä¸åŒ

Vue å’Œ React åœ¨å¤„ç† Key çš„æ–¹å¼ä¸Šæœ‰ä¸€äº›å·®å¼‚ã€‚

Vue åœ¨è¿›è¡Œ Diff ç®—æ³•æ—¶ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½® Keyï¼Œä¼šé‡‡ç”¨èŠ‚ç‚¹çš„ç´¢å¼•å€¼ä½œä¸º Key è¿›è¡Œæ¯”è¾ƒã€‚å½“åˆ—è¡¨æ•°æ®å˜åŒ–æ—¶ï¼Œå¦‚æœæ–°èŠ‚ç‚¹å’Œæ—§èŠ‚ç‚¹çš„é¡ºåºæ²¡æœ‰å˜åŒ–ï¼Œè€Œåªæ˜¯æ•°æ®å‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ™ Vue ä¼šå¤ç”¨æ—§èŠ‚ç‚¹ï¼Œä»è€Œæé«˜æ¸²æŸ“æ€§èƒ½ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ–°æ—§èŠ‚ç‚¹çš„é¡ºåºå‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ™ä¼šé€ æˆä¸å¿…è¦çš„ DOM æ“ä½œï¼Œå½±å“æ€§èƒ½ã€‚

React å¼ºåˆ¶è¦æ±‚è®¾ç½® Keyï¼Œç”¨æ¥æ ‡è¯†åˆ—è¡¨ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹ã€‚å½“åˆ—è¡¨æ•°æ®å˜åŒ–æ—¶ï¼ŒReact ä¼šæ ¹æ®æ–°æ—§èŠ‚ç‚¹çš„ Key è¿›è¡Œæ¯”è¾ƒï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹çš„é¡ºåºã€‚è¿™ç§æ–¹å¼å¯ä»¥é¿å…ä¸å¿…è¦çš„ DOM æ“ä½œï¼Œæé«˜æ¸²æŸ“æ€§èƒ½ã€‚

1. Diff ç®—æ³•å¤æ‚åº¦ä¸åŒ

Vue çš„ Diff ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ï¼Œå³çº¿æ€§å¤æ‚åº¦ã€‚å› ä¸º Vue çš„ Diff ç®—æ³•é‡‡ç”¨çš„æ˜¯åŒç«¯æ¯”è¾ƒç­–ç•¥ï¼Œæ‰€ä»¥åœ¨å¸¸è§çš„åˆ—è¡¨æœ«å°¾æ’å…¥ã€åˆ é™¤ç­‰æ“ä½œæ—¶ï¼Œæ€§èƒ½è¡¨ç°æ¯”è¾ƒä¼˜ç§€ã€‚

React çš„ Diff ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n log n)ï¼Œå³å¯¹æ•°å¤æ‚åº¦ã€‚å› ä¸º React çš„ Diff ç®—æ³•é‡‡ç”¨çš„æ˜¯éå†ç®—æ³•ï¼Œæ‰€ä»¥åœ¨å¤æ‚çš„åœºæ™¯ä¸‹ï¼Œä¾‹å¦‚èŠ‚ç‚¹ç§»åŠ¨ã€ç»„ä»¶å†…éƒ¨çŠ¶æ€å˜åŒ–ç­‰æ“ä½œï¼Œæ€§èƒ½è¡¨ç°æ¯”è¾ƒä¼˜ç§€ã€‚

æ€»çš„æ¥è¯´ï¼ŒVue å’Œ React çš„ Diff ç®—æ³•æœ‰ä¸€äº›å·®å¼‚ã€‚Vue çš„ Diff ç®—æ³•é‡‡ç”¨çš„æ˜¯åŒç«¯æ¯”è¾ƒç­–ç•¥ï¼Œæ€§èƒ½è¡¨ç°æ¯”è¾ƒä¼˜ç§€ï¼Œä½†åœ¨å¤æ‚åœºæ™¯ä¸‹å¯èƒ½ä¼šå­˜åœ¨æ€§èƒ½é—®é¢˜ã€‚React çš„ Diff ç®—æ³•é‡‡ç”¨çš„æ˜¯éå†ç®—æ³•ï¼Œå¹¶ä½¿ç”¨ Fiber æ•°æ®ç»“æ„ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°å¤„ç†å¤æ‚åœº



# ğŸ’˜ day2

# ğŸğŸ setStateè¯­æ³•æ˜¯åŒæ­¥çš„è¿˜æ˜¯å¼‚æ­¥çš„ï¼Œä»€ä¹ˆæ—¶å€™ä¼šåˆå¹¶æ“ä½œ

react16ï¼šreactæ§åˆ¶å¼‚æ­¥/åˆå¹¶ã€éreactæ§åˆ¶åŒæ­¥/ä¸åˆå¹¶
react18ï¼šéƒ½æ˜¯å¼‚æ­¥ã€å½’ç±»åˆå¹¶



# ğŸŒ› setStateåº•å±‚åŸç† 

> åœ¨ React ç±»ç»„ä»¶ä¸­ï¼Œ`setState()` æ–¹æ³•ç”¨äºæ›´æ–°ç»„ä»¶çš„çŠ¶æ€ã€‚å½“è°ƒç”¨ `setState()` æ–¹æ³•æ—¶ï¼ŒReact ä¼šå°†æ–°çš„çŠ¶æ€åˆå¹¶åˆ°å½“å‰çš„çŠ¶æ€ä¸­ï¼Œç„¶åé‡æ–°æ¸²æŸ“ç»„ä»¶ã€‚
>
> `setState()` æ–¹æ³•çš„åº•å±‚å®ç°å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š
>
> 1. å°†æ–°çš„çŠ¶æ€å¯¹è±¡ä¸å½“å‰çŠ¶æ€å¯¹è±¡åˆå¹¶  ç¥é¾™æ•™ä¸»
>
> å½“è°ƒç”¨ `setState()` æ–¹æ³•æ—¶ï¼ŒReact ä¼šå°†ä¼ å…¥çš„æ–°çš„çŠ¶æ€å¯¹è±¡ä¸å½“å‰çš„çŠ¶æ€å¯¹è±¡è¿›è¡Œæµ…åˆå¹¶ã€‚è¿™æ„å‘³ç€åªæœ‰æ–°çŠ¶æ€å¯¹è±¡ä¸­åŒ…å«çš„å±æ€§ä¼šè¢«æ›´æ–°ï¼Œè€Œå½“å‰çŠ¶æ€å¯¹è±¡ä¸­çš„å…¶ä»–å±æ€§å°†ä¿æŒä¸å˜ã€‚
>
> 1. å°†åˆå¹¶åçš„çŠ¶æ€å¯¹è±¡å­˜å‚¨åˆ°ç»„ä»¶å®ä¾‹ä¸­
>
> åˆå¹¶åçš„çŠ¶æ€å¯¹è±¡å°†è¢«å­˜å‚¨åˆ°ç»„ä»¶å®ä¾‹çš„ä¸€ä¸ªå†…éƒ¨å±æ€§ä¸­ã€‚è¿™ä¸ªå†…éƒ¨å±æ€§ç§°ä¸º`_pendingState`ï¼Œè¡¨ç¤ºå¾…å¤„ç†çš„çŠ¶æ€ã€‚
>
> 1. åˆ¤æ–­æ˜¯å¦å¤„äºæ‰¹é‡æ›´æ–°æ¨¡å¼
>
> åœ¨ React ä¸­ï¼Œå¯ä»¥é€šè¿‡ `batchedUpdates()` æ–¹æ³•å°†å¤šä¸ªçŠ¶æ€æ›´æ–°æ“ä½œåˆå¹¶ä¸ºä¸€ä¸ªæ‰¹é‡æ›´æ–°æ“ä½œï¼Œä»è€Œæé«˜æ€§èƒ½ã€‚å½“è°ƒç”¨ `setState()` æ–¹æ³•æ—¶ï¼ŒReact ä¼šåˆ¤æ–­å½“å‰æ˜¯å¦å¤„äºæ‰¹é‡æ›´æ–°æ¨¡å¼ã€‚
>
> å¦‚æœå¤„äºæ‰¹é‡æ›´æ–°æ¨¡å¼ï¼ŒReact ä¼šå°†ç»„ä»¶å®ä¾‹æ·»åŠ åˆ°æ›´æ–°é˜Ÿåˆ—ä¸­ï¼Œç­‰åˆ°ä¸‹ä¸€æ¬¡æ‰¹é‡æ›´æ–°æ—¶å†è¿›è¡Œæ›´æ–°ã€‚
>
> å¦‚æœä¸å¤„äºæ‰¹é‡æ›´æ–°æ¨¡å¼ï¼ŒReact ä¼šç«‹å³è¿›è¡Œæ›´æ–°ã€‚
>
> 1. è§¦å‘ç»„ä»¶æ›´æ–°
>
> å½“åˆå¹¶åçš„çŠ¶æ€å¯¹è±¡è¢«å­˜å‚¨åˆ°ç»„ä»¶å®ä¾‹ä¸­åï¼ŒReact ä¼šè§¦å‘ç»„ä»¶çš„æ›´æ–°æµç¨‹ã€‚åœ¨æ›´æ–°æµç¨‹ä¸­ï¼ŒReact ä¼šå…ˆè°ƒç”¨ç»„ä»¶çš„ `shouldComponentUpdate()` æ–¹æ³•ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ–°ç»„ä»¶ã€‚
>
> å¦‚æœéœ€è¦æ›´æ–°ç»„ä»¶ï¼ŒReact ä¼šé‡æ–°è°ƒç”¨ç»„ä»¶çš„ `render()` æ–¹æ³•ï¼Œç”Ÿæˆæ–°çš„è™šæ‹Ÿ DOM å¯¹è±¡ã€‚ç„¶åï¼ŒReact ä¼šé€šè¿‡ Diff ç®—æ³•æ¯”è¾ƒæ–°çš„è™šæ‹Ÿ DOM å’Œæ—§çš„è™šæ‹Ÿ DOMï¼Œè®¡ç®—å‡ºéœ€è¦æ›´æ–°çš„éƒ¨åˆ†ï¼Œå¹¶ç”Ÿæˆæ›´æ–°æ“ä½œã€‚
>
> æœ€åï¼ŒReact ä¼šå°†æ›´æ–°æ“ä½œåº”ç”¨åˆ°çœŸå®çš„ DOM ä¸Šï¼Œå®Œæˆç»„ä»¶çš„æ›´æ–°ã€‚
>
> æ€»çš„æ¥è¯´ï¼Œ`setState()` æ–¹æ³•çš„åº•å±‚åŸç†æ˜¯å°†æ–°çš„çŠ¶æ€å¯¹è±¡åˆå¹¶åˆ°å½“å‰çŠ¶æ€å¯¹è±¡ä¸­ï¼Œå­˜å‚¨åˆ°ç»„ä»¶å®ä¾‹ä¸­ï¼Œå¹¶è§¦å‘ç»„ä»¶çš„æ›´æ–°æµç¨‹ã€‚é€šè¿‡è¿™ä¸ªæµç¨‹ï¼ŒReact å¯ä»¥ä¿è¯ç»„ä»¶çš„çŠ¶æ€å’Œ UI åŒæ­¥æ›´æ–°ã€‚





# ğŸğŸğŸ å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶åŒºåˆ«

å‡½æ•°ç»„ä»¶ï¼šæ— çŠ¶æ€ä¹Ÿå°±æ˜¯æ¨¡å‹æ•°æ®ï¼Œæ— ç”Ÿå‘½å‘¨æœŸ   hooks
    ç±»ç»„ä»¶ï¼šæœ‰çŠ¶æ€ï¼Œæœ‰ç”Ÿå‘½å‘¨æœŸ



# ğŸğŸğŸ å‡½æ•°ç»„ä»¶å¦‚ä½•çŠ¶æ€ç®¡ç†

å¯ä»¥é€šè¿‡reduxã€æˆ– hookæ˜¯æ–°æŠ€æœ¯





# ğŸğŸğŸ çŠ¶æ€stateã€å’Œå±æ€§propsåŒºåˆ«ï¼›å¦‚ä½•é€‰

è¯­æ³•è§’åº¦

```
stateå¯ä»¥æ›´æ–°
propså› ä¸ºå•å‘æ•°æ®æµä¸å¯ä»¥æ›´æ”¹
```

åŠŸèƒ½è§’åº¦

```
stateä¸»è¦æ˜¯ç»„ä»¶å†…éƒ¨çŠ¶æ€ç®¡ç†ï¼Œä¾‹å¦‚æ”¶é›†è¡¨å•æ•°æ®ã€dialogçŠ¶æ€ç®¡ç†ç­‰ç­‰
propsä¸»è¦å­ç»„ä»¶ä¼ é€’å±æ€§ï¼Œä¾‹å¦‚æ™®é€šçš„buttonæŒ‰é’®ã€tableè¡¨æ ¼ã€pageåˆ†é¡µç­‰ç­‰éƒ½æœ‰å¤§é‡ä½¿ç”¨
```





# ğŸ è°ˆè°ˆä½ å¯¹åˆæˆäº‹ä»¶çš„ç†è§£ã€ä¼˜åŠ¿ã€åŸç†ã€å’ŒåŸç”Ÿäº‹ä»¶åŒºåˆ«

æ˜¯ä»€ä¹ˆï¼šReactæ¨¡æ‹ŸåŸç”Ÿ DOM äº‹ä»¶å¼€å‘çš„ä¸€å¥—äº‹ä»¶ç³»ç»Ÿ

> ```
> //  åŸç”Ÿäº‹ä»¶
> <button onclick="å¤„ç†å‡½æ•°">+1</button>
> æˆ–
> document.qs().onclick = function() {}
> æˆ–
> document.qs().addEventListener('click', function(){})
> 
> 
> // åˆæˆäº‹ä»¶ï¼šè¿™ä¸ªonClickå°±æ˜¯
> <button onClick={xxx}>+1</button>
> ```

å•¥å¥½å¤„

> å¦‚æœæŠŠæ‰€æœ‰çš„äº‹ä»¶å¤„ç†å‡½æ•°éƒ½ç»‘å®šåœ¨DOMä¸Šï¼Œé‚£ä¹ˆåœ¨é¡µé¢å“åº”çš„æ—¶å€™å°±ä¼šæ”¶åˆ°å½±å“ï¼Œå¯¼è‡´é¡µé¢å¾ˆæ…¢ã€‚reactä¸ºäº†é¿å…è¿™ç±»DOMäº‹ä»¶çš„æ»¥ç”¨ï¼ŒåŒæ—¶å±è”½åº•å±‚ä¹‹é—´ä¸åŒæµè§ˆå™¨äº‹ä»¶çš„ç³»ç»Ÿå·®å¼‚ï¼Œå®ç°äº†ä¸€ä¸ªä¸­é—´å±‚- syntheticEventåˆæˆäº‹ä»¶
>
> ```
> æ›´å¥½çš„å…¼å®¹æ€§å’Œè·¨å¹³å°
> é¿å…é¢‘ç¹ç»‘å®šå’Œè§£ç»‘äº‹ä»¶ï¼Œä¹Ÿæ–¹ä¾¿äº‹ä»¶ç»Ÿä¸€ç®¡ç†
> å‡å°‘å†…å­˜æ¶ˆè€—ï¼ŒæŒ‚è½½åˆ°documnetï¼ŒReact17äº‹ä»¶å§”æ‰˜çš„å˜æ›´ React æ ‘çš„æ ¹ DOM å®¹å™¨ä¸­
> ç­‰ç­‰
> ```

å•¥åŸç†ï¼š

> React ä¸Šæ³¨å†Œçš„äº‹ä»¶æœ€ç»ˆä¼šç»‘å®šåœ¨documentè¿™ä¸ª DOM ä¸Šï¼Œè€Œä¸æ˜¯ React ç»„ä»¶å¯¹åº”çš„ DOM(å‡å°‘å†…å­˜å¼€é”€å°±æ˜¯å› ä¸ºæ‰€æœ‰çš„äº‹ä»¶éƒ½ç»‘å®šåœ¨ document ä¸Šï¼Œå…¶ä»–èŠ‚ç‚¹æ²¡æœ‰ç»‘å®šäº‹ä»¶ï¼ŒReact17äº‹ä»¶å§”æ‰˜çš„å˜æ›´ React æ ‘çš„æ ¹ DOM å®¹å™¨ä¸­)
>
> https://img-blog.csdnimg.cn/img_convert/945dd88ba1f47ecac1b9f27c15d8b312.png 
>
> ä¸ºå•¥å‡çº§
>
> ```
> const Search = function() 
> {
> 	const handleClick = (e) => {
>   e.stopPropagation();
> 	}, 
> 	return <input onClick={this.handleClick} /> 
> 
> 	document.addEventListener('click', function() {
>   é‡Œé¢é€šè¿‡è¡¨ç¤ºåˆ¤æ–­æ˜¯å½“å‰inputç‚¹å‡»æ‰ä¼šè§¦å‘
> }, false);
> }
> 
> document.addEventListener('click', function() {
> console.log('propagation')
> }, false);
> ```

å’ŒåŸç”ŸåŒºåˆ«

> 1ã€äº‹ä»¶åç§°å‘½åæ–¹å¼ä¸åŒ
>
> ```
> åŸç”Ÿäº‹ä»¶å‘½åä¸ºçº¯å°å†™ï¼ˆonclick, onblurï¼‰ï¼Œè€Œ React äº‹ä»¶å‘½åé‡‡ç”¨å°é©¼å³°å¼ï¼ˆcamelCaseï¼‰ï¼Œå¦‚ onClick ç­‰
> // åŸç”Ÿäº‹ä»¶ç»‘å®šæ–¹å¼
> <button onclick="handleClick()">+1</button>
> // React åˆæˆäº‹ä»¶ç»‘å®šæ–¹å¼
> const button = <button onClick={handleClick}>+1</button>
> ```
>
> 2ã€äº‹ä»¶å¤„ç†å‡½æ•°å†™æ³•ä¸åŒ
>
> ```
> åŸç”Ÿäº‹ä»¶ä¸­äº‹ä»¶å¤„ç†å‡½æ•°ä¸ºå­—ç¬¦ä¸²ï¼Œåœ¨ React JSX è¯­æ³•ä¸­ï¼Œä¼ å…¥ä¸€ä¸ªå‡½æ•°ä½œä¸ºäº‹ä»¶å¤„ç†å‡½æ•°ã€‚
> // åŸç”Ÿäº‹ä»¶ äº‹ä»¶å¤„ç†å‡½æ•°å†™æ³•
> <button onclick="handleClick()">+1</button>
> // React åˆæˆäº‹ä»¶ äº‹ä»¶å¤„ç†å‡½æ•°å†™æ³•
> const button = <button onClick={handleClick}>+1</button>
> ```
>
>   3. é˜»æ­¢é»˜è®¤è¡Œä¸ºæ–¹å¼ä¸åŒ
>
> ```
> åœ¨åŸç”Ÿäº‹ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡è¿”å› false æ–¹å¼æ¥é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œä½†æ˜¯åœ¨ React ä¸­ï¼Œéœ€è¦æ˜¾å¼ä½¿ç”¨ preventDefault() æ–¹æ³•æ¥é˜»æ­¢
> // åŸç”Ÿäº‹ä»¶é˜»æ­¢é»˜è®¤è¡Œä¸ºæ–¹å¼ ç¥é¾™æ•™ä¸»
> <a href="http://www.mobiletrain.org/"
> onclick="console.log('é˜»æ­¢åŸç”Ÿäº‹ä»¶'); return false"
> >
> é˜»æ­¢åŸç”Ÿäº‹ä»¶
> </a>
> 
> // React äº‹ä»¶é˜»æ­¢é»˜è®¤è¡Œä¸ºæ–¹å¼
> const handleClick = e => {
> e.preventDefault();
> console.log('é˜»æ­¢åŸç”Ÿäº‹ä»¶~');
> }
> const clickElement = <a href="http://www.mobiletrain.org/" onClick={handleClick}>
> é˜»æ­¢åŸç”Ÿäº‹ä»¶
> </a>
> ```





# ğŸ’˜ day3

# ğŸğŸğŸreactä¸­å¦‚ä½•è§£å†³æ ·å¼æ±¡æŸ“é—®é¢˜

æ–¹æ¡ˆ1ï¼šInline styling    è¡Œå†…æ ·å¼

æ–¹æ¡ˆ2ï¼šCSS Modules	      é»˜è®¤ï¼ˆä¸å¯èƒ½çš„ï¼‰

æ–¹æ¡ˆ3ï¼šSASS/LESS Modules		  UMIæ¨è

æ–¹æ³•4ï¼šStyled Components CRAæ¨è å®æˆ˜ç›¸å¯¹å°‘





# ğŸğŸğŸæ•°ç»„å¸¸ç”¨æ–¹æ³•ã€æ•°ç»„å»é‡è‡³å°‘å†™3ç§æ–¹æ¡ˆ 

äºŒé˜¶æ®µé¢è¯•é¢˜ä¸€å †



# ğŸğŸğŸä¸ºä»€ä¹ˆå¾ªç¯çš„æ—¶å€™è¦å†™key

1-æå‡æ€§èƒ½

2-é¿å…å‡ºç°ä¸å¯æ§bug



åœ¨ React ä¸­ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨å¾ªç¯æ¸²æŸ“åˆ—è¡¨æ—¶ï¼Œéœ€è¦ç»™æ¯ä¸ªåˆ—è¡¨é¡¹æ·»åŠ ä¸€ä¸ªå”¯ä¸€çš„ `key` å±æ€§ï¼Œè¿™æ˜¯å› ä¸º React åœ¨è¿›è¡Œæ¸²æŸ“æ—¶ä¼šåˆ©ç”¨ `key` å±æ€§æ¥åˆ¤æ–­å“ªäº›å…ƒç´ æ˜¯æ–°å¢çš„ã€å“ªäº›å…ƒç´ æ˜¯åˆ é™¤çš„ï¼Œä»è€Œè¿›è¡Œæœ€å°åŒ–çš„ DOM æ“ä½œï¼Œæé«˜æ€§èƒ½ã€‚

å…·ä½“æ¥è¯´ï¼Œå½“åˆ—è¡¨é¡¹çš„é¡ºåºå‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®š `key` å±æ€§ï¼ŒReact å¯èƒ½ä¼šå°†ä¸€ä¸ªæ—§çš„åˆ—è¡¨é¡¹è¯¯è®¤ä¸ºæ˜¯æ–°çš„åˆ—è¡¨é¡¹ï¼Œä»è€Œå¯¼è‡´ DOM æ“ä½œä¸å¿…è¦çš„é‡å¤ã€‚æ­¤å¤–ï¼Œå¦‚æœåˆ—è¡¨é¡¹çš„é¡ºåºä¸å˜ï¼Œä½†æ˜¯æœ‰ä¸€äº›é¡¹è¢«åˆ é™¤æˆ–æ·»åŠ ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®š `key` å±æ€§ï¼ŒReact å¯èƒ½ä¼šå°†ä¸€ä¸ªæ—§çš„åˆ—è¡¨é¡¹è¯¯è®¤ä¸ºæ˜¯æ–°çš„åˆ—è¡¨é¡¹ï¼Œä»è€Œå¯¼è‡´ DOM æ“ä½œä¸å¿…è¦çš„é‡å¤ã€‚

å› æ­¤ï¼Œä¸ºäº†ä¿è¯ React æ¸²æŸ“åˆ—è¡¨æ—¶çš„æ­£ç¡®æ€§å’Œæ€§èƒ½ï¼Œéœ€è¦ç»™æ¯ä¸ªåˆ—è¡¨é¡¹æ·»åŠ ä¸€ä¸ªå”¯ä¸€çš„ `key` å±æ€§ï¼Œé€šå¸¸ä½¿ç”¨åˆ—è¡¨é¡¹çš„ ID æˆ–ç´¢å¼•ä½œä¸º `key` å±æ€§çš„å€¼ï¼Œä»è€Œè®© React èƒ½å¤Ÿå‡†ç¡®åœ°è¯†åˆ«æ¯ä¸ªåˆ—è¡¨é¡¹ï¼Œè¿›è¡Œæœ€å°åŒ–çš„ DOM æ“ä½œã€‚ç¥é¾™æ•™ä¸»





# ğŸğŸğŸè°ˆè°ˆä½ å¯¹å—æ§ç»„ä»¶ã€å’Œéå—æ§ç»„ä»¶çš„ç†è§£

å—æ§ç»„ä»¶ï¼šé€šè¿‡reactæ§åˆ¶è¡¨å•çš„è¾“å…¥è¾“å‡º

éå—æ§ç»„ä»¶ï¼šé€šè¿‡DOMæ“ä½œè¡¨å•æ•°æ®



# ğŸğŸğŸå¦‚ä½•å®ç°ç»„ä»¶é€šä¿¡

çˆ¶ä¼ å­ï¼šprops

çˆ¶ä¼ å­ï¼šchildren

å­ä¼ çˆ¶ï¼šè°ƒç”¨çˆ¶çš„æ–¹æ³•

å…„å¼Ÿï¼šçŠ¶æ€æå‡

ç»„ä»¶å®ä¾‹ï¼šref    =ã€‹ å±äºrefè½¬å‘ã€refå¼•ç”¨å®ç°ç»„ä»¶é€šä¿¡

childrenå±æ€§ =ã€‹ä¹Ÿæ˜¯çˆ¶ä¼ å­ è¶…æ–‡æœ¬

context

çŠ¶æ€ç®¡ç†å·¥å…·ï¼šreduxã€redux-toolkit(RTK)ã€mobxç­‰

ç­‰ç­‰





# ğŸğŸğŸé¡¹ç›®è·¨åŸŸæ˜¯å¦‚ä½•è§£å†³çš„ï¼Ÿ

> åœ¨vueä¸­

a åœ¨æ ¹ç›®å½•åˆ›å»ºvue.config.js ï¼ˆä¸ç”¨å®‰è£…

```
module.exports = {
    devServer: {
        proxy: {  //é…ç½®è·¨åŸŸ
          '/api': {
            target: 'http://kg.zhaodashen.cn/v2/', 
            changOrigin: true,  //å…è®¸è·¨åŸŸ
            pathRewrite: {
              '^/api': '' 
            }
          },
        }
    },
}
```

b ä¿®æ”¹api baseURL   /apiå‰ç¼€



> åœ¨reactä¸­

a å®‰è£…æ¨¡å—

```
yarn add http-proxy-middleware@0.19.1 -D
æˆ–
cnpm i http-proxy-middleware@0.19.1 -D
```



b åœ¨srcç›®å½•åˆ›å»ºsrc/setupProxy.js

```
const proxy = require("http-proxy-middleware");

module.exports = function (app) {
  app.use(
    proxy("/api", {
      target: "http://kg.zhaodashen.cn/mt/admin/", // ç›®æ ‡æœåŠ¡å™¨ç½‘å€
      changeOrigin: true, // æ˜¯å¦å…è®¸è·¨åŸŸ
      secure: false, // å…³é—­SSLè¯ä¹¦éªŒè¯HTTPSæ¥å£éœ€è¦ç¥é¾™æ•™ä¸»
      pathRewrite: {
        // é‡å†™è·¯å¾„è¯·æ±‚
        "^/api": "",
      },
    })
  );

  // ...
};

```

c  ä¿®æ”¹api baseURL   /apiå‰ç¼€







# ğŸ’˜ day4

# ğŸğŸğŸreactç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›&åº”ç”¨åœºæ™¯

```
å•è¯															è§¦å‘æœºåˆ¶ 			    åº”ç”¨åœºæ™¯

æŒ‚è½½
constructor						  				 é¦–æ¬¡					  	åˆå§‹åŒ–refã€stateç­‰å±æ€§
static getDerivedStateFromProps  é¦–æ¬¡&çŠ¶æ€/å±æ€§	    è¾ƒå°‘ï¼Œç›‘æ§propsæ›´æ–°state
componentWillMount				   		 é¦–æ¬¡			      		å¼ƒ1
render							  				  	é¦–æ¬¡&çŠ¶æ€/å±æ€§    æ¸²æŸ“é¡µé¢
componentDidMount				   		   é¦–æ¬¡				 		   å¼‚æ­¥è¯·æ±‚ã€æ“ä½œDOM å¦‚echartsã€swiper

æ›´æ–°å±æ€§/çŠ¶æ€

static getDerivedStateFromProps   é¦–æ¬¡&çŠ¶æ€/å±æ€§		è¾ƒå°‘ï¼Œç›‘æ§propsæ›´æ–°state
componentWillReceiveProps		   		ä»…å±æ€§				  	å¼ƒ2
shouldComponentUpdate   		   		å±æ€§/çŠ¶æ€					å­ç»„ä»¶å‡å°‘æ¸²æŸ“æ¬¡æ•°  æ€§èƒ½ä¼˜åŒ–
componentWillUpdate				   			å±æ€§/çŠ¶æ€					å¼ƒ3
render							  						é¦–æ¬¡&çŠ¶æ€/å±æ€§		 æ¸²æŸ“é¡µé¢
getSnapshotBeforeUpdate			   		å±æ€§/çŠ¶æ€	     DOMæ›´æ–°å‰æ”¶é›†DOMä¿¡æ¯äº¤ç»™componentDidUpdate
componentDidUpdate				   			å±æ€§/çŠ¶æ€			ç›‘æ§æ›´æ–°è¿›ä¸€æ­¥æ“ä½œDOMã€èŠå¤©ã€echarts

å¸è½½
componentWillUnmount			    		ç»„ä»¶å¸è½½			æ¸…é™¤éreactèµ„æº ä¾‹å¦‚ç™»é™†å®šæ—¶å™¨

é”™è¯¯
componentDidCatch				   				åä»£ç»„ä»¶å‘é”™å¼‚å¸¸é”™è¯¯
```





é—®1ï¼šreactç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›

ç­”1ï¼šæŒºå¤šçš„æŒ‚è½½ã€æ›´æ–°ã€å¸è½½ç­‰ç­‰ï¼Œç„¶åæˆ‘å¸¸ç”¨çš„å°±æ˜¯componentDidMount

é—®2ï¼šå…·ä½“å‘¢

ç­”2

```
componentWillMount
render
componentDidMount

componentWillUpdate
render
componentDidUpdate

componentWillUnmount
...
```





# ğŸğŸğŸreact16.3æ–°å¢äº†å“ªäº›ã€å¼ƒç”¨äº†å“ªäº›

## 

æ–°å¢

```
å•è¯						      						è§¦å‘æœºåˆ¶  	    åœºæ™¯
static getDerivedStateFromProps   é¦–æ¬¡&å±æ€§/çŠ¶æ€    æ¡ˆä¾‹è¾ƒå°‘ï¼Œä¸»è¦ç›‘æ§propså˜åŒ–æ›´æ–°stateç”¨    
getSnapshotBeforeUpdate			 		  å±æ€§/çŠ¶æ€        æ¡ˆä¾‹æ›´å°‘ï¼Œåœ¨æ›´æ–°DOMä¹‹å‰æ”¶é›†DOMä¿¡æ¯
```

å¼ƒç”¨

```
componentWillMount				   	  é¦–æ¬¡			   		 å¼ƒ1
componentWillReceiveProps		   	ä»…å±æ€§				  	å¼ƒ2
componentWillUpdate				   		å±æ€§/çŠ¶æ€					å¼ƒ3
```



# ğŸğŸğŸreactç”¨æ¥ä¼˜åŒ–æ€§èƒ½çš„æ˜¯å“ªä¸€ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œè¯´ä¸€ä¸‹å®æˆ˜å¦‚ä½•ä¼˜åŒ–ä½¿ç”¨

shouldComponentUpdate

é¿å…çˆ¶ç»„ä»¶æ›´æ–°çŠ¶æ€æˆ–è€…å±æ€§åé¿å…å­ç»„ä»¶ä¸å¿…è¦æ¸²æŸ“



# ğŸğŸğŸçˆ¶ç»„ä»¶æ›´æ–°çŠ¶æ€æˆ–è€…å±æ€§å¦‚ä½•é¿å…å­ç»„ä»¶ä¸å¿…è¦æ¸²æŸ“

é€šè¿‡shouldComponentUpdate

æˆ–è€…ç›´æ¥ç»§æ‰¿PureComponent



# ğŸğŸğŸè¯´å‡ºæ–°å¢çš„ç”Ÿå‘½å‘¨æœŸå„è‡ªåº”ç”¨åœºæ™¯

```
å•è¯						      						è§¦å‘æœºåˆ¶  	    åœºæ™¯
static getDerivedStateFromProps   é¦–æ¬¡&å±æ€§/çŠ¶æ€    æ¡ˆä¾‹è¾ƒå°‘ï¼Œä¸»è¦ç›‘æ§propså˜åŒ–æ›´æ–°stateç”¨    
getSnapshotBeforeUpdate			 		  å±æ€§/çŠ¶æ€        æ¡ˆä¾‹æ›´å°‘ï¼Œåœ¨æ›´æ–°DOMä¹‹å‰æ”¶é›†DOMä¿¡æ¯
```





# ğŸğŸçˆ¶å­ç»„ä»¶mountç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº  
# ğŸğŸçˆ¶å­ç»„ä»¶updateç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº

```
çˆ¶å­åµŒå¥—ç”Ÿå‘½å‘¨æœŸï¼ˆä¸€èˆ¬ä¸ª1~2ä¸ªæ¦‚ç‡ï¼‰
	mount é¦–æ¬¡åˆ·æ–°æˆ–è€…ç»„ä»¶é”€æ¯åé‡æ–°åˆ›å»º**
		f will mount
		f render
			s will mount
			s render
			s did mount
		f did mount
	update 
		f will update
		f render
			s will receive props
			s will update
			s render
			s did update
		f did update
		
ç”Ÿå‘½å‘¨æœŸå½¢å‚äº†è§£ï¼šä»…ç»™ä½ ä¼ é€’æ„è¯† 
```



 

# ğŸ’˜ day5 Hooks

# ğŸŒ› è°ˆè°ˆä½ å¯¹hooksç†è§£

React Hooks æ˜¯ React 16.8 ç‰ˆæœ¬ä¸­å¼•å…¥çš„ä¸€é¡¹æ–°ç‰¹æ€§ï¼Œå®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨ React çš„çŠ¶æ€å’Œç”Ÿå‘½å‘¨æœŸç­‰åŠŸèƒ½ï¼Œä»è€Œå‡å°‘ç±»ç»„ä»¶çš„ä½¿ç”¨ï¼Œä½¿ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“äºç»´æŠ¤ã€‚ç¥é¾™æ•™ä¸»

å…·ä½“æ¥è¯´ï¼ŒHooks æä¾›äº†ä¸€äº›ç‰¹æ®Šçš„å‡½æ•°ï¼Œå¦‚ `useState`ã€`useEffect`ã€`useContext` ç­‰ï¼Œè¿™äº›å‡½æ•°å¯ä»¥è®©æˆ‘ä»¬åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨çŠ¶æ€ã€å‰¯ä½œç”¨å’Œä¸Šä¸‹æ–‡ç­‰åŠŸèƒ½ã€‚ä½¿ç”¨ Hooksï¼Œæˆ‘ä»¬å¯ä»¥ï¼š

1. çŠ¶æ€ç®¡ç†ï¼šé€šè¿‡ `useState` å‡½æ•°ï¼Œå¯ä»¥åœ¨å‡½æ•°ç»„ä»¶ä¸­ç®¡ç†çŠ¶æ€ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨ç±»ç»„ä»¶çš„ `this.state`ã€‚`useState` æ¥å—ä¸€ä¸ªåˆå§‹çŠ¶æ€å€¼ï¼Œè¿”å›ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯å½“å‰çŠ¶æ€å€¼ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯ç”¨äºæ›´æ–°çŠ¶æ€çš„å‡½æ•°ã€‚å¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼æ¥è·å–è¿™ä¸¤ä¸ªå€¼ã€‚
2. å‰¯ä½œç”¨å¤„ç†ï¼šé€šè¿‡ `useEffect` å‡½æ•°ï¼Œå¯ä»¥åœ¨å‡½æ•°ç»„ä»¶ä¸­å¤„ç†å‰¯ä½œç”¨ï¼Œå¦‚è®¿é—® APIã€æ›´æ–° DOM ç­‰ã€‚`useEffect` æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºæ‰§è¡Œå‰¯ä½œç”¨ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œç”¨äºæŒ‡å®šä¾èµ–é¡¹ã€‚å½“æŒ‡å®šçš„ä¾èµ–é¡¹å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ`useEffect` ä¸­çš„å‡½æ•°å°†è¢«é‡æ–°æ‰§è¡Œã€‚
3. ä¸Šä¸‹æ–‡ä¼ é€’ï¼šé€šè¿‡ `useContext` å‡½æ•°ï¼Œå¯ä»¥åœ¨å‡½æ•°ç»„ä»¶ä¸­è·å–ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œè€Œä¸éœ€è¦ä½¿ç”¨ç±»ç»„ä»¶çš„ `static contextType`ã€‚`useContext` æ¥å—ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œè¿”å›ä¸Šä¸‹æ–‡ä¸­çš„å€¼ã€‚

Hooks è¿˜æä¾›äº†ä¸€äº›å…¶ä»–å‡½æ•°ï¼Œå¦‚ `useReducer`ã€`useCallback`ã€`useMemo`ã€`useRef` ç­‰ï¼Œè¿™äº›å‡½æ•°å¯ä»¥è®©æˆ‘ä»¬åœ¨å‡½æ•°ç»„ä»¶ä¸­å®ç°æ›´å¤æ‚çš„é€»è¾‘å’ŒåŠŸèƒ½ã€‚

ä½¿ç”¨ Hooks çš„ä¼˜ç‚¹æ˜¯å®ƒèƒ½å¤Ÿä½¿ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“äºç»´æŠ¤ï¼Œé¿å…äº†ç±»ç»„ä»¶ä¸­çš„ä¸€äº›ç¹ççš„æ“ä½œï¼Œå¦‚ç”Ÿå‘½å‘¨æœŸå‡½æ•°ã€this ç»‘å®šç­‰ã€‚åŒæ—¶ï¼ŒHooks ä¹Ÿèƒ½å¤Ÿæé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯æµ‹è¯•æ€§ï¼Œä½¿ä»£ç æ›´åŠ æ¨¡å—åŒ–å’Œå¯å¤ç”¨ã€‚

ä¸è¿‡ï¼Œåœ¨ä½¿ç”¨ Hooks æ—¶éœ€è¦æ³¨æ„ï¼Œå®ƒæœ‰ä¸€äº›è§„åˆ™å’Œé™åˆ¶ï¼Œå¦‚åªèƒ½åœ¨å‡½æ•°ç»„ä»¶çš„æœ€é¡¶å±‚ä½¿ç”¨ Hooksï¼Œä¸èƒ½åœ¨å¾ªç¯å’Œæ¡ä»¶è¯­å¥ä¸­ä½¿ç”¨ Hooks ç­‰ã€‚å¦å¤–ï¼ŒHooks ä¹Ÿéœ€è¦è€ƒè™‘åˆ°æ€§èƒ½é—®é¢˜ï¼Œé¿å…è¿‡å¤šåœ°è¿›è¡Œä¸å¿…è¦çš„å‰¯ä½œç”¨å’ŒçŠ¶æ€æ›´æ–°ã€‚



# ğŸŒ› ç”¨hooks æ„ä¹‰

ä½¿ç”¨ Hooks çš„ä¸»è¦æ„ä¹‰åœ¨äºå®ƒå¯ä»¥è®©æˆ‘ä»¬åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨ React çš„çŠ¶æ€ã€ç”Ÿå‘½å‘¨æœŸå’Œå…¶ä»–åŠŸèƒ½ï¼Œä»è€Œå‡å°‘ç±»ç»„ä»¶çš„ä½¿ç”¨ï¼Œä½¿ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“äºç»´æŠ¤ã€‚

åœ¨ä¹‹å‰çš„ React ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡ç±»ç»„ä»¶æ¥ç®¡ç†çŠ¶æ€å’Œå¤„ç†ç”Ÿå‘½å‘¨æœŸç­‰åŠŸèƒ½ã€‚è€Œä½¿ç”¨ç±»ç»„ä»¶æœ‰ä¸€äº›ç¼ºç‚¹ï¼Œå¦‚éœ€è¦ç»§æ‰¿ React.Componentã€éœ€è¦åœ¨æ„é€ å‡½æ•°ä¸­ç»‘å®š thisã€éœ€è¦åœ¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä¸­å¤„ç†å‰¯ä½œç”¨ç­‰ã€‚è¿™äº›æ“ä½œä½¿ä»£ç å˜å¾—ç¹çå’Œéš¾ä»¥ç†è§£ï¼ŒåŒæ—¶ä¹Ÿå®¹æ˜“å‡ºç°é”™è¯¯ã€‚

è€Œä½¿ç”¨ Hooksï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨å‡½æ•°ç»„ä»¶ä¸­ç®¡ç†çŠ¶æ€å’Œå¤„ç†å‰¯ä½œç”¨ç­‰åŠŸèƒ½ï¼Œé¿å…äº†ç±»ç»„ä»¶çš„ä¸€äº›ç¹çæ“ä½œã€‚åŒæ—¶ï¼ŒHooks ä¹Ÿèƒ½å¤Ÿæé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯æµ‹è¯•æ€§ï¼Œä½¿ä»£ç æ›´åŠ æ¨¡å—åŒ–å’Œå¯å¤ç”¨ã€‚

é™¤æ­¤ä¹‹å¤–ï¼Œä½¿ç”¨ Hooks è¿˜æœ‰ä»¥ä¸‹ä¸€äº›ä¼˜ç‚¹ï¼š

1. Hooks å¯ä»¥ä½¿ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“äºç»´æŠ¤ã€‚
2. Hooks å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯æµ‹è¯•æ€§ã€‚
3. Hooks å¯ä»¥é¿å…ä¸€äº›å¸¸è§çš„é”™è¯¯ï¼Œå¦‚å¿˜è®°ç»‘å®š thisã€åœ¨å‰¯ä½œç”¨å‡½æ•°ä¸­å¿˜è®°æ¸…ç†ç­‰ã€‚
4. Hooks å¯ä»¥ä½¿ä»£ç æ›´åŠ æ¨¡å—åŒ–å’Œå¯å¤ç”¨ï¼Œå‡å°‘äº†ä»£ç çš„è€¦åˆåº¦ã€‚

æ€»ä¹‹ï¼Œä½¿ç”¨ Hooks å¯ä»¥ä½¿æˆ‘ä»¬çš„ä»£ç æ›´åŠ ç®€æ´ã€æ˜“äºç»´æŠ¤ã€å¯è¯»æ€§å’Œå¯æµ‹è¯•æ€§æ›´å¥½ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é¿å…ä¸€äº›å¸¸è§çš„é”™è¯¯ï¼Œæé«˜ä»£ç çš„è´¨é‡å’Œå¯é æ€§ã€‚



# ğŸğŸğŸ hookç§ç±»

1. useStateï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­æ·»åŠ çŠ¶æ€ç®¡ç†åŠŸèƒ½ã€‚
2. useEffectï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­å¤„ç†å‰¯ä½œç”¨ï¼Œå¦‚æ•°æ®è¯·æ±‚ã€äº‹ä»¶ç›‘å¬ç­‰ã€‚
3. useContextï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­è®¿é—®ä¸Šä¸‹æ–‡æ•°æ®ã€‚
4. useReducerï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­å®ç°å¤æ‚çš„çŠ¶æ€ç®¡ç†ï¼Œç±»ä¼¼äº Reduxã€‚
5. useCallbackï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­ç¼“å­˜å›è°ƒå‡½æ•°ï¼Œé¿å…æ— ç”¨çš„é‡æ–°æ¸²æŸ“ã€‚
6. useMemoï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­ç¼“å­˜è®¡ç®—ç»“æœï¼Œé¿å…é‡å¤è®¡ç®—ã€‚
7. useRefï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­è®¿é—® DOM å…ƒç´ æˆ–ä¿å­˜å…¶ä»–æ•°æ®ã€‚
8. useLayoutEffectï¼šç±»ä¼¼äº useEffectï¼Œä½†ä¼šåœ¨ DOM æ›´æ–°ä¹‹å‰åŒæ­¥è°ƒç”¨å›è°ƒå‡½æ•°ã€‚
9. useImperativeHandleï¼šç”¨äºåœ¨çˆ¶ç»„ä»¶ä¸­è®¿é—®å­ç»„ä»¶çš„å®ä¾‹æ–¹æ³•ã€‚
10. useDebugValueï¼šç”¨äºåœ¨å¼€å‘é˜¶æ®µè¾“å‡ºè°ƒè¯•ä¿¡æ¯ã€‚

è¿™äº› Hooks ç§ç±»å¯ä»¥ä½¿å‡½æ•°ç»„ä»¶å…·æœ‰ç±»ä¼¼äºç±»ç»„ä»¶çš„åŠŸèƒ½ï¼Œä½¿å¾—å‡½æ•°ç»„ä»¶åœ¨å¤„ç†çŠ¶æ€ã€ç”Ÿå‘½å‘¨æœŸã€å‰¯ä½œç”¨ç­‰æ–¹é¢æ›´åŠ çµæ´»å’Œå¼ºå¤§ã€‚åŒæ—¶ï¼ŒHooks ä¹Ÿå¯ä»¥å¸®åŠ©æˆ‘ä»¬é¿å…ä¸€äº›å¸¸è§çš„é”™è¯¯å’Œé™ä½ä»£ç çš„è€¦åˆåº¦ï¼Œä»è€Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§ã€‚





é™¤äº†å¸¸ç”¨çš„ Hooks ç§ç±»ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„ Hooks å¯ä»¥ç”¨äºç‰¹å®šçš„åœºæ™¯ï¼š

1. useReducerWithMiddlewareï¼šç”¨äºåœ¨ useReducer ä¸­å®ç°ä¸­é—´ä»¶ï¼Œç±»ä¼¼äº Reduxã€‚
2. useEventCallbackï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­ç¼“å­˜äº‹ä»¶å›è°ƒå‡½æ•°ï¼Œé¿å…å› ä¸ºé—­åŒ…å¼•ç”¨å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ã€‚
3. useIntervalï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­å®ç°å®šæ—¶å™¨åŠŸèƒ½ã€‚
4. useDebounceï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­å®ç°é˜²æŠ–åŠŸèƒ½ã€‚
5. useThrottleï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­å®ç°èŠ‚æµåŠŸèƒ½ã€‚
6. useAsyncï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­å®ç°å¼‚æ­¥è¯·æ±‚çš„çŠ¶æ€ç®¡ç†ã€‚
7. useIntersectionObserverï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­è§‚å¯Ÿå…ƒç´ çš„å¯è§æ€§çŠ¶æ€ã€‚
8. usePreviousï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­ç¼“å­˜ä¸Šä¸€æ¬¡çš„çŠ¶æ€å€¼ã€‚ç¥é¾™æ•™ä¸»

è¿™äº› Hooks å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´åŠ æ–¹ä¾¿åœ°å¤„ç†ç‰¹å®šçš„åœºæ™¯ï¼Œæé«˜ä»£ç çš„å¤ç”¨æ€§å’Œå¯è¯»æ€§ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä½¿å¾—å‡½æ•°ç»„ä»¶å…·æœ‰æ›´åŠ å¼ºå¤§å’Œçµæ´»çš„åŠŸèƒ½ã€‚é™¤äº†ä»¥ä¸Šåˆ—ä¸¾çš„ Hooksï¼Œè¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„è‡ªå®šä¹‰ Hooks å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚æ¥ç¼–å†™ï¼Œä»è€Œä½¿å¾—å‡½æ•°ç»„ä»¶çš„ç¼–å†™æ›´åŠ æ–¹ä¾¿å’Œé«˜æ•ˆã€‚





ä»¥ä¸‹æ˜¯ä¸€äº›è¾ƒä¸ºé«˜çº§çš„ React Hooksï¼š

1. useLayoutï¼šç”¨äºè·å–ç»„ä»¶çš„å¸ƒå±€ä¿¡æ¯ï¼ŒåŒ…æ‹¬å®½åº¦ã€é«˜åº¦ã€ä½ç½®ç­‰ã€‚
2. useVirtualListï¼šç”¨äºä¼˜åŒ–é•¿åˆ—è¡¨çš„æ€§èƒ½ï¼Œåªæ¸²æŸ“å¯è§åŒºåŸŸçš„éƒ¨åˆ†æ•°æ®ã€‚
3. useMediaï¼šç”¨äºæ ¹æ®åª’ä½“æŸ¥è¯¢åŠ¨æ€è°ƒæ•´ç»„ä»¶çš„æ ·å¼æˆ–è¡Œä¸ºã€‚
4. useDragï¼šç”¨äºå®ç°æ‹–æ‹½åŠŸèƒ½ï¼Œå¯ä»¥è·å–æ‹–æ‹½çš„çŠ¶æ€ã€ä½ç½®ç­‰ä¿¡æ¯ã€‚
5. useDropï¼šç”¨äºå®ç°æ‹–æ”¾åŠŸèƒ½ï¼Œå¯ä»¥è·å–æ‹–æ”¾ç›®æ ‡çš„çŠ¶æ€ã€ä½ç½®ç­‰ä¿¡æ¯ã€‚
6. useTransitionï¼šç”¨äºå®ç°å¹³æ»‘çš„åŠ¨ç”»æ•ˆæœï¼Œå¯ä»¥æ§åˆ¶ç»„ä»¶åœ¨è¿›å…¥ã€é€€å‡ºã€æ›´æ–°æ—¶çš„åŠ¨ç”»æ•ˆæœã€‚
7. useImmerï¼šç”¨äºåœ¨å‡½æ•°ç»„ä»¶ä¸­å®ç°ä¸å¯å˜æ•°æ®çš„æ›´æ–°ï¼Œç±»ä¼¼äº Immer åº“ã€‚
8. useSpeechRecognitionï¼šç”¨äºå®ç°è¯­éŸ³è¯†åˆ«åŠŸèƒ½ï¼Œå¯ä»¥è·å–ç”¨æˆ·çš„è¯­éŸ³è¾“å…¥å¹¶è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚
9. useBatteryï¼šç”¨äºè·å–è®¾å¤‡çš„ç”µæ± ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç”µé‡ã€å……ç”µçŠ¶æ€ç­‰ã€‚ç¥é¾™æ•™ä¸»

è¿™äº›é«˜çº§çš„ React Hooks å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°æ›´åŠ å¤æ‚å’Œçµæ´»çš„åŠŸèƒ½ï¼ŒåŒæ—¶ä¹Ÿèƒ½å¤Ÿé¿å…ä¸€äº›å¸¸è§çš„é”™è¯¯å’Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§ã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨è¿™äº›é«˜çº§ Hooks éœ€è¦å…·æœ‰ä¸€å®šçš„ React å’Œ JavaScript åŸºç¡€çŸ¥è¯†ï¼Œå¹¶ä¸”éœ€è¦æ ¹æ®å…·ä½“åœºæ™¯æ¥é€‰æ‹©å’Œä½¿ç”¨åˆé€‚çš„ Hooksã€‚



# ğŸğŸğŸ è‡ªå·±å°è£…è¿‡å“ªäº›hook

1. useLocalStorageï¼šå°†æ•°æ®å­˜å‚¨åˆ°æœ¬åœ°å­˜å‚¨ä¸­ï¼ŒåŒ…æ‹¬è®¾ç½®ã€è·å–å’Œåˆ é™¤æ•°æ®ã€‚ ç¥é¾™æ•™ä¸»

```
import { useState, useEffect } from 'react';

function useLocalStorage(key, initialValue) {
  const [value, setValue] = useState(() => {
    const storedValue = window.localStorage.getItem(key);
    return storedValue ? JSON.parse(storedValue) : initialValue;
  });

  useEffect(() => {
    window.localStorage.setItem(key, JSON.stringify(value));
  }, [key, value]);

  const removeValue = () => {
    window.localStorage.removeItem(key);
  };

  return [value, setValue, removeValue];
}

export default useLocalStorage;

```

2. useDebounceï¼šé˜²æŠ–åŠ¨ Hookï¼Œç”¨äºåœ¨ç”¨æˆ·è¾“å…¥åœæ­¢åå»¶è¿Ÿä¸€æ®µæ—¶é—´å†æ‰§è¡Œå‡½æ•°ã€‚

```
import { useState, useEffect } from 'react';

function useDebounce(value, delay) {
  const [debouncedValue, setDebouncedValue] = useState(value);

  useEffect(() => {
    const timeout = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);

    return () => {
      clearTimeout(timeout);
    };
  }, [value, delay]);

  return debouncedValue;
}

export default useDebounce;

```

3. useFetchï¼šç”¨äºè·å–æ•°æ®çš„ Hookï¼ŒåŒ…æ‹¬åŠ è½½ä¸­ã€é”™è¯¯å’Œæ•°æ®ä¸‰ç§çŠ¶æ€ã€‚

  ```
  import { useState, useEffect } from 'react';
  
  function useFetch(url) {
    const [loading, setLoading] = useState(true);
    const [error, setError] = useState(null);
    const [data, setData] = useState(null);
  
    useEffect(() => {
      async function fetchData() {
        try {
          const response = await fetch(url);
          const json = await response.json();
          setData(json);
          setLoading(false);
        } catch (error) {
          setError(error);
          setLoading(false);
        }
      }
      fetchData();
    }, [url]);
  
    return [data, loading, error];
  }
  
  export default useFetch;
  
  ```

4. useFormï¼šç”¨äºå¤„ç†è¡¨å•æ•°æ®çš„ Hookï¼ŒåŒ…æ‹¬è®¾ç½®ã€è·å–å’Œé‡ç½®è¡¨å•æ•°æ®ã€‚

```
import { useState } from 'react';

function useForm(initialValues) {
  const [values, setValues] = useState(initialValues);

  const handleChange = (event) => {
    const { name, value } = event.target;
    setValues((prevValues) => ({ ...prevValues, [name]: value }));
  };

  const resetForm = () => {
    setValues(initialValues);
  };

  return [values, handleChange, resetForm];
}

export default useForm;

```



