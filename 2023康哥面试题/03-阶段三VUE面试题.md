# â–  ç¬¦å·è¯´æ˜

ğŸ’˜ è¯¾é¢˜   

ğŸŒŸ å¸¸è§é‡è¦   

ğŸŒ› éœ€è¦æœ‰å°è±¡çš„

ğŸ†• v3æ–°ç‰¹æ€§  



# â–  week1-day1 åŸºæœ¬è¯­æ³•

## ğŸ’˜ è¯¾é¢˜      

week1-day1  VueåŸºç¡€ï¼ˆåŸºæœ¬è¯­æ³•ï¼šç®€ä»‹ã€æ¨¡æ¿è¯­æ³•ã€åˆ—è¡¨æ¸²æŸ“ã€æ¡ä»¶æ¸²æŸ“ã€äº‹ä»¶å¤„ç†ï¼‰



## ğŸ†• å…ˆå­¦vue3åŸºæœ¬è¯­æ³•

```
<div id="root">
    <h1>{{msg}}</h1>

    <input type="text" v-model="content" />
    <button @click="addFn">æ·»åŠ </button>
    
    <ul>
        <li v-for="item in todos">{{item.id}} {{item.title}}</li>
    </ul>
</div>
<script src="https://unpkg.com/vue@next"></script>
<script>
// ä»¥å‰ï¼šnew Vue({el,data,methods....})
// ä»¥å‰ï¼šnew Vue({data,methods....}).$mount('#root')
// ç°åœ¨ï¼šVue.createApp({data,methods}).mount('#root')

Vue.createApp({
    data() {
        return {
            msg: "hello vue3",

            content: '',
            todos: [
                {id:1, title: 'åƒé¥­'},
                {id:2, title: 'ç¡è§‰'},
                {id:3, title: 'æŒ¤ç—˜ç—˜'},
            ]
        }   
    },
    methods: {
        addFn() {
            this.todos.push({
                id: this.todos.length,
                title: this.content
            })
        }
    }
}).mount('#root')
</script>
```



## ğŸŒŸ è¯´å‡ºvueå¸¸ç”¨çš„æŒ‡ä»¤

```
{{}} ä¸¤ä¸ªå¤§æ‹¬å·
v-text
v-html
v-bind  ç®€å†™ :
v-for
v-ifã€v-else-ifã€v-else
v-show
v-on   ç®€å†™ @

v-pre   è·³è¿‡ç¼–è¯‘ï¼ˆå‡ ä¹99%ä¸ä¼šç”¨ï¼‰
v-once  ä»…æ¸²æŸ“ä¸€æ¬¡ï¼ˆå‡ ä¹99%ä¸ä¼šç”¨ï¼‰
v-cloak æ’å€¼é—ªçƒé—®é¢˜  

v-model ç¬¬äºŒå¤©çŸ¥è¯†ç‚¹
```

 

## ğŸŒŸ  MVVMã€MVCé¢è¯•é¢˜

- è°ˆè°ˆä½ å¯¹MVCçš„ç†è§£ 

```
MVCæ˜¯è½¯ä»¶å¼€å‘ä¸­å¸¸è§çš„å¼€å‘æ¨¡å¼ï¼Œä¸»è¦åº”ç”¨äºåç«¯ï¼Œå°†ç¨‹åºåˆ’åˆ†ä¸ºMæ¨¡å‹ã€Vè§†å›¾ã€Cæ§åˆ¶å™¨ä»è€Œä¾¿äºå›¢é˜Ÿåä½œå¼€å‘ï¼Œå‡å°‘ä»£ç å†—ä½™
```

- è°ˆè°ˆä½ å¯¹MVVMç†è§£

```
MVVMæ˜¯Model-View-ViewModelç¼©å†™ï¼Œä¹Ÿå°±æ˜¯å°†MVCä¸­çš„Controlleræ¼”å˜æˆViewModel
Modelå±‚ä»£è¡¨æ•°æ®æ¨¡å‹ã€
Viewå±‚ä»£è¡¨UIç»„ä»¶
ViewModelæ˜¯Modelã€Viewå±‚çš„æ¡¥æ¢ï¼Œæ•°æ®ä¼šç»‘å®šåˆ°ViewModelå¹¶è‡ªåŠ¨å°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ï¼Œè§†å›¾å˜åŒ–ä¼šé€šçŸ¥ViewModelå±‚æ›´æ–°æ•°æ®ã€‚

æˆ–è€… 

éšç€ç§»åŠ¨äº’è”ç½‘çš„å‘å±•ï¼ŒMVVMæ€æƒ³å€Ÿé‰´MVCã€MVPæ€æƒ³æ¼”å˜è€Œæ¥ï¼ŒMæ¨¡å‹è´Ÿè´£æ•°æ®ç»´æŠ¤ï¼ŒVè§†å›¾è´Ÿè´£æ•°æ®å±•ç¤ºï¼ŒVMåˆ™æ˜¯Må’ŒVçš„æ¡¥æ¢ï¼Œç›‘æ§Mæ¨¡å‹æ•°æ®å˜åŒ–è‡ªåŠ¨æ›´æ–°Vè§†å›¾ï¼Œä»è€Œè§£å†³ä¼ ç»Ÿå‰åç«¯åˆ†ç¦»JQæ¶æ„å¼Šç«¯

å¼€å‘è€…åœ¨ä»£ç ä¸­å¤§é‡è°ƒç”¨ç›¸åŒçš„ DOM API, å¤„ç†ç¹ç ï¼Œæ“ä½œå†—ä½™ï¼Œä½¿å¾—ä»£ç éš¾ä»¥ç»´æŠ¤ã€‚
å¤§é‡çš„DOM æ“ä½œä½¿é¡µé¢æ¸²æŸ“æ€§èƒ½é™ä½ï¼ŒåŠ è½½é€Ÿåº¦å˜æ…¢ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚
å½“ Model é¢‘ç¹å‘ç”Ÿå˜åŒ–ï¼Œå¼€å‘è€…éœ€è¦ä¸»åŠ¨æ›´æ–°åˆ°View ï¼›å½“ç”¨æˆ·çš„æ“ä½œå¯¼è‡´ Model å‘ç”Ÿå˜åŒ–ï¼Œå¼€å‘è€…åŒæ ·éœ€è¦å°†å˜åŒ–çš„æ•°æ®åŒæ­¥åˆ°Model ä¸­ï¼Œè¿™æ ·çš„å·¥ä½œä¸ä»…ç¹çï¼Œè€Œä¸”å¾ˆéš¾ç»´æŠ¤å¤æ‚å¤šå˜çš„æ•°æ®çŠ¶æ€ã€‚
```

- è°ˆè°ˆMVVMå’ŒMVCåŒºåˆ«

```
ç›¸åŒç‚¹ï¼šéƒ½æ˜¯è½¯ä»¶å¼€å‘å¸¸è§çš„å¼€å‘æ¨¡å¼æˆ–è€…å¼€å‘æ€æƒ³
ä¸åŒç‚¹ï¼š
1- MVCåç«¯å±…å¤šï¼ŒMVVMå‰ç«¯
2- MVCå•å‘é€šä¿¡ ç›®çš„å°†Må’ŒVä»£ç åˆ†ç¦»ï¼ŒMVVMåˆ™æ˜¯åŒå‘é€šä¿¡ï¼Œä¸éœ€è¦æ‰‹åŠ¨æ“ä½œDOM

æˆ–

æœ€åˆMVCæœ€æ—©å‡ºç°åœ¨åç«¯   Mä»£è¡¨æ¨¡å‹è´Ÿè´£æ•°æ®å¤„ç†ã€Vä»£è¡¨è§†å›¾è´Ÿè´£æ•°æ®æˆ˜å£«ã€Cä»£è¡¨æ§åˆ¶å™¨è´Ÿè´£è°ƒåº¦
åæ¥å‰ç«¯ä¹Ÿæœ‰äº†MVCåº“ï¼Œæœ€æ—©å®ç°çš„å°±æ˜¯backbone.js ä½†æ˜¯Vå’ŒMå¹¶æ²¡æœ‰å¾ˆå¥½çš„è§£è€¦
å› æ­¤å‡ºç°äº†MVVMæ¨¡å¼ï¼Œ
MVVMæ˜¯Model-View-ViewModelç¼©å†™ï¼Œä¹Ÿå°±æ˜¯å°†MVCä¸­çš„Controlleræ¼”å˜æˆViewModel
Modelå±‚ä»£è¡¨æ•°æ®æ¨¡å‹ã€
Viewå±‚ä»£è¡¨UIç»„ä»¶
ViewModelæ˜¯Modelã€Viewå±‚çš„æ¡¥æ¢ï¼Œæ•°æ®ä¼šç»‘å®šåˆ°ViewModelå¹¶è‡ªåŠ¨å°†æ•°æ®æ¸²æŸ“åˆ°é¡µé¢ï¼Œè§†å›¾å˜åŒ–ä¼šé€šçŸ¥ViewModelå±‚æ›´æ–°æ•°æ®ã€‚
```

> å¤šè¯´ä¸€å˜´ï¼šVUEä¸æ˜¯çº¯MVVMæ¡†æ¶ 
>
> https://cn.vuejs.org/v2/guide/instance.html#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA-Vue-%E5%AE%9E%E4%BE%8B 
>
> è™½ç„¶æ²¡æœ‰å®Œå…¨éµå¾ª [MVVM æ¨¡å‹](https://zh.wikipedia.org/wiki/MVVM)ï¼Œä½†æ˜¯ Vue çš„è®¾è®¡ä¹Ÿå—åˆ°äº†å®ƒçš„å¯å‘ã€‚å› æ­¤åœ¨æ–‡æ¡£ä¸­ç»å¸¸ä¼šä½¿ç”¨ `vm` (ViewModel çš„ç¼©å†™) è¿™ä¸ªå˜é‡åè¡¨ç¤º Vue å®ä¾‹ã€‚



## ğŸŒŸ  è¯´ä¸€ä¸‹v-showã€v-ifçš„åŒºåˆ«

ç›¸åŒç‚¹ï¼šéƒ½å¯ä»¥ç”¨æˆ·åˆ¤æ–­æ§åˆ¶å…ƒç´ éšè—æ˜¾ç¤º

ä¸åŒç‚¹ï¼š1-v-ifè¯­æ³•æ›´å¼ºã€2-v-ifæ§åˆ¶DOMã€v-showæ§åˆ¶CSS

å¦‚ä½•é€‰ï¼šé«˜é¢‘åˆ‡æ¢ä¾‹å¦‚äºŒç»´ç ã€ç™»å½•å¼¹æ¡†ã€æç¤ºæ¡†ã€åˆ é™¤æç¤ºæ¡†ã€tabé€‰é¡¹å¡ï¼Œæ¨èä½¿ç”¨v-show æ¥å‡å°‘DOMé¢‘ç¹åˆ é™¤åˆ›å»ºæ‰€äº§ç”Ÿçš„é¢å¤–æ€§èƒ½å¼€é”€



é«˜é€¼æ ¼

```
v-if æ˜¯çœŸæ­£çš„æ¡ä»¶æ¸²æŸ“ï¼Œå› ä¸ºå®ƒä¼šç¡®ä¿åœ¨åˆ‡æ¢è¿‡ç¨‹ä¸­æ¡ä»¶å—å†…çš„äº‹ä»¶ç›‘å¬å™¨å’Œå­ç»„ä»¶é€‚å½“åœ°è¢«é”€æ¯å’Œé‡å»ºï¼›ä¹Ÿæ˜¯æƒ°æ€§çš„ï¼šå¦‚æœåœ¨åˆå§‹æ¸²æŸ“æ—¶æ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åšâ€”â€”ç›´åˆ°æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶ï¼Œæ‰ä¼šå¼€å§‹æ¸²æŸ“æ¡ä»¶å—ã€‚
v-showÂ å°±ç®€å•å¾—å¤šâ€”â€”ä¸ç®¡åˆå§‹æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Œå…ƒç´ æ€»æ˜¯ä¼šè¢«æ¸²æŸ“ï¼Œå¹¶ä¸”åªæ˜¯ç®€å•åœ°åŸºäº CSS çš„ â€œdisplayâ€ å±æ€§è¿›è¡Œåˆ‡æ¢ã€‚
æ‰€ä»¥ï¼Œv-if é€‚ç”¨äºåœ¨è¿è¡Œæ—¶å¾ˆå°‘æ”¹å˜æ¡ä»¶ï¼Œä¸éœ€è¦é¢‘ç¹åˆ‡æ¢æ¡ä»¶çš„åœºæ™¯ï¼›v-show åˆ™é€‚ç”¨äºéœ€è¦éå¸¸é¢‘ç¹åˆ‡æ¢æ¡ä»¶çš„åœºæ™¯ã€‚
```





## ğŸ†• åˆ¤æ–­å¾ªç¯v-ifã€v-forä¼˜å…ˆçº§

- æ‰‹å†Œ

```
https://cn.vuejs.org/v2/guide/list.html#v-for-%E4%B8%8E-v-if-%E4%B8%80%E5%90%8C%E4%BD%BF%E7%94%A8
https://cn.vuejs.org/v2/guide/conditional.html#v-if-%E4%B8%8E-v-for-%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8 
```

- åœ¨ vue 2.x ä¸­ï¼Œåœ¨ä¸€ä¸ªå…ƒç´ ä¸ŠåŒæ—¶ä½¿ç”¨ `v-if` å’Œ `v-for` æ—¶ï¼Œ `v-for` ä¼šä¼˜å…ˆä½œç”¨ã€‚
- åœ¨ vue 3.x ä¸­ï¼Œ `v-if` æ€»æ˜¯ä¼˜å…ˆäº `v-for` ç”Ÿæ•ˆã€‚


- vue2 

```
<div id="root">
    <h1>vue2 v-for>v-ifï¼ˆä»…ä»…æŒ‡åŒä¸€ä¸ªæ ‡ç­¾ä¸Šï¼‰</h1>
    

    <!-- åˆ¤æ–­å‡çš„ï¼Œå‹æ ¹ä¸ä¼šéå† -->
    <div v-if="state">
    	<p v-for="item in todos">{{item.title}}</p>
    </div>

    <!-- åŒä¸€ä¸ªæ ‡ç­¾å…ˆv-forèµ°ä¸‰æ¬¡ç”Ÿæˆ3ä¸ªp  ç„¶åæŒ¨ä¸ªåˆ¤æ–­éƒ½éšè—åˆ æ‰   è„±è£¤å­æ”¾å±çš„æ„Ÿè§‰ -->
    <p v-for="item in todos" v-if="state">{{item.title}}</p>
    
</div>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
const vm = new Vue({
    el: "#root",
    data: {
   	 	state: false,
    
        todos: [
            {id:1, title:'a'},
            {id:2, title:'b'},
            {id:3, title:'c'},
        ]
    }
})
</script>
```

- vue3  ä¼˜åŒ–

```

<div id="root2">
    <h1>vue3 v-if > v-for</h1>
    
    
    <!-- ä¸å¾ªç¯ -->
    <p v-for="item in todos" v-if="state">{{item.title}}</p>

    <hr>
    

    <!-- ä¸å¾ªç¯ -->
    <div v-if="state">
    	<p v-for="item in todos">{{item.title}}</p>
    </div>

    <hr>

    <!-- 
        å¤šå­¦ä¸€æ‹›ï¼šä¸ºäº†é¿å…æŒ‡ä»¤å†™åœ¨åŒä¸€ä¸ªæ ‡ç­¾ä¸Šå¯è¯»æ€§æŸ¥ï¼Œå› æ­¤ä»£ç æå‡/æŒ‡ä»¤æå‡ ä¹Ÿå°±æ˜¯å°†v-ifå†™åœ¨çˆ¶çº§æ ‡ç­¾ä¸Š
        ä½†æ˜¯å½±å“å¸ƒå±€ï¼Œ
        è§£å†³ç”¨templateæ ‡ç­¾  ä¸ä¼š
    -->
    <template v-if="state">
    	<p v-for="item in todos">{{item.title}}</p>
    </template>
</div>
<script src="https://unpkg.com/vue@next"></script>
<script>
Vue.createApp({
    data() {
        return {
            state: true,

            todos: [
                {id:1, title:'a', show: true},
                {id:2, title:'b', show: false},
                {id:3, title:'c', show: true},
            ]
        }
    }
}).mount('#root2')
</script>
```







# â–  week1-day2  ç‰¹æ®Šè¯­æ³•

## ğŸ’˜ è¯¾é¢˜      

week1-day2  VueåŸºç¡€ï¼ˆç‰¹æ®Šè¯­æ³•ï¼šè¡¨å•è¾“å…¥ç»‘å®šã€è´­ç‰©è½¦æ¡ˆä¾‹ï¼‰



æ— ï¼Œéƒ½åœ¨ã€week1-day6  VueåŸç†ã€‘è¯¾ä»¶ä¸­





# â–  week1-day3 èŠ±å¼æ€æƒ³

## ğŸ’˜ è¯¾ä»¶

week1-day3  VueåŸºç¡€ï¼ˆèŠ±å¼æ€æƒ³ï¼šClassä¸Styleç»‘å®šã€è®¡ç®—å±æ€§ã€ä¾¦å¬å™¨ã€è¿‡æ»¤å™¨ã€è‡ªå®šä¹‰æŒ‡ä»¤ã€refå±æ€§ã€æ··å…¥ï¼‰



##  ğŸŒ› Classä¸Styleç»‘å®šå·¥ä½œæœ‰ç”¨è¿‡å—

```
:class="item.icon"
:style="{ width: item.payload ? item.payload.width : '100%' }"
:style="{ width: item.width || '70px' }"

1-åå°ç®¡ç†ç³»ç»Ÿèœå•   v-bidn:style="{width: æ¨¡å‹æ•°æ®}"
2-ä¸»é¢˜è‰²åˆ‡æ¢        
3-tabé€‰é¡¹å¡
4-å…¶ä»–

æ¡ˆä¾‹1ï¼šhttps://vant-contrib.gitee.io/vant/#/zh-CN/tab
æºç 1ï¼šhttps://unpkg.com/browse/vant@1.0.0/packages/tab/index.vue
æ¡ˆä¾‹3ï¼šhttps://element.eleme.io/#/zh-CN/component/tabs 
æºç 3ï¼šhttps://unpkg.com/browse/element-ui@2.15.5/packages/tabs/src/tab-bar.vue
æ¡ˆä¾‹3ï¼šhttps://element.eleme.io/#/zh-CN/component/button
æºç 3ï¼šhttps://unpkg.com/browse/element-ui@2.15.5/packages/button/src/button.vue
```





##  ğŸŒŸ è®¡ç®—å±æ€§å’Œä¾¦å¬å™¨åŒºåˆ«ã€ä½¿ç”¨åœºæ™¯

è®¡ç®—å±æ€§ï¼šè®¡ç®—å±æ€§æœ‰ç¼“å­˜ã€å¹¶ä¸”æ˜¯å“åº”å¼ä¾èµ–ç¼“å­˜ï¼Œè°ƒç”¨ä¸åŠ å°æ‹¬å·

ä¾¦å¬å™¨ï¼šä¾¦å¬å™¨æ— ç¼“å­˜ï¼Œä¾¦å¬æ¨¡å‹æ•°æ®å˜åŒ–ï¼Œä¸èƒ½è°ƒç”¨



è®¡ç®—å±æ€§ï¼šä¸€ä¸ªæ•°æ®, ä¾èµ–å¦å¤–ä¸€äº›æ•°æ® **â€œè®¡ç®—â€** è€Œæ¥çš„ç»“æœ

```
åˆ©ç”¨vuexè¾…åŠ©å‡½æ•°ï¼Œç»“åˆè®¡ç®—å±æ€§å»æ˜¾ç¤ºæ•°æ® é¡¹ç›®ä¸­å¤§é‡ä½¿ç”¨
æ ‘å‹åˆ†ç±»æ•°æ®
ç­‰ç­‰å¤æ‚çš„é€»è¾‘ï¼Œå­˜åœ¨æ€§èƒ½é—®é¢˜ã€æˆ–è€…é¿å…é‡å¤è°ƒç”¨å­˜åœ¨æ€§èƒ½é—®é¢˜çš„åœºæ™¯éƒ½å¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§ã€‚
```

ä¾¦å¬å™¨ï¼šå½“éœ€è¦ç›‘æ§æ¨¡å‹æ•°æ®å˜åŒ–æ—¶å€™

```
ç½‘ç«™æœç´¢
ç›‘æ§å¼¹æ¡†æ˜¾ç¤ºäºŒç»´ç 
æ¨¡ç³Šç­›é€‰ã€å…³é”®è¯ç­›é€‰
æ—¥æœŸç­›é€‰ã€ä¸‹æ‹‰ç­›é€‰
å…¨é€‰ã€å…¨ä¸é€‰ç­‰
é”‹å›¢Adminé¡¹ç›®ä¸­ç›‘æ§è·¯ç”±å˜åŒ–æ˜¾ç¤ºå¯¹åº”é¢åŒ…å±‘
ç­‰ç­‰
```



> - ç›¸åŒç‚¹
>
> 1. è¯­æ³•è§’åº¦ï¼ˆ a ä»æ€æƒ³ä¸Šéƒ½æ˜¯æ™®é€šæ–¹æ³•å‡çº§ç‰ˆ  b éƒ½å¯ä»¥å†™å‡½æ•°æˆ–å¯¹è±¡
> 2. ç ”å‘è§’åº¦ï¼šè®¡ç®—å±æ€§-å‡å°‘å†—ä½™ã€ç¼“å­˜æå‡æ€§èƒ½ã€ä¾¦å¬å™¨-å‡å°‘DOMæ“ä½œ ç¬¦åˆVUEå“åº”å¼æ€æƒ³
>
> - ä¸åŒç‚¹
>
> 1. ä»è¯­æ³•è§’åº¦ï¼šè°ƒç”¨æ—¶ï¼Œè®¡ç®—å±æ€§è°ƒç”¨ä¸åŠ å°æ‹¬å·ï¼Œä¾¦å¬å™¨ä¸èƒ½è°ƒç”¨
> 2. ä»åŠŸèƒ½è§’åº¦ï¼šè®¡ç®—å±æ€§æœ‰ç¼“å­˜ã€å“åº”å¼ä¾èµ–ï¼Œä¾¦å¬å™¨æ²¡æœ‰ç¼“å­˜å¸¸ç”¨äºæœç´¢ã€ç›‘æ§æ•°æ®å˜åŒ–ã€ä»£æ›¿äº‹ä»¶ç­‰



##  ğŸŒŸ watchç›‘æ§å¤±æ•ˆåœºæ™¯&è§£å†³æ–¹æ¡ˆ

é’ˆå¯¹äºå¯¹è±¡ç±»å‹çš„æ•°æ®ï¼Œéœ€è¦åŠ deepå±æ€§æ·±åº¦ç›‘å¬/ä¾¦å¬





##  ğŸŒŸ watchä¸¤å¤§å±æ€§åº”ç”¨åœºæ™¯

- deepæ˜¯ä»€ä¹ˆå“ªé‡Œç”¨

> a-é”‹å›¢Adminé¡¹ç›®ä¸­ï¼šç›‘æ§è·¯ç”±å˜åŒ–ï¼Œé€šè¿‡metaè·¯ç”±å…ƒä¿¡æ¯é‡ç½®é¢åŒ…å±‘ğŸ
>
> ```
> // watch: {
> //   // é’ˆå¯¹äºå¤æ‚ç±»å‹çš„æ·±åº¦ç›‘å¬ï¼ˆæ³¨ï¼šæ·±åº¦ç›‘å¬åœºæ™¯ï¼‰
> //   // params(newData) {
> //   //   console.log(newData);
> //   // },
> //   params: {
> //     deep: true,
> //     handler(newData) { // ä¹Ÿå¯ä»¥ç›´æ¥ç”¨æ—¥æœŸç»„ä»¶çš„changeäº‹ä»¶
> //       console.log(newData);
> //  	   this.params.start_time = newData.date[0];
> //   		 this.params.end_time = newData.date[1];
> //     },
> //   },
> // },
> ```
>
> b-é”‹å›¢Adminé¡¹ç›®ä¸­ï¼šç»™è§’è‰²åˆ†é…æƒé™ é‡ç½®æ ‘ğŸŒ²å‹æ§ä»¶
>
> ```
> editAuth.vue 
> // è·å–æ‰€æœ‰æƒé™  å½“å‰è¡Œæ•°æ®å˜åŒ–è·å–æœ€æ–°çš„æƒé™æ•°æ®
> watch: {
>   row: {
>     deep: true,
>     handler() {
>       getAuthsApi().then((res) => {
>       	this.authsData = res.data;
>       });
>     },
>   },
> },
> ```
>
> C-é”‹å›¢Adminé¡¹ç›®ä¸­ï¼šåŸºäºelementuiäºŒæ¬¡å°è£…çš„formç¼–è¾‘é»˜è®¤æ˜¾ç¤ºæ•°æ®è¦ç›‘æ§rowå˜åŒ–
>
> ```
> watch: { // qf-formå°è£…çš„è¡¨å•ç»„ä»¶ä¸­ï¼Œç¼–è¾‘ä¼ é€’çš„rowå½“å‰è¡Œæ•°æ®å˜åŒ–åŒæ­¥æ›´æ”¹
>    // row(newData) {
>    //   console.log("watch", newData);
>    // },
>    row: {
>      handler(newData) {
>         if (!newData) return;
>         this.formData = newData;
>     },
>     immediate: true,
>   },
> },
> ```

- immediateæ˜¯ä»€ä¹ˆå“ªé‡Œç”¨

> a-é”‹å›¢Adminé¡¹ç›®ä¸­ï¼šmeatè·¯ç”±å…ƒä¿¡æ¯ã€é¦–æ¬¡ã€‘é‡ç½®é¢åŒ…å±‘ğŸ
>
> ```
> watch: { // ç›‘æ§è·¯ç”±å˜åŒ–åŒæ­¥é¢åŒ…å±‘
>   // $route(newData) {
>   //   // console.log(newData);
>   //   this.name1 = newData.meta.name1;
>   //   this.name2 = newData.meta.name2;
>   // },
>   $route: {
>     handler(newData) {
>       this.name1 = newData.meta.name1;
>       this.name2 = newData.meta.name2;
>     },
>   	immediate: true,
>   },
> },
>   
> ```
>
> b-é”‹å›¢Adminé¡¹ç›®ä¸­ï¼šåŸºäºelementuiäºŒæ¬¡å°è£…çš„formç¼–è¾‘é»˜è®¤æ˜¾ç¤ºæ•°æ®è¦ç›‘æ§rowå˜åŒ–
>
> ````
> watch: { // qf-formå°è£…çš„è¡¨å•ç»„ä»¶ä¸­ï¼Œç¼–è¾‘ä¼ é€’çš„rowå½“å‰è¡Œæ•°æ®å˜åŒ–åŒæ­¥æ›´æ”¹
>    // row(newData) {
>    //   console.log("watch", newData);
>    // },
>    row: {
>      handler(newData) {
>         if (!newData) return;
>         this.formData = newData;
>     },
>     immediate: true,
>   },
> },
> ````



##  ğŸŒŸ è°ˆè°ˆä½ å¯¹è¿‡æ»¤å™¨çš„ç†è§£æœ‰æ²¡æœ‰ç”¨è¿‡

ä½œç”¨ï¼šé¡¹ç›®ç”¨æ¥è¿‡æ»¤æ•°æ®ï¼Œä¾¿äºç»´æŠ¤

è¯­æ³•ï¼šVue.filter()

åœºæ™¯ï¼šè®¢å•çŠ¶æ€ã€å•†å“çŠ¶æ€ã€æ€§åˆ«ã€æ”¯ä»˜çŠ¶æ€ã€å‘è´§çŠ¶æ€ã€‚





##  ğŸŒŸ  è°ˆè°ˆä½ å¯¹æ··å…¥çš„ç†è§£æœ‰æ²¡æœ‰ç”¨è¿‡

ä½œç”¨ï¼šå¤ç”¨ç»„ä»¶é‡Œé¢çš„é€»è¾‘å±‚ï¼Œå‡å°‘å†—ä½™ä¾¿äºç»´æŠ¤

è¯­æ³•ï¼šVue.mixin({data,methods....})

åœºæ™¯ï¼šé”‹å›¢Adminé¡¹ç›®ä¸­ç¡®è®¤åˆ é™¤ã€æ¥å£æ“ä½œåçš„æç¤ºé‡å®šå‘ã€jumpé‡å®šå‘å°è£…ç­‰ç­‰

åœºæ™¯ï¼šè·³è½¬å°è£…this.$router.push ä¹Ÿæ˜¯ä¸ºäº†é¿å…é‡å¤ç‚¹å‡»æŠ¥é”™ï¼›ä¹Ÿå¯ä»¥é€šè¿‡é‡ç½®è·¯ç”±æ¨¡å—åŸå‹









##  ğŸŒ› è‡ªå®šä¹‰æŒ‡ä»¤æœ‰æ²¡æœ‰ç”¨è¿‡

ç”¨è¿‡



å…¨å±ã€å¤åˆ¶å‰ªåˆ‡æ¿ã€dialogå¯¹è¯æ¡†æ‹–æ‹½ç­‰ç­‰










# â–  week1-day4 ç»„ä»¶ç¼–ç¨‹

## ğŸ’˜ è¯¾ä»¶

week1-day4  VueåŸºç¡€ï¼ˆç»„ä»¶ç¼–ç¨‹ï¼šç»„ä»¶åŒ–å¼€å‘æ€æƒ³ã€ç»„ä»¶å°è£…ã€propsã€$emitã€ç»„ä»¶é€šä¿¡ã€æ’æ§½slotã€ä»¿å†™UIç»„ä»¶åº“ã€åŠ¨æ€ç»„ä»¶ç­‰ï¼‰





## ğŸŒŸ ä¸ºå•¥dataè¦å†™å‡½æ•°é‡Œé¢è¿”å›å¯¹è±¡

> è¯´æ˜1
>
> ```
> ä¸€ä¸ªç»„ä»¶è¢«å¤ç”¨å¤šæ¬¡ï¼Œä¹Ÿå°±ä¼šåˆ›å»ºå¤šä¸ªå®ä¾‹ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯åŸºäºåŒä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå¦‚æœdataç›´æ¥æ˜¯å¯¹è±¡ï¼Œå› ä¸ºå¯¹è±¡æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‰€ä»¥ä¼šå½±å“åˆ°æ‰€æœ‰å®ä¾‹ã€‚
> å› æ­¤ï¼šä¸ºäº†ä¿è¯ç»„ä»¶ä¸åŒçš„å®ä¾‹ä¹‹é—´dataä¸å†²çªï¼Œdataå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°
> ```
>
> æˆ–è¯´æ³•2
>
> ```
> å½“ä¸€ä¸ªç»„ä»¶è¢«å®šä¹‰ï¼Œdata å¿…é¡»å£°æ˜ä¸ºè¿”å›ä¸€ä¸ªåˆå§‹æ•°æ®å¯¹è±¡çš„å‡½æ•°ï¼Œå› ä¸ºç»„ä»¶å¯èƒ½è¢«ç”¨æ¥åˆ›å»ºå¤šä¸ªå®ä¾‹ã€‚å¦‚æœ data ä»ç„¶æ˜¯ä¸€ä¸ªçº¯ç²¹çš„å¯¹è±¡ï¼Œåˆ™æ‰€æœ‰çš„å®ä¾‹å°†å…±äº«å¼•ç”¨åŒä¸€ä¸ªæ•°æ®å¯¹è±¡ï¼é€šè¿‡æä¾› data å‡½æ•°ï¼Œæ¯æ¬¡åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹åï¼Œæˆ‘ä»¬èƒ½å¤Ÿè°ƒç”¨ data å‡½æ•°ï¼Œä»è€Œè¿”å›åˆå§‹æ•°æ®çš„ä¸€ä¸ªå…¨æ–°å‰¯æœ¬æ•°æ®å¯¹è±¡
> ```
>
> æˆ–è¯´æ³•3
>
> ```
> å› ä¸ºç»„ä»¶æ˜¯ç”¨æ¥å¤ç”¨çš„ï¼Œä¸” JS é‡Œå¯¹è±¡æ˜¯å¼•ç”¨å…³ç³»ï¼Œ
> å¦‚æœç»„ä»¶ä¸­ data æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™æ ·ä½œç”¨åŸŸæ²¡æœ‰éš”ç¦»ï¼Œ
> å­ç»„ä»¶ä¸­çš„ data å±æ€§å€¼ä¼šç›¸äº’å½±å“ï¼Œå¦‚æœç»„ä»¶ä¸­ data é€‰é¡¹æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œ
> é‚£ä¹ˆæ¯ä¸ªå®ä¾‹å¯ä»¥ç»´æŠ¤ä¸€ä»½è¢«è¿”å›å¯¹è±¡çš„ç‹¬ç«‹çš„æ‹·è´ï¼Œ
> ç»„ä»¶å®ä¾‹ä¹‹é—´çš„ data å±æ€§å€¼ä¸ä¼šäº’ç›¸å½±å“ï¼›è€Œ new Vue çš„å®ä¾‹ï¼Œ
> æ˜¯ä¸ä¼šè¢«å¤ç”¨çš„ï¼Œå› æ­¤ä¸å­˜åœ¨å¼•ç”¨å¯¹è±¡çš„é—®é¢˜ã€‚
> 
> 
> 
> function Component() {}
> Component.prototype.data = {
>   name: "jack",
>   age: 22,
> };
> var componentA = new Component();
> var componentB = new Component();
> componentA.data.age = 55;
> // componentA å’Œ componentB dataä¹‹é—´æŒ‡å‘äº†åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œ
> // ç›¸äº’æ±¡æŸ“
> console.log(componentA, componentB);
> 
> 
> 
> function Component() {
>   this.data = this.data();
> }
> Component.prototype.data = function () {
>   return {
>     name: "jack",
>     age: 22,
>   };
> };
> var componentA = new Component();
> var componentB = new Component();
> componentA.data.age = 55; // äº’è¡¥å½±å“
> console.log(componentA, componentB);
> 
> 
> ps.
> let a = {}
> let b = {}   äº’è¡¥å½±å“
> ----------
> let a = {}
> let b = a    ç›¸äº’å½±å“ï¼ˆä¸€ä¸ªå¯¹è±¡èµ‹å€¼ç»™å¦ä¸€ä¸ªå¯¹è±¡  æ‰ä¼šç›¸äº’å½±å“
> ```
>
> 





## ğŸŒ›è°ˆè°ˆä½ å¯¹å•å‘æ•°æ®æµçš„ç†è§£

å•å‘æ•°æ®æµæŒ‡åœ¨ç»„ä»¶åŒ–æ€æƒ³ï¼Œå¼€å‘çš„é¡¹ç›®ä¸­ï¼Œæ•°æ®ç”±æ ¹æˆ–è€…çˆ¶ç»„ä»¶ä¼ é€’ç»™å­ç»„ä»¶ï¼Œç¦æ­¢ğŸˆ²å­ç»„ä»¶ä¸­ç›´æ¥æ›´æ”¹ï¼Œè€Œæ˜¯ç”±çˆ¶æ›´æ”¹åé‡æ–°ä¼ é€’ç»™å­æ•°æ®ä½¿ç”¨

```
// åœ¨vueä¸­ åªèƒ½çˆ¶æ•°æ®ä¼ é€’ç»™å­ çˆ¶ä¿®æ”¹åä¼šè‡ªåŠ¨åŒæ­¥åˆ°å­
// ä¸å…è®¸å­ä¿®æ”¹çˆ¶  
// ç”Ÿæ´»ä¸­ï¼šä½ å¦ˆç»™ä½ å¤šå°‘é’± å°±ç”¨å¤šå°‘ï¼Œä¸å…è®¸ä½ ç›´æ¥å»æ‹¿ å¦åˆ™é•¿å¤§äº†å®ŒçŠŠå­
// ä»£ç ä¸­ï¼šçˆ¶ç»™ä½ å°±ç”¨ï¼Œä½ è‡ªå·±ç›´æ¥æ”¹ å®¹æ˜“åæœŸææ‡µé€¼è°ä¸²æ”¹äº†æ•°æ®
```





## ğŸŒŸ å¦‚ä½•å®ç°ç»„ä»¶é€šä¿¡ï¼Ÿ

å¸¸ç”¨ï¼šçŠ¶æ€ç®¡ç†å·¥å…· vuex  
å¸¸ç”¨ï¼šçˆ¶ä¼ å­ propsã€å­ä¼ çˆ¶$emitã€å…„å¼Ÿ eventBus
å¸¸ç”¨ï¼šslotæ’æ§½
æ¦‚ç‡ï¼šé€šè¿‡ç»„ä»¶å®ä¾‹  refè·å–ã€     =ã€‹   $parentè·å–ã€$rootè·å–ã€$childrenè·å–
æ¦‚ç‡ï¼šv-model
äº†è§£ï¼šåˆ©ç”¨provideã€inject





##  ğŸŒŸ äº‹ä»¶.nativeä½œç”¨

æ¦‚å¿µï¼šç›´æ¥åœ¨ç»„ä»¶ä¸Šç»‘å®šåŸç”Ÿäº‹ä»¶

ä¸¾ä¾‹ï¼šä½¿ç”¨elemenuiã€vantuiå°è£…çš„å¼¹æ¡†ã€inputç­‰ç»„ä»¶ï¼Œéœ€è¦ä½¿ç”¨å®˜æ–¹åŸç”Ÿäº‹ä»¶





## ğŸŒŸ åœ¨ç»„ä»¶ä¸Šå†™åŸç”Ÿäº‹ä»¶å¤±æ•ˆè§£å†³æ–¹æ¡ˆ

> æ–¹æ³•1ï¼šé€šè¿‡è‡ªå®šä¹‰äº‹ä»¶é‡å†™åŸç”Ÿäº‹ä»¶
>
> æ–¹æ³•2ï¼šåŠ .nativeä¿®é¥°ç¬¦



## ğŸŒŸ åœ¨ç»„ä»¶ä¸Šä½¿ç”¨v-modelåŸç†

å·¥ä½œæå°‘

ä½†æ˜¯ç¬”è¯•å¯èƒ½éœ€è¦æ‰‹å†™

```
<ç»„ä»¶å v-model="dataä¸­çš„é”®"></ç»„ä»¶å>
<ç»„ä»¶å :value="dataä¸­çš„é”®" @input="data => dataä¸­çš„é”® = data"></ç»„ä»¶å>
```



## ğŸŒ› ä¿®é¥°ç¬¦.syncåŸç†


```
<ç»„ä»¶å v-bind:å±æ€§å.sync="dataä¸­çš„é”®"></ç»„ä»¶å>
<ç»„ä»¶å v-bind:å±æ€§å="dataä¸­çš„é”®"  @update:å¿…é¡»ä¸€æ ·çš„å±æ€§å="data => dataä¸­çš„é”® = data"></ç»„ä»¶å>
```







# â–  week1-day5 å‰©ä½™çŸ¥è¯†ï¼šç”Ÿå‘½å‘¨æœŸã€keep-aliveç­‰ç­‰

## ğŸ’˜ è¯¾ä»¶

week1-day5  VueåŸºç¡€ï¼ˆå‰©ä½™çŸ¥è¯†ï¼šè™šæ‹ŸDOMã€æµè§ˆå™¨è¿è¡Œæœºåˆ¶ã€å›æµé‡ç»˜ã€ç”Ÿå‘½å‘¨æœŸã€keep-aliveã€transitionè¿‡æ¸¡



## ğŸŒŸ è¯´å‡ºæµè§ˆå™¨è¿è¡Œæœºåˆ¶

æµè§ˆå™¨ä¸»è¿›ç¨‹ï¼Œè´Ÿè´£åˆ›å»ºå’Œé”€æ¯tabè¿›ç¨‹ã€è´Ÿè´£äº¤äº’å‰è¿›åé€€ã€è´Ÿè´£ç½‘é¡µæ–‡ä»¶ä¸‹è½½ç­‰
æ¸²æŸ“è¿›ç¨‹ï¼šæ¯ä¸ªtabå¯¹åº”ä¸€ä¸ªæ¸²æŸ“è¿›ç¨‹ï¼Œä¸‹é¢æœ‰GUIæ¸²æŸ“çº¿ç¨‹ã€JSå¼•æ“çº¿ç¨‹ã€äº‹ä»¶çº¿ç¨‹ã€å®šæ—¶å™¨çº¿ç¨‹ã€å¼‚æ­¥è¯·æ±‚çº¿ç¨‹
GPUè¿›ç¨‹ï¼šè´Ÿè´£3Då›¾ç»˜åˆ¶
ç¬¬ä¸‰æ–¹æ’ä»¶è¿›ç¨‹ï¼šè´Ÿè´£ç¬¬ä¸‰æ–¹æ’ä»¶å¤„ç†ï¼Œä¾‹å¦‚è·¨åŸŸã€å¹¿å‘Šæ‹¦æˆªæ’ä»¶ç­‰





## ğŸŒŸ è¯´å‡ºæµè§ˆå™¨è¾“å…¥ç½‘å€å¹²äº†å•¥

```
æµè§ˆå™¨è¾“å…¥ç½‘å€å›è½¦
å»DNSæœåŠ¡å™¨æ‰¾ç½‘å€å¯¹åº”çš„IPåœ°å€ 
æ ¹æ®IPåœ°å€åŠ ç«¯å£è®¿é—®æœåŠ¡å™¨è½¯ä»¶ 
æœåŠ¡å™¨è¿”å›æ•°æ®
æµè§ˆå™¨é€šè¿‡rendereræ˜¯æ¸²æŸ“è¿›ç¨‹å¤„ç†ï¼Œ
å…¶ä¸­GUIçº¿ç¨‹ä¸»è¦è´Ÿè´£é¡µé¢å¸ƒå±€ï¼Œè§£æHTMLã€CSSæ„å»ºDOMæ ‘ã€CSSè§„åˆ™æ ‘ã€ç„¶åç»“åˆæˆæ¸²æŸ“æ ‘ã€æœ€ç»ˆç»˜åˆ¶æ˜¾ç¤º
```





## ğŸŒ› è¯´å‡ºJSä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹

> ### å…ˆçœ‹ä¸€ä¸ªæ¯”å–»
>
> è¿›ç¨‹å°±æ˜¯ä¸€ä¸ªå…¬å¸ï¼Œæ¯ä¸ªå…¬å¸éƒ½æœ‰è‡ªå·±çš„èµ„æºå¯ä»¥è°ƒåº¦ï¼›å…¬å¸ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ï¼›è€Œçº¿ç¨‹å°±æ˜¯å…¬å¸ä¸­çš„æ¯ä¸ªå‘˜å·¥(ä½ ï¼Œæˆ‘ï¼Œä»–)ï¼Œå¤šä¸ªå‘˜å·¥ä¸€èµ·åˆä½œï¼Œå®Œæˆä»»åŠ¡ï¼Œå…¬å¸å¯ä»¥æœ‰ä¸€åå‘˜å·¥æˆ–å¤šä¸ªï¼Œå‘˜å·¥ä¹‹é—´å…±äº«å…¬å¸çš„ç©ºé—´
>
> ### ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿ
>
> è¿›ç¨‹ï¼šæ˜¯cpuåˆ†é…èµ„æºçš„æœ€å°å•ä½ï¼›ï¼ˆæ˜¯èƒ½æ‹¥æœ‰èµ„æºå’Œç‹¬ç«‹è¿è¡Œçš„æœ€å°å•ä½ï¼‰
>
> ### ä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿ
>
> çº¿ç¨‹ï¼šæ˜¯cpuè°ƒåº¦çš„æœ€å°å•ä½ï¼›ï¼ˆçº¿ç¨‹æ˜¯å»ºç«‹åœ¨è¿›ç¨‹çš„åŸºç¡€ä¸Šçš„ä¸€æ¬¡ç¨‹åºè¿è¡Œå•ä½ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼‰
>
> #### æµè§ˆå™¨æ˜¯å¤šè¿›ç¨‹çš„
>
> æ”¾åœ¨æµè§ˆå™¨ä¸­ï¼Œæ¯æ‰“å¼€ä¸€ä¸ªtabé¡µé¢ï¼Œå…¶å®å°±æ˜¯æ–°å¼€äº†ä¸€ä¸ªè¿›ç¨‹ï¼Œåœ¨è¿™ä¸ªè¿›ç¨‹ä¸­ï¼Œè¿˜æœ‰uiæ¸²æŸ“çº¿ç¨‹ï¼Œjså¼•æ“çº¿ç¨‹ï¼Œhttpè¯·æ±‚çº¿ç¨‹ç­‰ã€‚ æ‰€ä»¥ï¼Œæµè§ˆå™¨æ˜¯ä¸€ä¸ªå¤šè¿›ç¨‹çš„ã€‚
>
> ### å¤§å®¶éƒ½åœ¨è¯´jsæ˜¯å•çº¿ç¨‹çš„ï¼Œä½†æ˜¯ä¸ºä»€ä¹ˆè¦è®¾è®¡æˆå•çº¿ç¨‹ï¼Ÿ
>
> è¿™ä¸»è¦å’Œjsçš„ç”¨é€”æœ‰å…³ï¼Œjsæ˜¯ä½œä¸ºæµè§ˆå™¨çš„è„šæœ¬è¯­è¨€ï¼Œä¸»è¦æ˜¯å®ç°ç”¨æˆ·ä¸æµè§ˆå™¨çš„äº¤äº’ï¼Œä»¥åŠæ“ä½œdomï¼›è¿™å†³å®šäº†å®ƒåªèƒ½æ˜¯å•çº¿ç¨‹ï¼Œå¦åˆ™ä¼šå¸¦æ¥å¾ˆå¤æ‚çš„åŒæ­¥é—®é¢˜ã€‚ ä¸¾ä¸ªä¾‹å­ï¼šå¦‚æœjsè¢«è®¾è®¡äº†å¤šçº¿ç¨‹ï¼Œå¦‚æœæœ‰ä¸€ä¸ªçº¿ç¨‹è¦ä¿®æ”¹ä¸€ä¸ªdomå…ƒç´ ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹è¦åˆ é™¤è¿™ä¸ªdomå…ƒç´ ï¼Œæ­¤æ—¶æµè§ˆå™¨å°±ä¼šä¸€è„¸èŒ«ç„¶ï¼Œä¸çŸ¥æ‰€æªã€‚æ‰€ä»¥ï¼Œä¸ºäº†é¿å…å¤æ‚æ€§ï¼Œä»ä¸€è¯ç”Ÿï¼ŒJavaScriptå°±æ˜¯å•çº¿ç¨‹ï¼Œè¿™å·²ç»æˆäº†è¿™é—¨è¯­è¨€çš„æ ¸å¿ƒç‰¹å¾ï¼Œå°†æ¥ä¹Ÿä¸ä¼šæ”¹å˜.
>
> #### ä¸ºäº†åˆ©ç”¨å¤šæ ¸CPUçš„è®¡ç®—èƒ½åŠ›ï¼ŒHTML5æå‡ºWeb Workeræ ‡å‡†ï¼Œå…è®¸JavaScriptè„šæœ¬åˆ›å»ºå¤šä¸ªçº¿ç¨‹ï¼Œä½†æ˜¯å­çº¿ç¨‹å®Œå…¨å—ä¸»çº¿ç¨‹æ§åˆ¶ï¼Œä¸”ä¸å¾—æ“ä½œDOMã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªæ–°æ ‡å‡†å¹¶æ²¡æœ‰æ”¹å˜JavaScriptå•çº¿ç¨‹çš„æœ¬è´¨ã€‚





## ğŸŒ› è¯´å‡ºJSæ˜¯å•çº¿ç¨‹ ä¸ºä»€ä¹ˆä¸å­˜åœ¨æ‰§è¡Œæ•ˆç‡é—®é¢˜

JSæ˜¯å•çº¿ç¨‹æ‰§è¡Œç¨‹åºä»£ç ï¼Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆï¼ŒæŒ¨ä¸ªå¤„ç†ï¼›

ä½†æ˜¯é‡åˆ°ç‰¹åˆ«è€—è´¹æ—¶é—´çš„ä»£ç  ï¼Œä¾‹å¦‚å¼‚æ­¥è¯·æ±‚ï¼Œäº‹ä»¶ç­‰ï¼Œ

ä¸ä¼šå µå¡ç­‰å¾…æ‰§è¡Œï¼Œè€Œæ˜¯äº¤ç»™æµè§ˆå™¨å…¶ä»–çº¿ç¨‹å¤„ç†åï¼Œå†ä¸¢åˆ°æ‰§è¡Œæ ˆä¸­å¤„ç†ï¼Œä»è€Œä¿è¯è¿˜è¡Œæ•ˆç‡



   

## ğŸŒŸ è°ˆè°ˆä½ å¯¹å›æµé‡ç»˜çš„ç†è§£

å›æµ/é‡æ’ï¼šé¡µé¢å¸ƒå±€æµå‘ç”Ÿæ”¹å˜å°±å«åšå›æµï¼Œä¾‹å¦‚ï¼šwidthã€heightã€borderã€topç­‰
é‡ç»˜ï¼šé‡ç»˜å…ƒç´ è‡ªèº«çš„æ ·å¼å‘ç”Ÿæ”¹å˜ä½†æ˜¯ä¸ä¼šå½±å“å¸ƒå±€æµï¼Œä¾‹å¦‚ï¼šcolorã€backgroundã€box-shadowç­‰



## ğŸŒŸ å“ªäº›å±æ€§å¯¼è‡´å›æµã€å“ªäº›å±æ€§å¯¼è‡´é‡ç»˜

ä¾‹å¦‚ï¼šwidthã€heightã€borderã€topç­‰
ä¾‹å¦‚ï¼šcolorã€backgroundã€box-shadowç­‰

```
1ã€æ·»åŠ æˆ–åˆ é™¤å¯è§çš„DOMå…ƒç´ 
2ã€å…ƒç´ çš„ä½ç½®å‘ç”Ÿå˜åŒ–
3ã€å…ƒç´ çš„å°ºå¯¸å‘ç”Ÿå˜åŒ–ï¼ˆåŒ…æ‹¬å¤–è¾¹è·ã€å†…è¾¹æ¡†ã€è¾¹æ¡†å¤§å°ã€é«˜åº¦å’Œå®½åº¦ç­‰ï¼‰
4ã€å†…å®¹å‘ç”Ÿå˜åŒ–ï¼Œæ¯”å¦‚æ–‡æœ¬å˜åŒ–æˆ–å›¾ç‰‡è¢«å¦ä¸€ä¸ªä¸åŒå°ºå¯¸çš„å›¾ç‰‡æ‰€æ›¿ä»£ã€‚
5ã€é¡µé¢ä¸€å¼€å§‹æ¸²æŸ“çš„æ—¶å€™ï¼ˆè¿™è‚¯å®šé¿å…ä¸äº†ï¼‰
6ã€æµè§ˆå™¨çš„çª—å£å°ºå¯¸å˜åŒ–ï¼ˆå› ä¸ºå›æµæ˜¯æ ¹æ®è§†å£çš„å¤§å°æ¥è®¡ç®—å…ƒç´ çš„ä½ç½®å’Œå¤§å°çš„ï¼‰

è€Œé‡ç»˜æ˜¯æŒ‡åœ¨å¸ƒå±€ä¸å˜å¾—æƒ…å†µä¸‹ï¼Œæ¯”å¦‚background-color,æˆ–è€…æ”¹åŠ¨ä¸€ä¸‹å­—ä½“é¢œè‰²çš„colorç­‰ã€‚
```



## ğŸŒŸ å¦‚ä½•é¿å…æˆ–å‡å°‘å›æµé‡ç»˜

> **JavaScriptä¼˜åŒ–æ³•**
>
> ```
> ï¼ˆ1ï¼‰é¿å…é¢‘ç¹æ“ä½œæ ·å¼ï¼Œæœ€å¥½ä¸€æ¬¡æ€§é‡å†™styleå±æ€§ï¼Œæˆ–è€…å°†æ ·å¼åˆ—è¡¨å®šä¹‰ä¸ºclasså¹¶ä¸€æ¬¡æ€§æ›´æ”¹classå±æ€§ã€‚
> ï¼ˆ2ï¼‰é¿å…é¢‘ç¹æ“ä½œDOMï¼Œåˆ›å»ºä¸€ä¸ªdocumentFragmentï¼Œåœ¨å®ƒä¸Šé¢åº”ç”¨æ‰€æœ‰DOMæ“ä½œï¼Œæœ€åå†æŠŠå®ƒæ·»åŠ åˆ°æ–‡æ¡£ä¸­ï¼Œä¹Ÿå°±æ˜¯è™šæ‹ŸDOM
> ï¼ˆ3ï¼‰é¿å…é¢‘ç¹è¯»å–ä¼šå¼•å‘å›æµ/é‡ç»˜çš„å±æ€§ï¼Œå¦‚æœç¡®å®éœ€è¦å¤šæ¬¡ä½¿ç”¨ï¼Œå°±ç”¨ä¸€ä¸ªå˜é‡ç¼“å­˜èµ·æ¥ã€‚
> ```
>
> 
>
> **CSSä¼˜åŒ–æ³•**
>
> ```
> ï¼ˆ1ï¼‰ä½¿ç”¨ transform æ›¿ä»£ top
> ï¼ˆ2ï¼‰ä½¿ç”¨ visibility æ›¿æ¢ display: none ï¼Œå› ä¸ºå‰è€…åªä¼šå¼•èµ·é‡ç»˜ï¼Œåè€…ä¼šå¼•å‘å›æµï¼ˆæ”¹å˜äº†å¸ƒå±€
> ï¼ˆ3ï¼‰é¿å…ä½¿ç”¨tableå¸ƒå±€ï¼Œå¯èƒ½å¾ˆå°çš„ä¸€ä¸ªå°æ”¹åŠ¨ä¼šé€ æˆæ•´ä¸ª table çš„é‡æ–°å¸ƒå±€ã€‚
> ï¼ˆ4ï¼‰å°½å¯èƒ½åœ¨DOMæ ‘çš„æœ€æœ«ç«¯æ”¹å˜classï¼Œå›æµæ˜¯ä¸å¯é¿å…çš„ï¼Œä½†å¯ä»¥å‡å°‘å…¶å½±å“ã€‚å°½å¯èƒ½åœ¨DOMæ ‘çš„æœ€æœ«ç«¯æ”¹å˜classï¼Œå¯ä»¥é™åˆ¶äº†å›æµçš„èŒƒå›´ï¼Œä½¿å…¶å½±å“å°½å¯èƒ½å°‘çš„èŠ‚ç‚¹ã€‚
> ï¼ˆ5ï¼‰é¿å…è®¾ç½®å¤šå±‚å†…è”æ ·å¼ï¼ŒCSS é€‰æ‹©ç¬¦ä»å³å¾€å·¦åŒ¹é…æŸ¥æ‰¾ï¼Œé¿å…èŠ‚ç‚¹å±‚çº§è¿‡å¤šã€‚
> ï¼ˆ6ï¼‰å°†åŠ¨ç”»æ•ˆæœåº”ç”¨åˆ°positionå±æ€§ä¸ºabsoluteæˆ–fixedçš„å…ƒç´ ä¸Šï¼Œé¿å…å½±å“å…¶ä»–å…ƒç´ çš„å¸ƒå±€ï¼Œè¿™æ ·åªæ˜¯ä¸€ä¸ªé‡ç»˜ï¼Œè€Œä¸æ˜¯å›æµï¼ŒåŒæ—¶ï¼Œæ§åˆ¶åŠ¨ç”»é€Ÿåº¦å¯ä»¥é€‰æ‹© requestAnimationFrameï¼Œè¯¦è§æ¢è®¨ requestAnimationFrameã€‚
> ï¼ˆ7ï¼‰é¿å…ä½¿ç”¨CSSè¡¨è¾¾å¼ï¼Œå¯èƒ½ä¼šå¼•å‘å›æµã€‚
> ï¼ˆ8ï¼‰å°†é¢‘ç¹é‡ç»˜æˆ–è€…å›æµçš„èŠ‚ç‚¹è®¾ç½®ä¸ºå›¾å±‚ï¼Œå›¾å±‚èƒ½å¤Ÿé˜»æ­¢è¯¥èŠ‚ç‚¹çš„æ¸²æŸ“è¡Œä¸ºå½±å“åˆ«çš„èŠ‚ç‚¹ï¼Œä¾‹å¦‚will-changeã€videoã€iframeç­‰æ ‡ç­¾ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å°†è¯¥èŠ‚ç‚¹å˜ä¸ºå›¾å±‚ã€‚
> ï¼ˆ9ï¼‰CSS3 ç¡¬ä»¶åŠ é€Ÿï¼ˆGPUåŠ é€Ÿï¼‰ï¼Œä½¿ç”¨css3ç¡¬ä»¶åŠ é€Ÿï¼Œå¯ä»¥è®©transformã€opacityã€filtersè¿™äº›åŠ¨ç”»ä¸ä¼šå¼•èµ·å›æµé‡ç»˜ ã€‚ä½†æ˜¯å¯¹äºåŠ¨ç”»çš„å…¶å®ƒå±æ€§ï¼Œæ¯”å¦‚background-colorè¿™äº›ï¼Œè¿˜æ˜¯ä¼šå¼•èµ·å›æµé‡ç»˜çš„ï¼Œä¸è¿‡å®ƒè¿˜æ˜¯å¯ä»¥æå‡è¿™äº›åŠ¨ç”»çš„æ€§èƒ½ã€‚
> ```





## ğŸŒŸ è°ˆè°ˆä½ å¯¹è™šæ‹ŸDOMçš„ç†è§£



é€šè¿‡jså¯¹è±¡æ¥æè¿°çœŸå®çš„DOMï¼Œä»è€Œå‡å°‘å›æµé‡ç»˜





> å‡å°‘äº†åŒä¸€æ—¶é—´å†…çš„é¡µé¢å¤šå¤„å†…å®¹ä¿®æ”¹æ‰€è§¦å‘çš„æµè§ˆå™¨reflowå’Œrepaintçš„æ¬¡æ•°ï¼Œå¯èƒ½æŠŠå¤šä¸ªä¸åŒçš„DOMæ“ä½œé›†ä¸­å‡å°‘åˆ°äº†å‡ æ¬¡ç”šè‡³ä¸€æ¬¡ï¼Œä¼˜åŒ–äº†è§¦å‘æµè§ˆå™¨reflowå’Œrepaintçš„æ¬¡æ•°ã€‚ã€‚



## ğŸŒŸ è¯´å‡ºVUEæœ‰å“ªäº›ç”Ÿå‘½å‘¨æœŸå¹¶è¯´å‡ºåº”ç”¨åœºæ™¯



beforeå¼€å¤´çš„å®é™…ä¸ç”¨

ébeforeå¼€å¤´

````
created   å¼‚æ­¥è¯·æ±‚
mounted   å¼‚æ­¥è¯·æ±‚ã€DOMæ“ä½œï¼ˆswiperã€echartsã€èŠå¤©é»˜è®¤æ»šåˆ°åº•éƒ¨ï¼‰
updated   ç›‘æ§æ•°æ®å˜åŒ–è¿›ä¸€æ­¥DOMæ“ä½œï¼Œä¾‹å¦‚èŠå¤©çª—å£åˆ°åº•éƒ¨ã€è®¢å•å¯è§†åŒ–å›¾è¡¨é‡ç½®ç­‰ç­‰
destroyed æ¸…ç†évueèµ„æºé˜²æ­¢å†…å­˜æ³„éœ²ï¼Œä¾‹å¦‚ç™»é™†å€’è®¡æ—¶å®šæ—¶å™¨
````

å‰©ä½™

```
activated	   ç»„ä»¶è¢«keep-aliveç¼“å­˜åï¼Œæ‰§è¡Œåœºæ™¯åœºæ™¯æ•°æ®ï¼Œä¾‹å¦‚æ·»åŠ ååˆ—è¡¨æ›´æ–°æœ€æ–°æ•°æ®
deactivated  ç»„ä»¶è¢«keep-aliveç¼“å­˜åä»£æ›¿destroyedå·¥ä½œ
errorCaptured å½“é¡µé¢å‘ç”Ÿé”™è¯¯æ˜¯ä¼˜é›…é™çº§ï¼Œæ˜¾ç¤ºå‹å¥½æç¤ºé¡µé¢ï¼Œreactæ¡†æ¶æç¤ºå°±æ˜¯å‚è€ƒè¿™ä¸€åšæ³•
```



> tips
>
> ä¼˜é›…é™çº§(`graceful degradation`)ï¼šä¸€å¼€å§‹å°±æ„å»ºç«™ç‚¹çš„å®Œæ•´åŠŸèƒ½ï¼Œç„¶åé’ˆå¯¹æµè§ˆå™¨æµ‹è¯•å’Œä¿®å¤ã€‚ 
>
>  ive enhancement`)ï¼šä¸€å¼€å§‹åªæ„å»ºç«™ç‚¹çš„æœ€å°‘ç‰¹æ€§ï¼Œç„¶åä¸æ–­é’ˆå¯¹å„æµè§ˆå™¨è¿½åŠ åŠŸèƒ½ã€‚



æ¸è¿›å¢å¼ºï¼šé’ˆå¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨è¿›è¡Œæ„å»ºé¡µé¢ï¼Œä¿è¯æœ€åŸºæœ¬çš„åŠŸèƒ½ï¼Œç„¶åå†é’ˆå¯¹é«˜çº§æµè§ˆå™¨è¿›è¡Œæ•ˆæœã€äº¤äº’ç­‰æ”¹è¿›ï¼Œè¾¾åˆ°æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚ 

ä¼˜é›…é™çº§ï¼šä¸€å¼€å§‹å°±æ„å»ºå®Œæ•´çš„åŠŸèƒ½ï¼Œç„¶åå†é’ˆå¯¹ä½ç‰ˆæœ¬æµè§ˆå™¨è¿›è¡Œå…¼å®¹ã€‚



2109ç­é¢è¯•è¿½é—®

```
é—®1ï¼šcreatedã€å’ŒmountedåŒºåˆ«
ç­”1ï¼šcreatedä¸å¯ä»¥domæ“ä½œ 
é—®2ï¼šçœŸçš„ä¸å¯ä»¥å—
ç­”2ï¼šå¯ä»¥é€šè¿‡ this.$nextTick()
é—®3ï¼šçˆ¶å­ç»„ä»¶åµŒå¥—ã€ç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº createdã€mounted
ç­”2ï¼šå¤§æ–¹å‘  çˆ¶createdã€å­createdã€å­mountedã€çˆ¶mounted
```





## ğŸŒŸ createdé‡Œé¢å¯ä»¥æ“ä½œDOMå—

é€šè¿‡refä¸è¡Œï¼ŒåŸç”ŸJSå¯ä»¥ï¼Œå› ä¸ºè¯¥é’©å­å‡½æ•°è§¦å‘è¿˜æ²¡æœ‰ç¼–è¯‘ï¼ˆä¸æ¨è

éè¦é€šè¿‡refæ“ä½œï¼Œå¯ä»¥å†™this.$nextTickæ¥å®ç°

```
<div id="root">
  <button ref="btn">a</button>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
  const vm = new Vue({
    el: "#root",
    data: {},
    created() {
      let btnObj = document.querySelector("button");
      console.log("jså¯ä»¥", btnObj);
      console.log("refä¸è¡ŒğŸš«", this.$refs.btn);

      this.$nextTick(() => {
        console.log("refå¯ä»¥", this.$refs.btn);
      });
    },
  });
</script>
```



> è¿½é—®1ï¼šcreated å®šæ—¶å™¨æ‰“å°1   this.$nextTick æ‰“å°2   å®šæ—¶å™¨æ‰“å°3
>
> å›ç­”1:  2ã€1ã€3
>
> è¿½é—®2ï¼šcreated Promise.thenæ‰“å°1   this.$nextTick æ‰“å°2   å®šæ—¶å™¨æ‰“å°3
>
> å›ç­”2ï¼š1ã€ 2ã€ 3

```
// è¿½é—®1ï¼šcreated å®šæ—¶å™¨æ‰“å°1   this.$nextTick æ‰“å°2   å®šæ—¶å™¨æ‰“å°3
// å›ç­”1:  2ã€1ã€3
// setTimeout(() => console.log(1), 1000) 
// // Promise.resolve().then(() => console.log(2))
// this.$nextTick(() => console.log(2))
// setTimeout(() => console.log(3), 1000) 

// è¿½é—®2ï¼šcreated Promise.thenæ‰“å°1   this.$nextTick æ‰“å°2   å®šæ—¶å™¨æ‰“å°3
// å›ç­”2ï¼š1ã€ 2ã€ 3
// Promise.resolve().then(() => console.log(1)) 
// this.$nextTick(() => console.log(2))
// setTimeout(() => console.log(3), 1000) 
```





## ğŸŒ› watchä¸created() å“ªä¸ªå…ˆæ‰§è¡Œï¼Ÿ

watch ä¸­çš„ immediate ä¼šè®©ç›‘å¬åœ¨åˆå§‹å€¼å£°æ˜çš„æ—¶å€™å»æ‰§è¡Œç›‘å¬è®¡ç®—ï¼Œå¦åˆ™å°±æ˜¯ created å…ˆæ‰§è¡Œ

````
<div id="root">
  <h1>{{msg}}</h1>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
  const vm = new Vue({
    el: "#root",
    data: {
      msg: "hello",
    },
    created() {
      console.log("åcreated");
    },
    watch: {
      msg: {
        handler() {
          console.log("å…ˆwatch");
        },
        immediate: true,
      },
    },
  });
</script>

````



## ğŸŒ›æ•°æ®å¯è§†åŒ– echarts

åœ¨é¡¹ç›®ä¸­çš„ä½¿ç”¨ç»†èŠ‚ï¼Œæ•°æ®çš„ä½¿ç”¨ï¼Œä¿®æ”¹ï¼Œé”€æ¯ï¼Ÿ



ç»†èŠ‚1ï¼šé¦–æ¬¡å®ä¾‹åŒ–æ¸²æŸ“ï¼Œmountedä¸­æ³¨æ„domæ˜¯å¦æŒ‚è½½ï¼Œç‰¹åˆ«æ˜¯æ“ä½œå­ç»„ä»¶

ç»†èŠ‚2ï¼šé‡ç½®echartsæ•°æ®ï¼Œå¦‚æœé¡µé¢æ²¡æœ‰éå†æ˜¾ç¤ºæ•°æ®æ˜ç»†ï¼Œæ— æ³•åœ¨updatedé’©å­å‡½æ•°ç›‘æ§

> è§£å†³ï¼šwatchæˆ–è€…æ›´æ–°åç›´æ¥è°ƒç”¨methodsæ–¹æ³•

ç»†èŠ‚3ï¼šé‡ç½®echartsæ•°æ®ï¼Œå¾—é‡æ–°å®ä¾‹åŒ–æ‰èƒ½æ˜¾ç¤ºæœ€æ–°æ•°æ®

ç»†èŠ‚4ï¼šç¦»å¼€ç»„ä»¶æ‰‹åŠ¨å…³é—­è¿æ¥  ws.close()  ï¼ˆæ³¨ï¼šå¦‚æœå®šæ—¶å™¨å†™çš„è¦æ¸…é™¤å®šæ—¶å™¨





## ğŸŒŸ è°ˆè°ˆä½ å¯¹keep-aliveçš„ç†è§£ï¼Œå¹¶è¯´å‡ºåº”ç”¨åœºæ™¯

vueä¸­å†…ç½®ç»„ä»¶ï¼Œä¸»è¦å°†ç»„ä»¶ç›¸å…³æ•°æ®ç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œé¿å…é‡å¤æŒ‚è½½å¸è½½äº§ç”Ÿçš„æ€§èƒ½å¼€é”€

åœºæ™¯ï¼šåå°ç®¡ç†ç³»ç»Ÿæ•°æ®ã€ç§»åŠ¨ç«¯é•¿åˆ—è¡¨ã€tabé€‰é¡¹å¡ç­‰



å‘¨è¾¹é—®é¢˜

> 1-ç¼“å­˜ç»„ä»¶ä½¿ç”¨å“ªä¸ªå±æ€§ï¼Ÿ
>
> ```
>   :includeã€:excludeã€:max
> ```
>
> 2-æ­¤æ—¶å¤šçš„å“ªä¸¤ä¸ªé’©å­å‡½æ•°ï¼Ÿ 
>
> ```
> activated ã€deactivated
> ```
>
> 3-é¡µé¢åŠ è½½åˆ·æ–°çš„æ—¶å€™ï¼Œè¢«ç¼“å­˜çš„ç»„ä»¶ï¼Œä¼šæ‰§è¡Œå…¶ä¸­çš„æ–¹æ³•å—ï¼Ÿ   
>
> ```
> åˆ·æ–°å°±ç›¸å½“äºé¦–æ¬¡æ‰“å¼€  æ‰€ä»¥createdã€activatedåˆé‡æ–°å‡ºå‘
> ```

 



## ğŸŒŸ è°ˆè°ˆä½ å¯¹$nextTickçš„ç†è§£ï¼Œå¹¶è¯´å‡ºåº”ç”¨åœºæ™¯

ç†è§£ï¼švueä¸­ç”¨æ¥ç¡®ä¿ï¼Œåœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œå»¶è¿Ÿå›è°ƒã€‚åœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œè·å–æ›´æ–°åçš„ DOMã€‚

åœºæ™¯ï¼šå¯¹è¯æ¡†æ”¾ç™»å½•äºŒç»´ç ï¼Œæ”¾è¡¨å•é€‰é¡¹è·å–æ•°æ®ã€è·å–ç„¦ç‚¹ï¼Œç‚¹å‡»äº‹ä»¶ä¿®æ”¹å¯¹è¯æ¡†çŠ¶æ€åå¼€å§‹åŠ è½½DOMï¼Œä¸ºç¡®ä¿èƒ½è·å–å¹¶æ“ä½œDOMä½¿ç”¨$nextTickåŒ…èµ·æ¥ã€‚

è¯­æ³•:

```
// ä¿®æ”¹æ•°æ®
vm.msg = 'Hello'
// DOM è¿˜æ²¡æœ‰æ›´æ–°
Vue.nextTick(function () {
  // DOM æ›´æ–°äº†
})

// ä½œä¸ºä¸€ä¸ª Promise ä½¿ç”¨ (2.1.0 èµ·æ–°å¢ï¼Œè¯¦è§æ¥ä¸‹æ¥çš„æç¤º)
Vue.nextTick()
  .then(function () {
    // DOM æ›´æ–°äº†
  })
```





> vueç¡®ä¿æ¨¡å‹æ•°æ®æ›´æ–°å®Œæ¯•ä¹‹åæ‰§è¡Œ$nextTické‡Œé¢çš„callbackä»£ç 

  

## ğŸŒŸ è¯´å‡º$nextTickåŸç†

> Vue åœ¨æ›´æ–° DOM æ—¶æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚åªè¦ä¾¦å¬åˆ°æ•°æ®å˜åŒ–ï¼ŒVue å°†å¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´ã€‚å¦‚æœåŒä¸€ä¸ª watcher è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚è¿™ç§åœ¨ç¼“å†²æ—¶å»é™¤é‡å¤æ•°æ®å¯¹äºé¿å…ä¸å¿…è¦çš„è®¡ç®—å’Œ DOM æ“ä½œæ˜¯éå¸¸é‡è¦çš„ã€‚ç„¶åï¼Œåœ¨ä¸‹ä¸€ä¸ªçš„äº‹ä»¶å¾ªç¯â€œtickâ€ä¸­ï¼ŒVue åˆ·æ–°é˜Ÿåˆ—å¹¶æ‰§è¡Œå®é™… (å·²å»é‡çš„) å·¥ä½œã€‚Vue åœ¨å†…éƒ¨å¯¹å¼‚æ­¥é˜Ÿåˆ—å°è¯•ä½¿ç”¨åŸç”Ÿçš„ Promise.thenã€MutationObserver å’Œ setImmediateï¼Œå¦‚æœæ‰§è¡Œç¯å¢ƒä¸æ”¯æŒï¼Œåˆ™ä¼šé‡‡ç”¨ setTimeout(fn, 0) ä»£æ›¿ã€‚



Vueåº•å±‚ç›‘æ§çš„æ•°æ®æ›´æ–°ä¼šå¼€å¯ä¸€ä¸ªé˜Ÿåˆ—è¿›è¡Œä¼˜åŒ–å¤„ç†ï¼Œç„¶ååœ¨ä¸‹ä¸€ä¸ªçš„äº‹ä»¶å¾ªç¯ä¸­å»è§¦å‘nextTickçš„callbackæ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯ä¼šæŠŠnextTickçš„callbackä¾æ¬¡å°è¯•æ”¾åˆ°ç”¨åŸç”Ÿçš„ Promise.thenã€MutationObserver å’Œ setImmediateã€setTimeoutä¸­ï¼Œåº•å±‚æ ¸å¿ƒä»£ç å¤§è‡´æ€è·¯å¦‚ä¸‹

```
1. æŠŠå›è°ƒå‡½æ•°æ”¾å…¥callbacksç­‰å¾…æ‰§è¡Œ
2. å°†æ‰§è¡Œå‡½æ•°æ”¾åˆ°å¾®ä»»åŠ¡æˆ–è€…å®ä»»åŠ¡ä¸­
3. äº‹ä»¶å¾ªç¯åˆ°äº†å¾®ä»»åŠ¡æˆ–è€…å®ä»»åŠ¡ï¼Œæ‰§è¡Œå‡½æ•°ä¾æ¬¡æ‰§è¡Œcallbacksä¸­çš„å›è°ƒ
```



https://github.com/vuejs/vue/blob/dev/src/core/global-api/index.js#L46

https://github.com/vuejs/vue/blob/dev/src/core/util/next-tick.js#L87

```
export function nextTick (cb?: Function, ctx?: Object) {
  let _resolve
  callbacks.push(() => { // å°†æ‹¿åˆ°çš„å›è°ƒå‡½æ•°å­˜æ”¾åˆ°æ•°ç»„ä¸­
    if (cb) {
      try { // é”™è¯¯æ•è·
        cb.call(ctx)
      } catch (e) {
        handleError(e, ctx, 'nextTick')
      }
    } else if (_resolve) {
      _resolve(ctx)
    }
  })
  if (!pending) { // å¦‚æœå½“å‰æ²¡æœ‰åœ¨pendingçš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡ŒtimeFunc
    pending = true
    timerFunc() // å¤šæ¬¡æ‰§è¡ŒnextTickåªä¼šæ‰§è¡Œä¸€æ¬¡ï¼ŒtimerFuncå°±æ˜¯ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•
  }
  if (!cb && typeof Promise !== 'undefined') {
    return new Promise(resolve => {
      _resolve = resolve
    })
  }
}
//
```

https://github.com/vuejs/vue/blob/dev/src/core/util/next-tick.js#L33

```
const callbacks = []
let pending = false

function flushCallbacks () {
  pending = false
  const copies = callbacks.slice(0)
  callbacks.length = 0
  for (let i = 0; i < copies.length; i++) {
    copies[i]()
  }
}


let timerFunc

//åˆ¤æ–­1ï¼šæ˜¯å¦åŸç”Ÿæ”¯æŒPromise
if (typeof Promise !== 'undefined' && isNative(Promise)) {
  const p = Promise.resolve()
  timerFunc = () => {
    p.then(flushCallbacks)
    if (isIOS) setTimeout(noop)
  }
  isUsingMicroTask = true
} else if (!isIE && typeof MutationObserver !== 'undefined' && (
	//åˆ¤æ–­2ï¼šæ˜¯å¦åŸç”Ÿæ”¯æŒMutationObserver
  isNative(MutationObserver) ||
  MutationObserver.toString() === '[object MutationObserverConstructor]'
)) {
  let counter = 1
  const observer = new MutationObserver(flushCallbacks)
  const textNode = document.createTextNode(String(counter))
  observer.observe(textNode, {
    characterData: true
  })
  timerFunc = () => {
    counter = (counter + 1) % 2
    textNode.data = String(counter)
  }
  isUsingMicroTask = true
} else if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {
  //åˆ¤æ–­3ï¼šæ˜¯å¦åŸç”Ÿæ”¯æŒsetImmediate
  timerFunc = () => {
    setImmediate(flushCallbacks)
  }
} else {
  //åˆ¤æ–­4ï¼šä¸Šé¢éƒ½ä¸è¡Œï¼Œç›´æ¥ç”¨setTimeout
  timerFunc = () => {
    setTimeout(flushCallbacks, 0)
  }
}
```







# â–  week1-day6  VueåŸç†

## ğŸ’˜ è¯¾é¢˜

week1-day6  VueåŸç†ï¼ˆè¯­æ³•åŸç†ï¼šv-modelè¯­æ³•åŸç†ã€å“åº”å¼åŸç†ã€Vueæºç åˆ†æã€è‡ªå®šä¹‰Vueåº“ï¼‰



##  ğŸŒŸ è¯´ä¸€ä¸‹v-modelåŸç†

v-modelå…¶å®æ˜¯ä¸ªè¯­æ³•ç³–åº•å±‚æ˜¯åŸºäºã€:valueã€‘å’Œã€@inputã€‘ å°è£…

```
<input type="text" :value="msg" @input="msg = $event.target.value">
```

  

##  ğŸŒŸ VUE2å“åº”å¼åŸç†ï¼ˆä¸­çº§ï¼‰

Vue2åœ¨åˆå§‹åŒ–æ•°æ®æ—¶ï¼Œä¼šä½¿ç”¨Object.definePropertyè¯­æ³•å¯¹dataä¸­çš„æ‰€æœ‰å±æ€§è¿›è¡Œæ•°æ®åŠ«æŒï¼Œå¦‚æœå±æ€§å‘ç”Ÿå˜åŒ–å°±ä¼šé€šçŸ¥è¿›è¡Œæ›´æ–°æ“ä½œ



##  ğŸŒŸ VUE2å“åº”å¼åŸç†ï¼ˆé«˜çº§ï¼‰

````
åº•å±‚é€šè¿‡Object.definePropertyè¿›è¡Œæ•°æ®åŠ«æŒï¼Œç„¶åé€šè¿‡å‘å¸ƒè®¢é˜…é€šçŸ¥è§†å›¾æ›´æ–°ã€‚

æˆ–è€…

vueåœ¨åˆå§‹åŒ–æ•°æ®æ—¶ï¼Œä¼šä½¿ç”¨Object.definePropertyé‡æ–°å®šä¹‰dataä¸­æ‰€æœ‰å±æ€§ï¼Œå½“é¡µé¢ä½¿ç”¨å¯¹åº”å±æ€§æ—¶ï¼Œé¦–å…ˆä¼šè¿›è¡Œä¾èµ–æ”¶é›†ï¼ˆwatcherï¼Œå¦‚æœå±æ€§å‘ç”Ÿå˜åŒ–å°±ä¼šé€šçŸ¥ç›¸å…³ä¾èµ–è¿›è¡Œæ›´æ–°æ“ä½œï¼ˆå‘å¸ƒè®¢é˜…ã€‚
å¹¶ä¸”åº•å±‚é’ˆå¯¹äºå¯¹è±¡ã€æ•°ç»„åšäº†ç‰¹æ®Šå¤„ç†ï¼Œå¯¹è±¡ç±»å‹å¤šæ¬¡é€’å½’ï¼Œæ•°ç»„ç±»å‹é‡å†™æ•°ç»„æ–¹æ³•
````



##  ğŸŒŸ VUE2å“åº”å¼æ•°æ®æ— æ³•åŠ«æŒåŸå› ã€å’Œè§£å†³æ–¹æ¡ˆ

åŸå› ï¼šæ˜¯å› ä¸ºåŸç”ŸObject.definePropertyé’ˆå¯¹å¤æ‚æ•°æ®ä¿®æ”¹æ— æ³•åŠ«æŒï¼Œå› æ­¤æ— æ³•é€šçŸ¥è§†å›¾æ›´æ–°

è§£å†³ï¼š

```
è‡ªå·±è§£å†³ï¼šé€’å½’å…¨æå®š
VUEè§£å†³ï¼š
1-å¯¹è±¡é€’å½’
2-æ•°ç»„é‡å†™ï¼ˆå› ä¸ºæ·±åº¦ç›‘å¬éœ€è¦é€’å½’åˆ°åº•ï¼Œè€Œæ•°ç»„ç›¸å¯¹æ•°æ®å¾ˆå¤šï¼Œä¸€æ¬¡æ€§è®¡ç®—é‡å¤§  æ‰€ä»¥æ”¹ç”¨é‡å†™æ–¹å¼ï¼‰
3-å¢åŠ é¢å¤–api 
this.$forceUpdate()   
this.$set(this.dataæ•°æ®, è¦åŠ«æŒå¾—æ•°ç»„ç´¢å¼•æˆ–å¯¹è±¡é”®, é»˜è®¤å€¼)
```



##  ğŸŒŸ $forceUpdate åŸç†

è¿™ä¸ªä¹‹å‰æœ‰å¤§æ¦‚çœ‹è¿‡æºç  

å°±æ˜¯notifyå¼ºåˆ¶è§†å›¾æ‰€æœ‰æ•°æ®æ›´æ–° 



##  ğŸŒŸ $set åŸç†

1ã€ä»–æ˜¯vueåŸå‹ä¸Šçš„ä¸€ä¸ªæ–¹æ³•

> https://github.com/vuejs/vue/blob/dev/src/core/instance/state.js#L345
>
> https://github.com/vuejs/vue/blob/dev/src/core/instance/state.js#L14

2ã€è¿™ä¸ªä¹‹å‰æœ‰å¤§æ¦‚çœ‹è¿‡æºç 

ä¸»è¦ä¸¤å¤§æ ¸å¿ƒ

1ã€é€šè¿‡defineReactiveè¿›è¡Œæ•°æ®åŠ«æŒ

2ã€é€šè¿‡notifyè¿›è¡Œè§†å›¾æ›´æ–°

> https://github.com/vuejs/vue/blob/dev/src/core/observer/index.js#L201





##  ğŸŒ› $delete åŸç† 

åˆ é™¤å¯¹è±¡çš„å±æ€§ã€‚å¦‚æœå¯¹è±¡æ˜¯å“åº”å¼çš„ï¼Œç¡®ä¿åˆ é™¤èƒ½è§¦å‘æ›´æ–°è§†å›¾ã€‚è¿™ä¸ªæ–¹æ³•ä¸»è¦ç”¨äºé¿å¼€ `Vue` ä¸èƒ½æ£€æµ‹åˆ°å±æ€§è¢«åˆ é™¤çš„é™åˆ¶ï¼Œä½†æ˜¯ä½ åº”è¯¥å¾ˆå°‘ä¼šä½¿ç”¨å®ƒã€‚

  

è¯­æ³•ï¼šthis/Vue.$delete(targetï¼ŒpropertyName/index)



1ã€ä»–æ˜¯vueåŸå‹ä¸Šçš„ä¸€ä¸ªæ–¹æ³•

> https://github.com/vuejs/vue/blob/dev/src/core/instance/state.js#L346 
>
> https://github.com/vuejs/vue/blob/dev/src/core/instance/state.js#L14

2ã€è¿™ä¸ªä¹‹å‰æœ‰å¤§æ¦‚çœ‹è¿‡æºç 

ä¸»è¦ä¸¤å¤§æ ¸å¿ƒ

1ã€é€šè¿‡delete åˆ é™¤å¯¹è±¡çš„å±æ€§

2ã€é€šè¿‡notifyè¿›è¡Œè§†å›¾æ›´æ–°

> https://github.com/vuejs/vue/blob/dev/src/core/observer/index.js#L236





## ğŸŒŸ Vue.set/delete åŸç†

https://github.com/vuejs/vue/blob/0603ff695d2f41286239298210113cbe2b209e28/src/core/global-api/index.js#L44



```
import { set } from '../observer/index'

...
Vue.set = set
...
```





```
import { set } from '../observer/index'

...
Vue.prototype.$set = set
...

```



éƒ½æ˜¯ä» ../observer/index æ–‡ä»¶ä¸­å¯¼å‡ºçš„

åŒºåˆ«åœ¨äºVue.set()æ˜¯å°†setå‡½æ•°ç»‘å®šåœ¨Vueæ„é€ å‡½æ•°ä¸Šï¼Œthis.$set()æ˜¯å°†setå‡½æ•°ç»‘å®šåœ¨VueåŸå‹ä¸Šã€‚



 

##  ğŸ†• å“åº”å¼åŸç†

ä¸ºå•¥VUE3è¦é€‰æ‹©proxyå’Œreflect

```
- Object.defineProperty æ‹¦æˆªçš„æ˜¯å¯¹è±¡çš„å±æ€§ï¼Œä¼šæ”¹å˜åŸå¯¹è±¡ã€‚ proxy æ˜¯æ‹¦æˆªæ•´ä¸ªå¯¹è±¡ï¼Œé€šè¿‡ new ç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä¸ä¼šæ”¹å˜åŸå¯¹è±¡ã€‚
- proxy è¯­æ³•æ›´å¼ºï¼Œæ‹¦æˆªæ–¹å¼é™¤äº†ä¸Šé¢çš„ get å’Œ set ï¼Œè¿˜æœ‰ 11 ç§ï¼Œä»¥å‰å°±6ä¸ª
- proxy ç‰¹æ€§æ›´å¼ºï¼Œå¯ä»¥ç›‘å¬æœªå®šä¹‰çš„ï¼Œé’ˆå¯¹äºNå±‚åˆ™getæ—¶åˆ¤æ–­é€’å½’æ·»åŠ proxyæ‹¦æˆªå³å¯
```

ä¸ç”¨reflectå¯ä»¥å—

```
- ç®€å•åœºæ™¯å¯ä»¥ï¼Œå¤æ‚åœºæ™¯ä¸è¡Œ
- ä¸¾ä¾‹ï¼šhttps://blog.csdn.net/qq_34629352/article/details/114210386  å­˜åœ¨BUG
- å…¶æ¬¡ï¼šç”¨äº†æ›´æ–¹ä¾¿æ¨èç»“åˆç”¨ ä¾‹å¦‚ hasã€deletePropertyã€definePropertyå‹å¥½æç¤ºç­‰
```













# â–  week2-day1  è·¯ç”±ç›¸å…³

## ğŸ’˜ è¯¾ä»¶

week2-day1  Vueè¿›é˜¶ï¼ˆé¡¹ç›®å‡†å¤‡ï¼šè·¯ç”±ã€é‡å®šå‘ã€è·¯ç”±æ¨¡å¼ã€è·¯ç”±åŸç†ã€è·¯ç”±å‚æ•°ã€è·¯ç”±ä¼ å‚ã€åµŒå¥—è·¯ç”±ã€å‘½åè§†å›¾ã€å¯¼èˆªå®ˆå«ã€è·¯ç”±addRouteï¼‰



## ğŸŒ› è·¯ç”±-å¯¹è±¡é‡Œé¢çš„é”®

{  

â€‹	path,

â€‹	component,

â€‹	name,

â€‹	redirect,

â€‹	alias 

â€‹	children,

â€‹	components

â€‹	meta

   ....

}



## ğŸŒŸ è·¯ç”±-ä½ è¯´ä¸‹vueè·¯ç”±æ¨¡å¼æœ‰å‡ ç§ï¼Ÿ 

<https://router.vuejs.org/zh/api/#mode> 

å¸¸ç”¨è·¯ç”±æ¨¡å¼æœ‰2ä¸ªï¼Œåˆ†åˆ«ä¸ºhashå’Œhistory  ç›´æ¥ä¿®æ”¹è·¯ ç”±æ„é€ å‡½æ•°åŠ ä¸ªmodeé”®å³å¯

å‡†ç¡®è¯´æœ‰3ä¸ªï¼Œhash/historyç”¨äºå®¢æˆ·ç«¯ï¼Œabstractç”¨æˆ·æœåŠ¡ç«¯





## ğŸŒŸ è·¯ç”±-ä½ è¯´ä¸‹vueè·¯ç”±åŸç†ï¼Ÿ



é¦–å…ˆvueè·¯ç”±æ˜¯åŸºäºSPAå•é¡µé¢åº”ç”¨æ€æƒ³å»å¼€å‘çš„

åˆ©ç”¨BOM API æ¥ä½¿ç”¨



hashæ¨¡å¼        é€šè¿‡ BOM  locationå¯¹è±¡çš„hashå±æ€§æ¥æ”¹å˜è·¯ç”±   window.onhashchange

historyæ¨¡å¼     é€šè¿‡BOM historyå¯¹è±¡çš„pushStateæ–¹æ³•æ¥æ”¹å˜è·¯ç”±    window.onpopstate





## ğŸŒŸ è·¯ç”±-historyæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚ä½•è§£å†³ï¼Ÿ

åˆ·æ–°æ— æ³•åŠ è½½ç½‘é¡µé—®é¢˜

å¯ä»¥é€šè¿‡æœåŠ¡å™¨é…ç½®æ¥è§£å†³





## ğŸŒŸ è·¯ç”±-ä»€ä¹ˆæ˜¯å•é¡µé¢åº”ç”¨SPAä¼˜ç¼ºç‚¹ï¼Œå¦‚ä½•é€‰æ‹©

SPAä¼˜ç‚¹ï¼šå‡å°‘HTTPè¯·æ±‚ã€åŠ è½½å“åº”æ•°æ®ã€æé«˜ç”¨æˆ·ä½“éªŒåº¦ï¼Œæ–¹ä¾¿å¢åŠ åŠ¨ç”»
SPAç¼ºç‚¹ï¼šé¦–å±åŠ è½½è¿‡æ…¢ã€ä¸åˆ©äºSEOä¼˜åŒ–ï¼ˆå°±æ˜¯ç™¾åº¦å¯ä»¥æœåˆ°ä½ ï¼‰  

å¦‚ä½•é€‰æ‹©
æ ¹æ®é¡¹ç›®éœ€æ±‚ï¼Œè€æ¿æ²¡æœ‰æ˜ç¡®è¯´å°±ä¸ç®¡ï¼Œ
ä½†æ˜¯è€æ¿è¯´éœ€è¦seoä¼˜åŒ–åˆ™é€šè¿‡ï¼šVue.js æœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆnuxt.jsï¼‰   



> tips
>
> 1-ä¸ºä»€ä¹ˆå•é¡µé¢(SPA)ç½‘ç«™æ— æ³•è¢«seoï¼Ÿï¼šhttps://www.zhihu.com/question/416192007/answer/1424413130
>
> 2-å¤šé¡µé¢åº”ç”¨(MPA)ä¹Ÿå°±æ˜¯äºŒå‡ä¸‰é”‹å›¢PCé¡¹ç›®ä¹Ÿæ˜¯ä¸åˆ©äºseoä¼˜åŒ–ï¼Œæœ€ç»ˆæ˜¯å¦åˆ©äºseoä¸»è¦è¿˜æ˜¯çœ‹é¡µé¢æ•°æ®æ˜¯ç›´æ¥å’Œhtmlä¸€èµ·è¿”å›çš„ã€è¿˜æ˜¯è¦é‡æ–°å‘é€ajaxè¯·æ±‚çš„ã€‚
>
> 3-vueä¸­æƒ³åˆ©äºseoåˆ™é€šè¿‡nuxt.jsæŠ€æœ¯ï¼Œreactåˆ™é€šè¿‡next.js



##  ğŸŒŸ è·¯ç”±-å‚æ•°å‘¨è¾¹ç§ç±»ã€æ–¹å¼

å‚æ•°ç§ç±»ï¼šqueryã€params

ä¼ å‚æ–¹å¼

```
queryã€path
this.$router.push( {query, path} )		å®šä¹‰è·¯ç”±æ—¶ã€ä¸ç”¨ç®¡ã€‘åˆ·æ–°ã€ä¸ä¸¢å¤±ã€‘

paramsã€name å†™å†’å·  
this.$router.push( {params, name} )  å®šä¹‰è·¯ç”±æ—¶ã€éœ€è¦ç®¡ã€‘åˆ·æ–°ã€ä¸ä¸¢å¤±ã€‘ 

paramsã€name ä¸å†™å†’å·
this.$router.push( {params, name} )  å®šä¹‰è·¯ç”±æ—¶ã€ä¸ç”¨ç®¡ã€‘åˆ·æ–°ã€ä¸¢å¤±ã€‘
```





##  ğŸŒŸ è·¯ç”±-è°ˆè°ˆä½ å¯¹ç¼–ç¨‹å¼å¯¼èˆªçš„ç†è§£

ä½œç”¨ï¼šå°±æ˜¯åˆ©ç”¨jsè·³è½¬ç½‘é¡µ

ç•™å¿ƒï¼šå£°æ˜å¼å°±æ˜¯ç”¨aæ ‡ç­¾è·³è½¬

åœºæ™¯ï¼šç™»é™†ã€æ·»åŠ æŒ‰é’®ã€åˆ é™¤æŒ‰é’®ç­‰

è¯­æ³•

```
this.$router.push( { path:'/è·¯å¾„', query: {å‚æ•°å:å€¼} } )
this.$router.push( { name:'åç§°', params: {å‚æ•°å:å€¼} } )

è·å–ï¼šthis.$route.query/params.å‚æ•°å
```



##  ğŸŒŸ è·¯ç”±-è¯´å‡ºåµŒå¥—è·¯ç”±&å‘½åè§†å›¾çš„åœºæ™¯

åµŒå¥—è·¯ç”±

```
æ¦‚å¿µï¼šä¸€ä¸ªè·¯ç”±ï¼Œæ˜¾ç¤ºå¤šä¸ªç»„ä»¶ï¼Œå¹¶ä¸”æœ‰çˆ¶å­å…³ç³»æ‰€ä»¥é€šè¿‡childrenæ¥å®šä¹‰
è¯­æ³•ï¼šå­è·¯ç”±é€šè¿‡childrenæ¥å®šä¹‰ï¼Œç„¶åçˆ¶çš„ç»„ä»¶å†…å®¹é€šè¿‡router-viewæ¥æ˜¾ç¤ºåŒ¹é…çš„å­ç»„ä»¶
åœºæ™¯ï¼šåå°ç®¡ç†ç³»ç»Ÿç»å…¸ä¸¤æ å¸ƒå±€ ç‚¹å‡»å·¦ä¾§èœå•ï¼Œå³ä¾§æ˜¾ç¤ºå­ç»„ä»¶å†…å®¹
```



å‘½åè§†å›¾

```
æ¦‚å¿µï¼šä¸€ä¸ªè·¯ç”±ï¼Œæ˜¾ç¤ºå¤šä¸ªç»„ä»¶ï¼Œå¹¶ä¸”æœ‰å…„å¼Ÿå…³ç³»æ‰€ä»¥componentæ”¹ä¸ºcomponents
è¯­æ³•ï¼šå®šä¹‰è·¯ç”±æŠŠcomponentæ”¹ä¸ºcomponentsï¼Œç„¶åè§†å›¾ç»™router-view åŠ nameå±æ€§
åœºæ™¯ï¼šç§»åŠ¨ç«¯navBarã€tabBar
```





##  ğŸŒŸ è·¯ç”±-å…¨å±€å¯¼èˆªå®ˆå«ç™»é™†é‰´æƒ

ä½œç”¨ï¼›æ²¡ç™»é™†ä¸å¯ä»¥è®¿é—®ä¼šå‘˜ä¸­å¿ƒã€åå°é¦–é¡µ

è¯­æ³•ï¼šrouter.beforeEach    åˆ¤æ–­h5  next

```
// å…¨å±€å‰ç½®å®ˆå«
// å¯¼èˆªå®ˆå«ï¼šå¯¼èˆª/åœ°å€æ é—¨å«ï¼Œç›‘æ§è·¯ç”±å˜åŒ–
router.beforeEach((to, from, next) => {
  // ...
  // to å­˜æ”¾æ–°çš„è·¯ç”±æ•°æ®
  // from å­˜æ”¾æ—§çš„è·¯ç”±æ•°æ®
  // next()    å†™- å…è®¸åç»­ä»£ç æ‰§è¡Œï¼Œå¯ä»¥çœ‹åˆ°ç»„ä»¶å†…å®¹
  // next()   ä¸å†™- é˜»æ­¢åç»­ä»£ç æ‰§è¡Œï¼Œå› æ­¤ç»„ä»¶ä¸æ¸²æŸ“çœ‹ä¸åˆ°å†…å®¹
  // next({path: '/login'}) è·³è½¬åˆ°loginé¡µé¢

  // console.log(to);
  // æ£€æŸ¥å½“å‰è®¿é—®çš„è·¯å¾„
  // åœ¨æ•°ç»„ä¸­å°±ç›´æ¥next ä¸ç”¨æ£€æŸ¥æ˜¯å¦ç™»å½•
  // ç™½åå•
  if (["/login", "/404"].includes(to.path)) {
    next();
  } else {
    // ä¸Šè¿°ç™½åå•ç›´æ¥å¿½ç•¥ä¸ç”¨åˆ¤æ–­
    // ä½†æ˜¯å…¶ä»–å¾—åˆ¤æ–­
    let token = localStorage.getItem("token");
    if (token) {
      next();
    } else {
      next({ path: "/login" });
    }
  }
```





##  ğŸŒŸ è·¯ç”±-å¯¼èˆªå®ˆå«ç§ç±»&ä½œç”¨

ç§ç±»ï¼šå…¨å±€ã€è·¯ç”±ã€ç»„ä»¶

> ```
> å…¨å±€ï¼šbeforeEach				 ç™»å½•çŠ¶æ€ã€ç½‘é¡µåŠ è½½è¿›åº¦æ¡
> å…¨å±€ï¼šbeforeResolve	    ä¸ç”¨ï¼ˆè·¯ç”±ã€ç»„ä»¶å®ˆå«è¢«è§£æä¹Ÿå°±æ˜¯è¢«è°ƒç”¨åï¼‰
> å…¨å±€ï¼šafterEach			    å…³é—­ç½‘é¡µåŠ è½½è¿›åº¦æ¡ NProgress
> 
> è·¯ç”±ï¼šbeforeEnter		    ä¸ç”¨
> 
> ç»„ä»¶ï¼šbeforeRouteEnter   ç»„ä»¶è¢«åˆ›å»ºå‰ï¼ˆæ³¨ï¼šä¸èƒ½ç”¨thisï¼‰
> ç»„ä»¶ï¼šbeforeRouteUpdate   åŠ¨æ€è·¯ç”±åŒ¹é…/åŠ¨æ€è·å–è·¯ç”±å‚æ•°
> ç»„ä»¶ï¼šbeforeRouteLeave   æœªä¿å­˜ç¦»å¼€ç»„ä»¶/æ¸…é™¤å®šæ—¶å™¨/åˆ‡æ¢ç»„ä»¶ä¿å­˜æ•°æ®ç­‰
> ```
>
> 

å…¨å±€

> **å…¨å±€å‰ç½®å®ˆå«** beforeEach		  
>
> ````
> åœºæ™¯1ï¼šç™»å½•éªŒè¯ï¼Œåˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•ï¼Œç™»å½•-next()ï¼Œæ²¡ç™»å½•-é‡å®šå‘åˆ°ç™»å½•é¡µ next({path:'/login'})
> åœºæ™¯2ï¼šæ˜¾ç¤ºç½‘é¡µåŠ è½½è¿›åº¦æ¡
> 
> 
> // å¯¼èˆªå®ˆå«ï¼ˆç›‘æ§è·¯ç”±å˜åŒ–ï¼‰
> // to è·¯ç”±å¯¹è±¡ï¼ˆæ–°é¡µé¢è·¯ç”±å¯¹è±¡  to.path å¯ä»¥è·å–å½“å‰æ–°é¡µé¢è·¯ç”±è·¯å¾„
> // form è·¯ç”±å¯¹è±¡ï¼ˆæ—§é¡µé¢è·¯ç”±å¯¹è±¡  form.path å¯ä»¥è·å–å½“å‰æ—§é¡µé¢è·¯ç”±è·¯å¾„
> // next å‡½æ•°  å¯ä»¥æ§åˆ¶é¡µé¢æ­£å¸¸è®¿é—®æˆ–è€…é‡å®šå‘
> import store from "@/store";
> import router from "@/router";
> import NProgress from "nprogress";
> import "nprogress/nprogress.css";
> 
> const whiteList = ["/login", "/404", "/login/sms", "/login/token"];
> 
> router.beforeEach((to, from, next) => {
>   NProgress.start();
>   // ...
>   // 1 åˆ¤æ–­ä½ è®¿é—®çš„æ˜¯ä»€ä¹ˆé¡µé¢
>   if (whiteList.indexOf(to.path) != -1) {
>     next();
>   } else {
>     // ç™»å½•ç›¸å…³çš„é¡µé¢ã€404 ç›´æ¥next
>     // å…¶ä»– åˆ¤æ–­tokenæ˜¯å¦å­˜åœ¨
>     // let token = this.$store.state.login.token
>     let token = store.state.login.token;
>     // - å­˜åœ¨ next({})
>     // - ä¸å­˜åœ¨ next({path: '/login'})
>     if (token) {
>       if (store.state.auths.menus.length <= 0) {
>         console.log("é‡æ–°è·å–æƒé™èœå•");
>         store.dispatch("auths/FETCH_MENUS");
>       }
>       next();
>     } else {
>       next({ path: "/login" });
>     }
>   }
> });
> 
> router.afterEach(() => {
>   NProgress.done();
> });
> 
> ````
>
> **å…¨å±€è§£æå®ˆå«**beforeResolve    2.5.0+
>
> ```
> åœºæ™¯ï¼šä¸ç”¨
> è§¦å‘ï¼šè·¯ç”±ã€ç»„ä»¶å®ˆå«è¢«è§£æä¹Ÿå°±æ˜¯è¢«è°ƒç”¨å
> ```
>
> **å…¨å±€åç½®é’©å­**afterEach
>
> ```
> åœºæ™¯ï¼šå…³é—­ç½‘é¡µåŠ è½½è¿›åº¦æ¡ NProgress
> è§¦å‘ï¼šæœ€åã€ç‰¹è‰²æ²¡æœ‰nextä¸ä¼šæ”¹å˜å¯¼èˆªæœ¬èº«ï¼š
> 
> 
> router.afterEach(() => {
>   NProgress.done();
> });
> ```

è·¯ç”±

> ```
> {
> 	path,
> 	component,
> 	...
> 	beforeEnter: (to, from, next) => {
> 	// ...
> }
> }
> ```
>
> 

ç»„ä»¶

> ```
> Vue.component(ç»„ä»¶å, {
> 	beforeRouteEnter    ç»„ä»¶è¢«åˆ›å»ºå‰ï¼ˆæ³¨ï¼šä¸èƒ½ç”¨thisï¼‰
> 	beforeRouteUpdate (2.2 æ–°å¢)   åŠ¨æ€è·¯ç”±åŒ¹é…/åŠ¨æ€è·å–è·¯ç”±å‚æ•°
> 	beforeRouteLeave   æœªä¿å­˜ç¦»å¼€ç»„ä»¶/æ¸…é™¤å®šæ—¶å™¨/åˆ‡æ¢ç»„ä»¶ä¿å­˜æ•°æ®ç­‰
> })
> 
> beforeRouteLeave (to, from, next) {
> // ç¦æ­¢ç”¨æˆ·åœ¨è¿˜æœªä¿å­˜ä¿®æ”¹å‰çªç„¶ç¦»å¼€
> const answer = window.confirm('Do you really want to leave? you have unsaved changes!')
> if (answer) {
>  next()
> } else {
>  next(false)
> }
> }
> æˆ–
> beforeRouteLeave (to, from, next) {
> window.clearInterval(this.timer) //æ¸…æ¥šå®šæ—¶å™¨
> next()
> }
> æˆ–
> beforeRouteLeave (to, from, next) {
>  // å½“ç”¨æˆ·éœ€è¦å…³é—­é¡µé¢æ—¶, å¯ä»¥å°†å…¬ç”¨çš„ä¿¡æ¯ä¿å­˜åˆ°sessionæˆ–Vuexä¸­
>  localStorage.setItem(name, content); //ä¿å­˜åˆ°localStorageä¸­
>  next()
> }
> ```





##  ğŸŒ› è·¯ç”±-å¯¼èˆªå®ˆå«æ‰§è¡Œé¡ºåº

```
å¯¼èˆªè¢«è§¦å‘ã€‚
åœ¨å¤±æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteLeave å®ˆå«ã€‚
è°ƒç”¨å…¨å±€çš„ beforeEach å®ˆå«ã€‚
åœ¨é‡ç”¨çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteUpdate å®ˆå« (2.2+)ã€‚
åœ¨è·¯ç”±é…ç½®é‡Œè°ƒç”¨ beforeEnterã€‚
è§£æå¼‚æ­¥è·¯ç”±ç»„ä»¶ã€‚
åœ¨è¢«æ¿€æ´»çš„ç»„ä»¶é‡Œè°ƒç”¨ beforeRouteEnterã€‚
è°ƒç”¨å…¨å±€çš„ beforeResolve å®ˆå« (2.5+)ã€‚
å¯¼èˆªè¢«ç¡®è®¤ã€‚
è°ƒç”¨å…¨å±€çš„ afterEach é’©å­ã€‚
è§¦å‘ DOM æ›´æ–°ã€‚
è°ƒç”¨ beforeRouteEnter å®ˆå«ä¸­ä¼ ç»™ next çš„å›è°ƒå‡½æ•°ï¼Œåˆ›å»ºå¥½çš„ç»„ä»¶å®ä¾‹ä¼šä½œä¸ºå›è°ƒå‡½æ•°çš„å‚æ•°ä¼ å…¥ã€‚
```

beforeRouteLeave ç»„ä»¶ç¦»å¼€

beforeEach       å…¨å±€

beforeRouteUpdate  ç»„ä»¶æ›´æ–°

afterEach     å…¨å±€

beforeRouteEnter    ç»„ä»¶è¿›å…¥







##  ğŸŒŸ è·¯ç”±-åŠ¨æ€è·¯ç”±å¦‚ä½•å®ç°

é¢è¯•æé—®

````
å¦‚ä½•å®ç°æƒé™æ§åˆ¶
å¦‚ä½•å®ç°èœå•æƒé™
å¦‚ä½•å®ç°åŠ¨æ€è·¯ç”±
å¦‚ä½•åŠ¨æ€æ·»åŠ è·¯ç”±è§„åˆ™
é¡¹ç›®æ˜¯å‰ç«¯è·¯ç”±è¿˜æ˜¯åç«¯è·¯ç”±
````

å®æˆ˜é¡¹ç›®å›ç­”

````
è§ä¸‹é¢ğŸ‘‡ 
````



ä½œç”¨&è¯­æ³•

> ä½œç”¨ï¼šä¸åŒè§’è‰²ï¼Œæƒé™èœå•çœ‹åˆ°çš„ä¸ä¸€æ ·
>
> æ­¥éª¤1ï¼šé¡µé¢èœå•å¯¼èˆªæ ¹æ®æ¥å£æ•°æ®æ¸²æŸ“
>
> æ­¥éª¤2ï¼šè·¯ç”±ä¸èƒ½å…¨éƒ¨å†™æ­»ï¼Œè€Œæ˜¯å…¨éƒ¨æ³¨é‡Šæ‰ï¼Œåˆ©ç”¨addRoutesæˆ–addRouteåŠ¨æ€æ·»åŠ è·¯ç”±è§„åˆ™
>
> ````
> ä¸¾ä¸ªæ —å­ï¼šå•†å“åˆ—è¡¨ã€ç”¨æˆ·åˆ—è¡¨ã€æƒé™åˆ—è¡¨ã€è®¢å•åˆ—è¡¨ç­‰ç­‰
> 1ã€apiç›®å½•å®šä¹‰æ¥å£å¯¼å‡º
> 2ã€ç»„ä»¶å†…å¯¼å…¥
> 3ã€æœ€åç»„ä»¶å†…çš„createdé’©å­å‡½æ•°ä¸­è°ƒç”¨
> 
> 
> 
> åŠ¨æ€è·¯ç”±ç‰¹æ®Šï¼š
> 1-é¦–å…ˆapiç›®å½•å®šä¹‰æ¥å£å¯¼å‡º
> 2-æ¥ç€åœ¨vuex authæ–‡ä»¶ä¸­å»å®šä¹‰actionsè·å–æƒé™èœå•æ•°æ®
> ç„¶åå†å…¨å±€å¯¼èˆªå®ˆå«beforeEachä¸­åˆ¤æ–­ç”¨æˆ·ç™»å½•äº†ï¼Œä½†æ˜¯æ²¡æœ‰èœå•æ•°æ® å°±é€šè¿‡dispatchè§¦å‘actionsè·å–æƒé™èœå•æ•°æ® 
> 
> ç›®çš„1ï¼šç™»å½•é¡µ  è·³è½¬åˆ°  æ¬¢è¿é¡µ    beforeEach  å‘ç°vuexä¸­æ²¡æœ‰èœå•æ•°æ®  è¯·æ±‚æ¥å£ä¿å­˜åˆ°vuexä¸­
> ç›®çš„2ï¼šåæœŸé¡µé¢åˆ·æ–°vuexå°±ä¸¢äº†ï¼Œæ²¡äº‹ åˆ·æ–°é¡µé¢ä¹Ÿå°±æ˜¯è·¯ç”±å˜åŒ–äº† beforeEach ä¹Ÿä¼šè§¦å‘   å‘ç°vuexä¸­æ²¡æœ‰èœå•æ•°æ®  è¯·æ±‚æ¥å£ä¿å­˜åˆ°vuexä¸­
> 
> 
> 
> æˆ–
> 1ã€åœ¨vuexä¸­å®šä¹‰actionsè·å–æƒé™èœå•æ•°æ®   actionsæ‹¿åˆ°æ•°æ®å è§¦å‘mutationsæ·»åŠ åŠ¨æ€è·¯ç”±addRouteå¹¶ä¸”ä¿å­˜åˆ°æ¨¡å‹ä¸­
> 2ã€åœ¨å…¨å±€å¯¼èˆªå®ˆå«ä¸­   åˆ¤æ–­vuexä¸­æ˜¯å¦æœ‰æƒé™èœå•æ•°æ® ï¼Œæ²¡æœ‰å°±è§¦å‘actions å»è·å–æƒé™èœå•æ•°æ® å¹¶ä¿å­˜åˆ°æ¨¡å‹ä¸­
> ````







##  ğŸŒŸ è·¯ç”±-å…ƒä¿¡æ¯æœ‰å•¥ç”¨

meta å­˜æ”¾é¢åŒ…å±‘ã€ä¹Ÿå¯ä»¥åŠ æ ‡è¯†æ§åˆ¶æ˜¯å¦ç¼“å­˜ç»„ä»¶

å®ç°1ï¼šé¡µé¢èœå•å¯¼èˆªæ ¹æ®æ¥å£æ•°æ®æ¸²æŸ“

å®ç°2ï¼šè·¯ç”±ä¸èƒ½å…¨éƒ¨å†™æ­»ï¼Œåˆ©ç”¨addRoutesæˆ–addRouteåŠ¨æ€æ·»åŠ è·¯ç”±è§„åˆ™



```
router.addRoute("admin", {
  path: twoMenu.url,
  component: () => import("@/views/" + twoMenu.component),
  meta: {
    name1: twoMenu.auth_pname,
    name2: twoMenu.auth_name,
    keep_alive: twoMenu.keep_alive,
  },
});
```



##  ğŸŒ› è·¯ç”±-è¿‡æ¸¡ç‰¹æ•ˆåœºæ™¯

é¡¹ç›®ä¸­ä¼šç”¨åˆ°

```
<transition class-enter-class="animated ç±»å">
  <router-view></router-view>
</transition>
```





# â–  week2-day2  è„šæ‰‹æ¶ç›¸å…³

## ğŸ’˜ è¯¾ä»¶

week2-day2  Vueè¿›é˜¶ï¼ˆé¡¹ç›®å‡†å¤‡ï¼šè„šæ‰‹æ¶ã€ToDoListæ¡ˆä¾‹ã€ç»„ä»¶å°è£…ã€å…¨å±€ç»„ä»¶ã€Vue.config.jsé…ç½®ï¼‰

  



##  ğŸŒŸ è¯´å‡ºæ¡†æ¶ä¸­åšäº†å“ªäº›é…ç½®vue.config.js

åˆ«å

è·¨åŸŸï¼ˆæœ€ç»ˆä¸Šçº¿è¿˜å¾—åç«¯æˆ–è¿ç»´å¤„ç†

ç§»å‡ºconsole

å›¾ç‰‡å‹ç¼©

å¼•å…¥å¤–éƒ¨CDN

ç­‰ç­‰ 



é¢è¯•è¿½é—®ï¼šä¸ºå•¥è¦å¼•å…¥å¤–éƒ¨cdn  

å›ç­”ï¼šå‡è½»åº”ç”¨/ä»£ç æœåŠ¡å™¨å‹åŠ›/å¹¶å‘ï¼Œè¯·æ±‚è´Ÿè½½å‡è¡¡/åˆ†å‘åˆ°å…¶ä»–æœåŠ¡å™¨ï¼ˆæ³¨ï¼šé“¶è¡ŒåŸæ¥æœ‰ä¸€ä¸ªå–æ¬¾æœºï¼Œç°åœ¨æœ‰nä¸ªï¼‰



## ğŸŒŸ è¯´å‡ºè·¨åŸŸçš„è§£å†³æ–¹æ¡ˆ

å¸¸ç”¨çš„

è°·æ­Œå‘½ä»¤

è°·æ­Œæ’ä»¶

JSONP

http-proxy-middleware

ç­‰ç­‰



è¿½é—®ï¼šé¡¹ç›®ä¸­å¦‚ä½•é…ç½®

```
vueä¸­é…ç½®  devServer  é…ç½®å°±å¯ä»¥äº†
```

è¿½é—®ï¼šåœ¨å“ªä¸ªæ–‡ä»¶ä¸­

```
vue.config.js ä¸­

module.exports = {
	 // ...
	 devServer: {}
	 // ...
}
```



##  ğŸŒŸ è¯´å‡ºVue.useåŸç†

Vue.useä¸»è¦ç”¨æ¥åœ¨æ¡†æ¶ä¸­å…¨å±€æ³¨å†Œæ’ä»¶ï¼Œä¾‹å¦‚æ³¨å†Œå…¨å±€çš„ç»„ä»¶ç­‰ï¼Œ

ç„¶ååº•å±‚æºç å¤§è‡´åšäº†ä¸¤ä»¶äº‹

```
1 æ£€æŸ¥ä¼ é€’çš„æ’ä»¶æœ‰æ²¡æœ‰é‡å¤æ³¨å†Œ
2 åˆ¤æ–­plugin.installæ˜¯ä¸æ˜¯å‡½æ•° æˆ– plugin æ˜¯ä¸æ˜¯å‡½æ•°  ç„¶ååˆ†åˆ«ç”¨applyè°ƒç”¨è®©å‡½æ•°æ‰§è¡Œ  æ³¨å†Œï¼Œ

Vue.component(ç»„ä»¶å, å•æ–‡ä»¶ç»„ä»¶)
```

æºç  https://github.com/vuejs/vue/blob/dev/src/core/global-api/use.js

````
export function initUse (Vue: GlobalAPI) {
  // æ¥å—ä¸€ä¸ªpluginå‚æ•°ï¼Œé™åˆ¶ä¸º Function | Objectä¸¤ç§ç±»å‹
  Vue.use = function (plugin: Function | Object) {
    // _installedPlugins å­˜å‚¨æ‰€æœ‰æ³¨å†Œè¿‡çš„ plugin
    const installedPlugins = (this._installedPlugins || (this._installedPlugins = []))
    // ä¿å­˜æ³¨å†Œç»„ä»¶çš„æ•°ç»„ï¼Œä¸å­˜åœ¨åˆ™åˆ›å»ºï¼Œå­˜åœ¨åˆ™ç›´æ¥è¿”å›ï¼Œä¸å…è®¸é‡å¤æ³¨å†Œ
    if (installedPlugins.indexOf(plugin) > -1) {
      return this
    }

    // additional parameters
    // å°†ä¼ å…¥çš„å‚æ•°è½¬æ¢æˆæ•°ç»„
    const args = toArray(arguments, 1)
    // å°†Vueå¯¹è±¡æ‹¼æ¥åˆ°æ•°ç»„å¤´éƒ¨
    args.unshift(this)
    // å¦‚æœæä¾›äº† install æ–¹æ³•ï¼Œåˆ™ç›´æ¥è°ƒç”¨
    if (typeof plugin.install === 'function') {
      // å¦‚æœç»„ä»¶æ˜¯å¯¹è±¡ï¼Œä¸”æä¾›installæ–¹æ³•ï¼Œè°ƒç”¨installæ–¹æ³•å°†å‚æ•°æ•°ç»„ä¼ å…¥ï¼Œæ”¹å˜`this`æŒ‡é’ˆä¸ºè¯¥ç»„ä»¶
      plugin.install.apply(plugin, args)
    } else if (typeof plugin === 'function') {
      // å¦åˆ™ç›´æ¥æ‰§è¡Œ
      plugin.apply(null, args)
    }
    // å°†pluginå­˜å‚¨åˆ°  installedPluginsï¼Œè¡¨ç¤ºyå·²ç»æ³¨å†Œè¿‡
    installedPlugins.push(plugin)
    return this
  }
}

````


```
/**
 * Convert an Array-like object to a real Array.
 */
export function toArray (list: any, start?: number): Array<any> {
  start = start || 0
  let i = list.length - start
  const ret: Array<any> = new Array(i)
  while (i--) {
    ret[i] = list[i + start]
  }
  return ret
}
```





# â–  week2-day3  UIç»„ä»¶åº“

## ğŸ’˜ è¯¾ä»¶

week2-day3  Vueè¿›é˜¶amï¼ˆé¡¹ç›®å‡†å¤‡ï¼šUIç»„ä»¶åº“ElemenUIã€IViewã€AntdVã€Vantã€Mintç­‰ã€è‡ªç ”UIç»„ä»¶åº“ï¼‰





##  ğŸŒ› è¯´å‡ºUIç»„ä»¶åº“/UIæ¡†æ¶åŸç†

æ­¥éª¤1ï¼šé¦–é€‰é€šè¿‡vueå•é¡µé¢åº”ç”¨å®šä¹‰å¥½å…¬å…±ç»„ä»¶

æ­¥éª¤2ï¼šå®šä¹‰æ‰€æœ‰UIç»„ä»¶å¯¼å‡ºå…¥å£æ–‡ä»¶ src/components/index.js

```
import Kuangkuang from '@/components/kuangkuang/Index.vue'
import Page from '@/components/page/Index.vue'

export default Vue => {
 // è¯­æ³•ï¼šVue.component(åæœŸè°ƒç”¨çš„ç»„ä»¶å, å•æ–‡ä»¶ç»„ä»¶)
 // æ³¨å†Œï¼šåæœŸå°±å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦å•ç‹¬å¯¼å…¥
 // Vue.component('qfui-kuangkuang', Kuangkuang)
 // Vue.component('qfui-page', Page)
 // Vue.component(Kuangkuang.name, Kuangkuang)
 // Vue.component(Page.name, Page)

   const coms = [Kuangkuang, Page]
   coms.forEach(com => {
     Vue.component(com.name, com)
   })
}
```

æ­¥éª¤3ï¼šæ¥ç€æ‰“åŒ…

> ```
> "scripts": {
>  "serve": "vue-cli-service serve",
>  "build": "vue-cli-service build",
>  																			    	       æ‰“åŒ…åæ–‡ä»¶å æ‰“åŒ…åå­˜çš„ç›®å½•  æ‰“åŒ…çš„ç»„ä»¶åœ¨å“ª
>  																									      -----			   ----		------------------
>  "build:ui": "vue-cli-service build --target lib --name qf-ui --dest dist2 ./src/components/index.js"
> },
> ```



æ­¥éª¤4ï¼šæœ€åæŒ‰ç…§nodeåŒ…å‘å¸ƒå°±å¯ä»¥ä½¿ç”¨



# â–  week2-day4/5  Vueé”‹å›¢é¡¹ç›®å¸ƒå±€

##  ğŸŒŸ é¡¹ç›®å¼€å‘ä¸­æœ‰æ²¡æœ‰å°è£…è¿‡ç»„ä»¶

æœ‰

æˆ–è€…ç”¨è¯­è¨€ï¼šå¼€å‘è¿‡





##  ğŸŒŸ é¡¹ç›®ä¸­å°è£…äº†å“ªäº›ç»„ä»¶

æœ‰å¾ˆå¤šï¼Œ

æ¯”å¦‚å°è£…äº†å…¬å…±çš„tableã€formç­‰ç»„ä»¶ï¼Œ

è¿˜æœ‰å¾ˆå¤šé¡µé¢ç»„ä»¶ï¼Œä¾‹å¦‚ä¾‹å¦‚ç¼–è¾‘ç”¨æˆ·ã€åˆ†é…è§’è‰²ï¼Œåˆ†é…æƒé™ã€é—¨åº—åˆ›å»ºã€åˆ†ç±»ç¼–è¾‘ç­‰éƒ½æœ‰å°è£…æå–é¡µé¢ç»„ä»¶ï¼Œä»è€Œä¾¿äºåæœŸç»´æŠ¤





##  ğŸŒŸ ç»„ä»¶å¦‚ä½•å°è£…çš„

é¡µé¢ç»„ä»¶ï¼šé¦–å…ˆåœ¨é¡µé¢ä¸­å®ŒæˆåŠŸèƒ½ï¼Œç„¶åå†views/æ¨¡å—å/componentsä¸­å®šä¹‰å•æ–‡ä»¶ç»„ä»¶ï¼Œç„¶åå¯¼å…¥ä½¿ç”¨ï¼Œä»è€Œè®©ç»„ä»¶æ›´ä¾¿äºåæœŸç»´æŠ¤

> æ¦‚å¿µï¼šå°†ç»„ä»¶ä¸­ä¸åŒé€»è¾‘çš„ä»£ç æå–å°è£…ï¼Œä¾¿äºåæœŸç»´æŠ¤



å…¬å…±ç»„ä»¶ï¼šé¦–å…ˆåœ¨src/componentså®šä¹‰formå…¬å…±ç»„ä»¶ï¼Œç„¶åå…¨å±€æ³¨å†Œå¯¼å…¥ä½¿ç”¨ï¼Œæœ€ç»ˆæ ¹æ®éœ€æ±‚åˆ©ç”¨propsæ¥å—å‚æ•°&åˆ›å»ºè‡ªå®šä¹‰äº‹ä»¶





##  ğŸŒŸ æ ·å¼ç›¸å…³

- é¢˜ç›®1ï¼šå¦‚ä½•é˜²æ­¢æ ·å¼çš„æ±¡æŸ“ï¼Ÿ

```
scoped
```

- é¢˜ç›®2ï¼šscopedè§£å†³æ ·å¼æ±¡æŸ“åŸç†

> è¯´æ˜ï¼švueåœ¨ç¼–è¯‘çš„æ—¶å€™é€šè¿‡åœ¨DOMå…ƒç´ ä»¥åŠcssæ ·å¼ä¸ŠåŠ ä¸Šå”¯ä¸€æ ‡è®°ï¼Œå®ç°æ ·å¼ç§æœ‰åŒ–ï¼Œä¸æ±¡æŸ“å…¨å±€æ ·å¼ã€‚
>
> ä¸¾ä¾‹ï¼š
>
> ```
> <div class="my-class"></div>
> ç¼–è¯‘ä¸º
> <div class="my-class" data-v-56e7f952></div>
> å¯¹åº”çš„æ ·å¼.my-classç¼–è¯‘ä¸º
> .my-class[data-v-56e7f952]
> ```
>
> åŸç†ï¼šåˆ©ç”¨å‰ç«¯è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·webpackç»“åˆPostCSSæ¨¡å—ç¼–è¯‘å®ç°cssæ¨¡å—åŒ–
>
> https://www.postcss.com.cn/   

- é¢˜ç›®3ï¼šé¡¹ç›®ä¸­å¼€å¯æ ·å¼ç§æœ‰åŒ–åï¼Œæ— æ³•ä¿®æ”¹å­ç»„ä»¶ä¾‹å¦‚elementuiã€antdvå¦‚ä½•è§£å†³

```
é€šè¿‡ã€æ·±åº¦ä½œç”¨é€‰æ‹©å™¨ã€‘ï¼Œä½ å¯ä»¥ä½¿ç”¨ >>> æ“ä½œç¬¦ï¼›æœ‰äº›åƒ Sass ä¹‹ç±»çš„é¢„å¤„ç†å™¨æ— æ³•æ­£ç¡®è§£æ >>>ã€‚è¿™ç§æƒ…å†µä¸‹ä½ å¯ä»¥ä½¿ç”¨ /deep/ æˆ– ::v-deep æ“ä½œç¬¦å–è€Œä»£ä¹‹â€”â€”ä¸¤è€…éƒ½æ˜¯ >>> çš„åˆ«åï¼ŒåŒæ ·å¯ä»¥æ­£å¸¸å·¥ä½œã€‚   
```

https://vue-loader.vuejs.org/zh/guide/scoped-css.html#%E6%B7%B1%E5%BA%A6%E4%BD%9C%E7%94%A8%E9%80%89%E6%8B%A9%E5%99%A8 





##  ğŸŒŸ ç”¨æˆ·è§’è‰²æƒé™ä¸‰è€…æ˜¯å¦‚ä½•å…³è”çš„

é¦–å…ˆåœ¨æƒé™ç®¡ç†å¯ä»¥æ·»åŠ åˆ é™¤æƒé™ï¼Œå®ç°åç«¯è·¯ç”±

æ¥ç€å¯ä»¥æ·»åŠ åˆ é™¤è§’è‰²ï¼Œç„¶åç»™è§’è‰²åˆ†é…æƒé™

æœ€ååœ¨ç”¨æˆ·ç®¡ç†ç»™ç”¨æˆ·åˆ†é…è§’è‰²ï¼Œ

åæœŸä¸åŒç”¨æˆ·ç™»å½•å°±å¯ä»¥çœ‹åˆ°ä¸åŒç‚¹æƒé™èœå•/å¯¼èˆª







# â–  week3-day1  å¼‚æ­¥è¯·æ±‚

## ğŸ’˜ è¯¾ä»¶

week3-day1  VueåŸºç¡€ï¼ˆé¡¹ç›®å‡†å¤‡ï¼šaxiosã€fetchæ•°æ®è¯·æ±‚



##  ğŸŒŸ è°ˆè°ˆä½ å¯¹HTTPç†è§£

```
è¶…æ–‡æœ¬ä¼ è¾“åè®®ã€è§„å®šå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å¦‚ä½•é€šä¿¡ï¼Œ

ä»–æ˜¯æ˜¯è¯·æ±‚è¡Œï¼Œå“åº”è¡Œï¼Œè¯·æ±‚å¤´ï¼Œå“åº”å¤´ï¼Œè¯·æ±‚ä½“ï¼Œå“åº”ä½“ç»„æˆï¼Œ
ä¹‹å‰æˆ‘åšé¡¹ç›®çš„å›æ”¶ è¯·æ±‚è¡Œä½ ä»¬ä¸»è¦æŸ¥çœ‹è¯·æ±‚åœ°å€ã€è¯·æ±‚çŠ¶æ€ã€è¯·æ±‚æ–¹å¼ã€è¯·æ±‚ä½“å¤´é‡Œé¢ä¸»è¦æ”¾cookieã€tokenã€content-typeç­‰ï¼Œè¯·æ±‚ä½“ä¸»è¦çœ‹å‚æ•°æœ‰æ²¡æœ‰ä¼ é€’ç»™åç«¯ã€å“åº”ä½“åç«¯è¿”å›çš„æ•°æ®è¿›è¡Œé¡¹ç›®è°ƒè¯•ã€‚
```

##  ğŸŒŸ è°ˆè°ˆä½ å¯¹çŠ¶æ€ç çš„ç†è§£

```
2xx  200æˆåŠŸ 201æˆåŠŸå¹¶åˆ›å»ºæ–°èµ„æº
3xx  301æ°¸ä¹…é‡å®šå‘ 302ä¸´æ—¶é‡å®šå‘ 304æµè§ˆå™¨ç¼“å­˜
4xx  400å‚æ•°æœ‰è¯¯ 401å¯†ç é”™è¯¯ 403æ— æƒè®¿é—® 404æ–‡ä»¶ä¸å­˜åœ¨ 405è¯·æ±‚æ–¹å¼æœ‰è¯¯
5xx  500æœåŠ¡å™¨é”™è¯¯
```



##  ğŸŒŸ postã€getåŒºåˆ«

```
å®‰å…¨è§’åº¦   postå¯¹è±¡å®‰å…¨ getåœ°å€æ  åæœŸå¯ä»¥é€šè¿‡å†å²è®°å½•æŸ¥çœ‹ç™»é™†å¯†ç 
æ•°æ®è§’åº¦   getåœ°å€æ  ä¸åŒæµè§ˆå™¨åœ°å€æ é•¿åº¦é™åˆ¶   poståç«¯è§„å®š 2M 8M
```



##  ğŸŒŸ xhrã€fetchåŒºåˆ«

```
xhrã€fetch

ç›¸åŒç‚¹ï¼š1-éƒ½å¯ä»¥å‘é€å¼‚æ­¥è¯·æ±‚ã€2-éƒ½æ˜¯ECMAå®šä¹‰çš„
ä¸åŒç‚¹ï¼šå‰è€…å¼‚æ­¥å›è°ƒåœ°ç‹±ï¼Œåè€…promise
```



> å…¶ä»–äº†è§£
>
> ```
> æœ€åˆajaxï¼ˆXMLHttpRequest ECMAç»„ç»‡ï¼‰   ç‘•ç–µï¼š1-è¯­æ³•éº»çƒ¦å¤ªå¤šï¼Œ2-å¼‚æ­¥å›è°ƒåœ°ç‹±ï¼Œ3-è¯­æ³•æœ‰å…¼å®¹æ€§é—®é¢˜
> åå°jqï¼ˆç¬¬ä¸‰æ–¹ä½œè€…ï¼‰ 
> 	æ˜ç¡®ï¼šJQé‡Œé¢çš„$.ajax/get/postæ˜¯åŸºäºXMLHttpRequestå°è£…çš„  function + ajax + callback
> 	å¥½å¤„ï¼šè¯­æ³•æ›´ç®€å•ã€è§£å†³å¾ˆå¤šå…¼å®¹æ€§é—®é¢˜
> 	ç‘•ç–µï¼šå¼‚æ­¥å›è°ƒåœ°ç‹±è¿˜åœ¨
> 
> 	è§£å†³ï¼šé€šè¿‡promiseæŠ€æœ¯
> 
> æœ€åfetchï¼ˆECMAç»„ç»‡ï¼‰  ï¼šç»“åˆpromiseæŠ€æœ¯è€Œç”Ÿï¼Œä»£æ›¿ä¼ ç»Ÿxhr
> ```



##  ğŸŒŸ fetchã€axiosåŒºåˆ«

```
ç›¸åŒç‚¹ï¼š1 éƒ½å¯ä»¥å‘é€å¼‚æ­¥è¯·æ±‚ï¼Œ2 éƒ½æ˜¯promise
ä¸åŒç‚¹ï¼š1 fetchå®˜æ–¹ã€axiosç¤¾åŒºï¼Œ2 axiosæ›´å¼ºå¹¶å‘ã€æ‹¦æˆªå™¨ç­‰
```



##  ğŸŒŸ axiosä¹‹å‰æœ‰æ²¡æœ‰å°è£…è¿‡

````
- å°è£…axioså¯¼å‡ºrequestå®ä¾‹å¯¹è±¡ï¼ˆtimeoutã€baseURLã€headers content-typeã€.env
- è¯·æ±‚æ‹¦æˆªå™¨ï¼ˆå¼€å¯Loadingã€token
- å“åº”æ‹¦æˆªå™¨-æˆåŠŸï¼ˆå…³é—­Loadingã€res.data.dataè¿‡æ»¤ ã€ æ¥å£æƒé™ã€TOKENè¿‡æœŸ
- å“åº”æ‹¦æˆªå™¨-å¤±è´¥ï¼ˆå…³é—­Loadingã€timeoutå¤„ç† ã€404ã€canceledã€é‚®ä»¶æŠ¥è­¦æ•æ‰å‰ç«¯å¼‚å¸¸
````



##  ğŸŒŸ  axiosåŸç†

åŸºäºxmlhttprequestæ„é€ å‡½æ•°ã€å’Œnodeä¸­çš„httpæ¨¡å—å°è£…å®ç°ï¼ŒåŠ¨æ€åˆ¤æ–­æµè§ˆå™¨ç¯å¢ƒã€è¿˜æ˜¯æœåŠ¡ç«¯ç¯å¢ƒ

å»é€‰æ‹©å¯¹åº”è¯­æ³•è¿”å›promiseå¯¹è±¡

 



##  ğŸŒŸ è·¨åŸŸå¦‚ä½•è§£å†³

å¸¸ç”¨çš„

è°·æ­Œå‘½ä»¤

è°·æ­Œæ’ä»¶

å‰ç«¯ä»£ç† http-proxy-middleware

JSONP



ç•™å¿ƒï¼šä¸ç®¡å‰ç«¯å’‹æ“ä½œæœ€ç»ˆä¸Šçº¿éƒ½å¾—åç«¯æˆ–è€…æœåŠ¡å™¨é…ç½®





è¿½é—®ï¼šé¡¹ç›®ä¸­å¦‚ä½•é…ç½®

```
vueä¸­é…ç½®  devServer  é…ç½®å°±å¯ä»¥äº†
```

è¿½é—®ï¼šåœ¨å“ªä¸ªæ–‡ä»¶ä¸­

```
vue.config.js ä¸­

module.exports = {
	 // ...
	 devServer: {}
	 // ...
}
```





# â–  week3-day2  çŠ¶æ€ç®¡ç†vuexç›¸å…³

## ğŸ’˜ è¯¾ä»¶

week3-day2  Vueè¿›é˜¶ï¼ˆé¡¹ç›®å‡†å¤‡ï¼šVUEXå•åº“ã€VUEXæ•°æ®æŒä¹…åŒ–bã€VUEXå•åº“æ¨¡å—åŒ–ã€VUEXæ¡†æ¶æ¨¡å—åŒ–bï¼‰



##  ğŸŒŸ è¯´å‡ºvuexæœ‰å“ªäº›é”®

```
stateã€gettersã€mutationsã€actionsã€pluginsã€modules
```





##  ğŸŒŸ è¯´å‡ºvuexå·¥ä½œæµ

```
stateå­˜æ”¾æ•°æ®ã€
gettersè¿‡æ»¤
mutationsæ›´æ–°
actionså¼‚æ­¥è¯·æ±‚
```





##  ğŸŒŸ è¯´å‡ºvuexæ•°æ®æŒä¹…åŒ–

H5å­˜å‚¨

ç¬¬ä¸‰æ–¹æ¨¡å—





## ğŸŒŸ 2109

```
é—®1ï¼švuexå·¥ä½œæµ
ç­”1ï¼šé€šè¿‡stateå®šä¹‰çŠ¶æ€ã€é€šè¿‡gettersè¿‡æ»¤çŠ¶æ€ã€é€šè¿‡mutationsæ›´æ–°çŠ¶æ€ã€é€šè¿‡actionså¼‚æ­¥è¯·æ±‚
 - è¿½é—®ï¼šé‡Œé¢å…·ä½“æ€ä¹ˆå†™ã€æˆ–è€…é¢è¯•å®˜é—®çš„æ˜¯vuexå…·ä½“æ€ä¹ˆå†™çš„ï¼Ÿ
 - å›ç­”ï¼šstateæ˜¯å¯¹å¯¹è±¡ é‡Œé¢å†™é”®:å€¼ï¼Œgetteræ˜¯å¯¹è±¡  é‡Œé¢å†™å‡½æ•°  è¿”å›è¿‡æ»¤çš„æ•°æ®ï¼Œmutations æ˜¯å¯¹è±¡  é‡Œé¢å†™å‡½æ•°  å½¢å‚æ˜¯stateã€‚
 - è¿½é—®ï¼švuexåœ¨é¡¹ç›®ä¸­æ€ä¹ˆç”¨ï¼Ÿ
 - å›ç­”ï¼šstoreæ–‡ä»¶ä¸­é€šè¿‡moduleæ¨¡å—åŒ–å®šä¹‰çŠ¶æ€ï¼Œç„¶åé€šè¿‡è¾…åŠ©å‡½æ•°mapStateã€mapMutationså»è·å–
 - è¿½é—®ï¼šå…·ä½“åœºæ™¯å‘¢ï¼Ÿ
 - å›ç­”ï¼šæ¯”å¦‚æˆ‘ä¹‹å‰åšxxxé¡¹ç›®ï¼Œç™»å½•æˆåŠŸä¹‹åç”¨æˆ·åã€è§’è‰²ã€tokenã€æƒé™èœå•ç­‰ç­‰å°±æ˜¯å­˜åœ¨vuexä¸­ï¼Œç„¶åé€šè¿‡è¾…åŠ©å‡½æ•°è·å–æ˜¾ç¤ºï¼›
 - è¿½é—®ï¼šæ€ä¹ˆè·å–stateçš„æ•°æ®æ€ä¹ˆå–ï¼Ÿ
 - å›ç­”ï¼šå¯ä»¥é€šè¿‡ this.$store.state.é”®è·å–   ä½†æ˜¯æˆ‘ä¹‹å‰åšxxxé¡¹ç›®ä¸»è¦ä½¿ç”¨vuexçš„è¾…åŠ©å‡½æ•°mapState
 - è¿½é—®ï¼švuexå±æ€§ä¹‹é—´çš„è”ç³»ï¼Œè¿˜æœ‰è¾…åŠ©å‡½æ•°
 - å›ç­”ï¼šgetterè¿‡æ»¤stateé‡Œé¢ï¼Œmutationså»æ›´æ–°stateé‡Œé¢ï¼Œactionsä¸»è¦å‘é€å¼‚æ­¥è¯·æ±‚ç„¶åè§¦å‘mutationsæ›´æ–°stateé‡Œé¢çš„æ•°æ®ï¼›
 - è¿½é—®ï¼šä¸ºä»€ä¹ˆåœ¨actioné‡Œé¢å†™å¼‚æ­¥è¯·æ±‚ï¼Œè€Œä¸ä¼šmutation
 - å›ç­”ï¼šé¦–å…ˆmutationä¹Ÿå¯ä»¥å†™å¼‚æ­¥è¯·æ±‚ï¼Œä½†æ˜¯å®˜æ–¹æ¨èåœ¨actioné‡Œé¢å†™ï¼Œä»è€Œç¡®ä¿æ‹¿åˆ°æ•°æ®ä¹‹åå†æ›´æ–°çŠ¶æ€ï¼Œé¿å…mutationå†™å¼‚æ­¥è¯·æ±‚å­˜åœ¨åŒæ­¥å¼‚æ­¥é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯æ‹¿åˆ°æ•°æ®ã€ä¹‹å‰ã€‘æ›´æ–°äº†çŠ¶æ€ã€‚
 
é—®2ï¼švuexæœ‰å“ªäº›é”®x
vuexä¸­çš„é”®ï¼Œå’Œå…¶ä»–å·¥ä½œæµï¼Œå…·ä½“mutationå’Œactionçš„ç›¸åŒç‚¹ï¼Œæ€ä¹ˆç”¨
é—®3ï¼švuexæ€ä¹ˆç”¨
é—®4ï¼švuexæ•°æ®æ˜¯æ°¸ä¹…çš„è¿˜æ˜¯ä¸´æ—¶çš„
```







# â–  week3-day3/4/5  Vueé”‹å›¢é¡¹ç›®æ¥å£

##  ğŸŒŸ è¯´ä¸€ä¸‹ç™»å½•å¦‚ä½•å®ç°çš„

1ã€é€šè¿‡elementuiå¸ƒå±€ è¡¨å•éªŒè¯

2ã€ç»™ç™»å½•ç»‘å®šç‚¹å‡»äº‹ä»¶ï¼Œ...  

3ã€ç„¶åé€šè¿‡vuexè¾…åŠ©å‡½æ•° è°ƒç”¨ actions å»è¯·æ±‚æ¥å£

4ã€å¤±è´¥å¼¹æ¡†æç¤ºï¼ŒæˆåŠŸå°†tokenã€unameã€roleNameå­˜å‚¨vuexä¸­ï¼Œç„¶åæç¤ºç™»å½•æˆåŠŸ&&é‡å®šå‘



```
1 vuexå‘¨è¾¹é—®é¢˜ æ¯”å¦‚æ•°æ®æŒä¹…åŒ–ã€æ¯”å¦‚æœ‰å“ªäº›é”®
2 axioså‘¨è¾¹é—®é¢˜
3 tokenå‘¨è¾¹é—®é¢˜ï¼ˆè¿‡æœŸé—®é¢˜
```





##  ğŸŒŸ å¦‚ä½•åˆ¤æ–­ç”¨æˆ·æ˜¯å¦ç™»å½•

##  ğŸŒŸ ç™»å½•æ˜¯å¦‚ä½•é‰´æƒçš„

é€šè¿‡å…¨å±€å¯¼èˆªå®ˆå«åˆ¤æ–­ï¼Œç™½åå•ç›´æ¥nextã€éç™½åå•åˆ¤æ–­h5æˆ–vuexä¸­æ˜¯å¦å­˜åœ¨  ä¸å­˜åœ¨é‡å®šå‘åˆ° ç™»å½•é¡µå³å¯





##  ğŸŒŸ è¯´ä¸€ä¸‹tokenè¿‡æœŸæœºåˆ¶

çº¯å‰ç«¯å¤„ç†

```
1 ç™»å½•æ—¢è¦å­˜token  åˆè¦é¢å¤–å­˜ä¸€ä¸ªæ—¶é—´
2 axiosè¯·æ±‚æ‹¦æˆªå™¨é‡Œé¢  åˆ¤æ–­æ˜¯å¦è¿‡æœŸ æç¤ºtokenè¿‡æœŸï¼Œç„¶åå°±é‡å®šå‘åˆ°ç™»å½•é¡µ
```



å‰åç«¯ç»“åˆå¤„ç†

```
1 ç™»å½•å°±å­˜tokenæ™šåƒ
2 è¯·æ±‚æ‹¦æˆªå™¨æ¯æ¬¡è¯·æ±‚æºå¸¦token
3 ç›¸åº”æ‹¦æˆªå™¨åˆ¤æ–­æ˜¯å¦è¿‡æœŸ  æç¤ºtokenè¿‡æœŸï¼Œè¿‡æœŸå°±é‡å®šå‘ç™»å½•é¡µ
```



##  ğŸŒŸ é¡¹ç›®ä¸­æ˜¯å‰ç«¯è·¯ç”±è¿˜æ˜¯åç«¯è·¯ç”±

##  ğŸŒŸ æƒé™èœå•å¦‚ä½•å®ç°çš„

åç«¯è·¯ç”±



è¿½é—®ï¼šåç«¯è·¯ç”±å¦‚ä½•å®ç°çš„ï¼Ÿ

å›ç­”ï¼šå‡ ä¸ªå…³é”®è¯  è¯·æ±‚æ¥å£ã€addRouteã€èœå•è¿˜çš„éå†æå‡ºæ¥ã€vuex

```
1ã€é¦–å…ˆé€šè¿‡vuexå®šä¹‰actionsè·å–å½“å‰ç”¨æˆ·çš„æƒé™æ•°æ®ï¼Œç„¶åè§¦å‘mutationsã€ä¿å­˜åˆ°stateä¸­ã€å¹¶ä¸”é€šè¿‡addRouteæ·»åŠ åŠ¨æ€è·¯ç”±
2ã€åœ¨å¯¼èˆªå®ˆå«ä¸­åˆ¤æ–­storeä¸­çš„æƒé™æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨nextä¸å­˜åœ¨å…¨å±€å¯¼èˆªå®ˆå«beforeEachè§¦å‘actionè·å–



3ã€åå°é¦–é¡µlayoutä¸‹é¢çš„menuä¸­é€šè¿‡è¾…åŠ©å‡½æ•°è·å–éå†æ˜¾ç¤º
```



å…¶ä»–å¤‡æ³¨ï¼šä¸€èˆ¬tokenæœ‰æ•ˆæœŸ7200s  ä¹Ÿå°±æ˜¯2å°æ—¶  å…·ä½“çœ‹å…¬å¸





##  ğŸŒŸ ....













â€‹    

## ğŸŒŸ é¡¹ç›®åšäº†å“ªäº›ä¼˜åŒ–

- äº¤äº’è§’åº¦

````
animate.css     
vue-lazyload  
nprogress
loading
preventReClick
ç­‰
````

-  ä»£ç è§’åº¦

```
æ··å…¥
è¿‡æ»¤å™¨
é¡µé¢ç»„ä»¶æå–å°è£…
å…¬å…±ç»„ä»¶æå–å°è£…
axioså°è£…
å…¨å±€é…ç½®æ–‡ä»¶  process.env
ç­‰ç­‰
```

- æ€§èƒ½è§’åº¦  webpack

```
å…³é—­prefetché¢„åŠ è½½ 
å›¾ç‰‡å‹ç¼©  		  åŸç†ï¼šimage-webpack-loader
å¼•å…¥å¤–éƒ¨cdn  	   åŸç†ï¼šconfigureWebpack  -> externals 
UIæ¡†æ¶æŒ‰éœ€åŠ è½½    åŸç†ï¼šbabel-plugin-import å®ç°è‡ªåŠ¨æŒ‰éœ€å¼•å…¥
è·¯ç”±/ç»„ä»¶æ‡’åŠ è½½   åŸç†ï¼šes6 importåŠ¨æ€åŠ è½½ + webapckæ–‡ä»¶åˆ†å‰²
ç­‰ç­‰
```

- æ€§èƒ½ä¼˜åŒ–  web server æˆ– code

```
nginxæœåŠ¡å™¨é…ç½®ï¼šå¼€å¯å¼ºåˆ¶ç¼“å­˜expiresç¼“å­˜ï¼ˆæ³¨ï¼šè¿™ä¸ªå•è¯cookieä¸­ç¢°åˆ°è¿‡ï¼‰
nginxæœåŠ¡å™¨é…ç½®ï¼šå¼€å¯gzipå‹ç¼©
keep-aliveç»„ä»¶ç¼“å­˜
ç­‰ç­‰
```



â€‹    

## ğŸŒŸ è¯´å‡ºè·¯ç”±æ‡’åŠ è½½åŸç†

es6 åŠ¨æ€å¯¼å…¥ + webpackæ–‡ä»¶åˆ†å‰²



> æ™®é€šå¯¼å…¥ï¼šimport  ç»„ä»¶å  from  è·¯å¾„åŠæ–‡ä»¶å      æ‰“å¼€å°±è§¦å‘
>
> åŠ¨æ€å¯¼å…¥ï¼šcomponent: () => import(è·¯å¾„åŠæ–‡ä»¶å)   è®¿é—®æ‰è§¦å‘



## ğŸŒŸ å‘¨è¾¹ï¼šasyncã€awaitå…·ä½“æ€ä¹ˆç”¨çš„

å°±æ˜¯é’©å­å‡½æ•°ä¸­ã€æˆ–è€…vuexçš„actionsä¸­ä¸ç»å¸¸éœ€è¦å†™apiè¯·æ±‚æ¥å£å—

ç„¶åé€šè¿‡asyncã€awaitæ¥ä¿®é¥°å®ŒæˆåŠŸèƒ½



ä¸¾ä¾‹ï¼šæ¯”å¦‚æƒé™èœå•ã€å„ç§ç™»å½•å’±ä»¬éƒ½ç”¨äº†



# â–  æŸ¥ç¼ºè¡¥æ¼





##  ğŸŒŸ è¯´ä¸€ä¸‹Diffç®—æ³•

ç®—æ³•è§„åˆ™

```
1 æ­¥éª¤ä¸€ï¼šç”¨JSå¯¹è±¡æ¨¡æ‹ŸDOMæ ‘
2 æ­¥éª¤äºŒï¼šæ¯”è¾ƒä¸¤æ£µè™šæ‹ŸDOMæ ‘çš„å·®å¼‚ï¼ˆåˆ‡è®°åˆ‡è®°åˆ‡è®°ï¼šä¸€å±‚ä¸€å±‚æ¯”ï¼‰
3 æ­¥éª¤ä¸‰ï¼šæŠŠå·®å¼‚åº”ç”¨åˆ°çœŸæ­£çš„DOMæ ‘ä¸Š
4 æ­¥éª¤å››ï¼šåœ¨é¡µé¢å±•ç¤º

è™šæ‹ŸDOMä»‹ç»ï¼šhttps://www.jianshu.com/p/616999666920  
å¦‚ä½•å®ç°ä¸€ä¸ªVirtual DOM ç®—æ³•ï¼šhttps://github.com/livoras/blog/issues/13 
æ·±å…¥ç†è§£Diffç®—æ³•ï¼šhttps://blog.csdn.net/lunahaijiao/article/details/86741739
```



```
<div id="root">
    <div v-for="item in todos">
        <input type="checkbox" name="" id="">
        {{item.title}}
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script>
const vm = new Vue({
    el: "#root",
    data: {
        todos: [
            {id:1, title:'åƒé¥­'},
            {id:2, title:'ç¡è§‰'},
            {id:3, title:'æŒ¤ç—˜ç—˜'},
        ]
    }
})
</script>

æ­¥éª¤1ï¼šé€šè¿‡æµè§ˆå™¨è¿è¡Œ ï¼Œç»™ç¬¬äºŒä¸ªcheckboxæ‰“é’©
æ­¥éª¤2ï¼šåœ¨æ§åˆ¶å° vm.todos.splice(1,1)
```







ä»€ä¹ˆæ˜¯è™šæ‹ŸDOMï¼šå°±æ˜¯ä½¿ç”¨javascriptçš„å¯¹è±¡æ¥æè¿°äº†DOMç»“æ„

ä¸ºä»€ä¹ˆè¦è™šæ‹ŸDOMï¼šæå‡æ€§èƒ½ï¼ˆå› ä¸ºå›æµã€é‡ç»˜   æµè§ˆå™¨å·¥ä½œæœºåˆ¶ï¼‰

å¦‚ä½•æ›´æ–°DOMæ•°æ®ï¼šé€šè¿‡diffç®—æ³•ï¼ˆåŒå±‚æ¯”è¾ƒï¼‰

```
1 æ­¥éª¤ä¸€ï¼šç”¨JSå¯¹è±¡æ¨¡æ‹ŸDOMæ ‘
2 æ­¥éª¤äºŒï¼šæ¯”è¾ƒä¸¤æ£µè™šæ‹ŸDOMæ ‘çš„å·®å¼‚(æ³¨ï¼šåæœŸå¦‚æœå†™å†™éå† åŠ ä¸Š:key æå‡æ€§èƒ½çš„)
3 æ­¥éª¤ä¸‰ï¼šæŠŠå·®å¼‚åº”ç”¨åˆ°çœŸæ­£çš„DOMæ ‘ä¸Š
```

åˆ‡è®°ï¼šå½“éå†æ•°æ®çš„æ—¶å€™è¦å†™key   æå‡æ€§èƒ½ã€ä¹Ÿæ˜¯é¿å…BUG









# â–  å‘¨è¾¹



## ğŸŒŸ ã€äº‹ä»¶å¾ªç¯ã€‘è°ˆè°ˆä½ å¯¹Event Loopçš„ç†è§£

`Event Loop`å³äº‹ä»¶å¾ªç¯ï¼Œ

æ˜¯æŒ‡æµè§ˆå™¨æˆ–`Node`çš„ä¸€ç§ç¡®ä¿javaScriptå•çº¿ç¨‹è¿è¡Œæ—¶ä¸ä¼šé˜»å¡çš„ä¸€ç§æœºåˆ¶ï¼Œ

ä¹Ÿå°±æ˜¯æˆ‘ä»¬ç»å¸¸ä½¿ç”¨**å¼‚æ­¥**çš„åŸç†ã€‚    



ç§ç±»ï¼šæµè§ˆå™¨çš„Event Loopã€Node.jsä¸­çš„Event Loop



## ğŸŒŸ ã€äº‹ä»¶å¾ªç¯ã€‘è°ˆè°ˆä½ å¯¹æµè§ˆå™¨çš„Event Loopç†è§£

  æµè§ˆå™¨è¾“å…¥ç½‘å€æœåŠ¡å™¨å“åº”æ•°æ®åï¼Œ

æµè§ˆå™¨ä¼šé€šè¿‡renderè¿›ç¨‹å¼€å§‹è§£æå·¥ä½œ

GUIçº¿ç¨‹è´Ÿè´£é¡µé¢æ¸²æŸ“

JSå¼•æ“çº¿ç¨‹è´Ÿè´£æ‰§è¡ŒJSä»£ç 

é‡åˆ°å¼‚æ­¥ä»£ç ä¼šäº¤ç»™å…¶ä»–çº¿ç¨‹å¤„ç†ï¼Œç„¶åæ”¾åˆ°é˜Ÿåˆ—ä¸­ï¼Œ

äº‹ä»¶å¾ªç¯ä¸»è¦æ˜¯ä»é˜Ÿåˆ—ä¸­å–å‡ºä»£ç æ”¾åˆ°æ‰§è¡Œæ ˆä¸­äº¤ç»™jså¼•æ“çº¿ç¨‹å¤„ç†





## ğŸŒ›ã€äº‹ä»¶å¾ªç¯ã€‘è°ˆè°ˆä½ å¯¹Node.jsä¸­çš„Event Loopç†è§£



> libuvå¼•æ“ä¸­çš„äº‹ä»¶å¾ªç¯åˆ†ä¸º 6 ä¸ªé˜¶æ®µï¼Œå®ƒä»¬ä¼šæŒ‰ç…§é¡ºåºåå¤è¿è¡Œã€‚æ¯å½“è¿›å…¥æŸä¸€ä¸ªé˜¶æ®µçš„æ—¶å€™ï¼Œéƒ½ä¼šä»å¯¹åº”çš„å›è°ƒé˜Ÿåˆ—ä¸­å–å‡ºå‡½æ•°å»æ‰§è¡Œã€‚å½“é˜Ÿåˆ—ä¸ºç©ºæˆ–è€…æ‰§è¡Œçš„å›è°ƒå‡½æ•°æ•°é‡åˆ°è¾¾ç³»ç»Ÿè®¾å®šçš„é˜ˆå€¼ï¼Œå°±ä¼šè¿›å…¥ä¸‹ä¸€é˜¶æ®µã€‚



```
timers é˜¶æ®µï¼šè¿™ä¸ªé˜¶æ®µæ‰§è¡Œtimerï¼ˆsetTimeoutã€setIntervalï¼‰çš„å›è°ƒ
I/O callbacks é˜¶æ®µï¼šå¤„ç†ä¸€äº›ä¸Šä¸€è½®å¾ªç¯ä¸­çš„å°‘æ•°æœªæ‰§è¡Œçš„ I/O å›è°ƒ
idle, prepare é˜¶æ®µï¼šä»…nodeå†…éƒ¨ä½¿ç”¨
poll é˜¶æ®µï¼šè·å–æ–°çš„I/Oäº‹ä»¶, é€‚å½“çš„æ¡ä»¶ä¸‹nodeå°†é˜»å¡åœ¨è¿™é‡Œï¼ˆè½®è®­é˜¶æ®µï¼‰  
check é˜¶æ®µï¼šæ‰§è¡Œ setImmediate() çš„å›è°ƒ
close callbacks é˜¶æ®µï¼šæ‰§è¡Œ socket çš„ close äº‹ä»¶å›è°ƒ
```







## ğŸŒŸ ã€äº‹ä»¶å¾ªç¯ã€‘è¯´å‡ºå®ä»»åŠ¡ã€å¾®ä»»åŠ¡å„æœ‰å“ªäº›



> å•è¯å«ä¹‰ï¼šI input è¾“å…¥ã€ O output è¾“å‡º 
>
> ç”¨æˆ·è§’åº¦IOæ“ä½œï¼šé¼ æ ‡é”®ç›˜-æ˜¯è®¡ç®—æœºè¾“å…¥ä¿¡æ¯ï¼Œæ˜¾ç¤ºå™¨-æ˜¯è¾“å‡ºè®¾å¤‡
>
> ç”µè„‘è§’åº¦IOæ“ä½œï¼šCPUã€å†…å­˜ä¸å…¶ä»–è®¾å¤‡ä¹‹é—´æ•°æ®è½¬ç§»è¿‡ç¨‹å°±æ˜¯IOæ“ä½œï¼Œä¾‹å¦‚æ•°æ®ä»ç£ç›˜è¯»åˆ°å†…å­˜ï¼Œæˆ–è€…å†…å­˜å†™åˆ°ç£ç›˜
>
> ç¼–ç¨‹è§’åº¦IOæ“ä½œï¼šè¿›ç¨‹è¯»å–æ•°æ®æ“ä½œ



- å®ä»»åŠ¡ï¼š

```
æ•´ä½“ä»£ç ï¼ˆscriptï¼‰
å®šæ—¶å™¨ï¼ˆsetTimeoutã€setIntervalï¼‰
I/Oæ“ä½œï¼ˆDOMäº‹ä»¶ã€AJAXå¼‚æ­¥è¯·æ±‚ï¼‰

setImmediateï¼ˆnodeç¯å¢ƒï¼‰
requestAnimationFrameï¼ˆæµè§ˆå™¨ç¯å¢ƒï¼‰
```

- å¾®ä»»åŠ¡

```
Promise.then catch finally
async/awaitï¼ˆåº•å±‚è¿˜æ˜¯promiseï¼‰
process.nextTickï¼ˆnodeç¯å¢ƒï¼‰ 
MutationObserverï¼ˆæµè§ˆå™¨ç¯å¢ƒï¼‰
```





## ğŸŒŸ ã€äº‹ä»¶å¾ªç¯ã€‘è¯´å‡ºå…ˆæ‰§è¡Œå®ä»»åŠ¡è¿˜æ˜¯å¾®ä»»åŠ¡

ç®—æ•´ä½“ä»£ç scriptï¼š1å®nå¾®

ä¸ç®—æ•´ä½“ä»£ç scriptï¼šå…ˆnå¾®ï¼Œå†1å® ->  nå¾®ï¼Œå†1å®



## ğŸŒŸ ã€äº‹ä»¶å¾ªç¯ã€‘æµè§ˆå™¨å’Œnodeä¸­event loopåŒºåˆ«

æµè§ˆå™¨ï¼šä¸€ä¸ªå®èµ°å®Œæ¸…ç©ºæ‰€æœ‰å¾®ä»»åŠ¡

nodeï¼šä¸€ä¸ªé˜¶æ®µèµ°å®Œ  å†æ¸…ç©ºæ‰€æœ‰å¾®
